{"ast":null,"code":"import React,{useState}from\"react\";import{Form,Button}from\"semantic-ui-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const mnoLocationOptions=[{key:\"Cz\",text:\"Czech Republic\",value:\"Czech_Republic\"},{key:\"Gr\",text:\"Greece\",value:\"Greece\"},{key:\"Hg\",text:\"Hungary\",value:\"Hungary\"},{key:\"It\",text:\"Italy\",value:\"Italy\"},{key:\"Pt\",text:\"Portugal\",value:\"Portugal\"},{key:\"Rm\",text:\"Romania\",value:\"Romania\"},{key:\"Sp\",text:\"Spain\",value:\"Spain\"},{key:\"Uk\",text:\"United Kingdom\",value:\"United_Kingdom\"}];const mnoOptions=[{key:\"Ot\",text:\"One Telecommunications\",value:\"One Telecommunications\"},{key:\"Or\",text:\"Orange\",value:\"Orange\"},{key:\"Te\",text:\"Telefónica\",value:\"Telefónica\"},{key:\"Vd\",text:\"Vodafone\",value:\"Vodafone\"}];function EditUserForm(){// state for callBackUrl\nconst[formImages,setFormImages]=useState({profileImage:\"\",AuthCertificate:\"\"});const convertToBase64=file=>{return new Promise((resolve,reject)=>{const fileReader=new FileReader();fileReader.readAsDataURL(file);fileReader.onload=()=>{resolve(fileReader.result);};fileReader.onerror=error=>{reject(error);};});};const handleFileUpload=async e=>{const file=e.target.files[0];const name=e.target.name;const base64=await convertToBase64(file);setFormImages({...formImages,[name]:base64});};// const handleFileUpload = (evt) => {\n//   let files = evt.target.files;\n//   let name = evt.target.name;\n//   let reader = new FileReader();\n//   reader.readAsDataURL(files[0]);\n//   reader.onload = (e) => {\n//     setFormImages({ ...formImages, [name]: e.target.result });\n//     console.log(formImages)\n//   };\n// };\nconst[authType,setAuthType]=useState(\"\");const[values,setValues]=useState({type:\"\",targetEmailAddress:\"\",targetPhoneNumber:\"\",targetFirstName:\"\",targetLastName:\"\",targetApiKeyDuration:\"\",targetMnoLocation:\"\",targetCallBackAuth:\"\",targetMno:\"\",targetMfa:\"\",targetCallBackUrl:\"\"});const createUserData=data=>{let dataMfa=data.targetMfa===\"yes\"?true:false;switch(data.type){case\"apiKey\":return{type:\"apiKey\",targetEmailAddress:data.targetEmailAddress,targetPhoneNumber:data.targetPhoneNumber,targetFirstName:data.targetFirstName,targetLastName:data.targetLastName,targetApiKeyDuration:data.targetApiKeyDuration,targetMnoLocation:data.targetMnoLocation,targetCallBackAuth:data.AuthApi,targetMno:data.targetMno,targetMfa:dataMfa,targetCallBackUrl:data.targetCallBackUrl};case\"basicAuth\":return{type:\"basicAuth\",targetEmailAddress:data.targetEmailAddress,targetPhoneNumber:data.targetPhoneNumber,targetFirstName:data.targetFirstName,targetLastName:data.targetLastName,targetApiKeyDuration:data.targetApiKeyDuration,targetMnoLocation:data.targetMnoLocation,targetCallBackAuth:{username:data.AuthUsername,password:data.AuthPassword},targetMno:data.targetMno,targetMfa:dataMfa,targetCallBackUrl:data.targetCallBackUrl};case\"privateCertificate\":return{type:\"privateCertificate\",targetEmailAddress:data.targetEmailAddress,targetPhoneNumber:data.targetPhoneNumber,targetFirstName:data.targetFirstName,targetLastName:data.targetLastName,targetApiKeyDuration:data.targetApiKeyDuration,targetMnoLocation:data.targetMnoLocation,targetCallBackAuth:formImages.AuthCertificate,targetMno:data.targetMno,targetMfa:dataMfa,targetCallBackUrl:data.targetCallBackUrl};default:return null;}};const handleAuthType=(e,_ref)=>{let{value}=_ref;setAuthType(value);setValues({...values,type:value});};const handleSubmit=e=>{e.preventDefault();console.log(createUserData(values));};const handleChange=e=>{setValues({...values,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{widths:\"equal\",children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"First Name\",type:\"text\",name:\"targetFirstName\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Last Name\",type:\"text\",name:\"targetLastName\",onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(Form.Group,{widths:\"equal\",children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Email Address \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email address\",type:\"email\",name:\"targetEmailAddress\",onChange:handleChange,pattern:\"^[\\\\w.!#$%&'*+/=?^`{|}~-]+@[^_\\\\W]([a-z\\\\d-]{0,61}[^_\\\\W])?(\\\\.[^_\\\\W]([a-z\\\\d-]{0,61}[^_\\\\W])?)*$\",disabled:true})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Enable MFA?\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"enable mfa\",inline:\"true\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"targetMfa\",value:\"yes\",checked:values.targetMfa===\"yes\",id:\"mfa-yes\",onChange:handleChange}),\"Yes\"]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"enable mfa\",inline:\"true\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"targetMfa\",value:\"no\",checked:values.targetMfa===\"no\",id:\"mfa-no\",onChange:handleChange}),\"No\"]})]})]}),/*#__PURE__*/_jsxs(Form.Group,{widths:\"equal\",children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"Phone Number\",name:\"targetPhoneNumber\",pattern:\"^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\\\s\\\\./0-9]{8,14}$\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profile Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"profileImage\",accept:\"image/png, image/gif, image/jpeg\",onChange:e=>handleFileUpload(e)})]})]}),/*#__PURE__*/_jsxs(Form.Group,{widths:\"equal\",children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mnoOptions\",children:\" Select MNO... \"}),/*#__PURE__*/_jsx(\"select\",{name:\"targetMno\",id:\"mnoOptions\",onChange:handleChange,required:true,children:mnoOptions.map(_ref2=>{let{key,text,value}=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:value,children:text},key);})})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mnoLocation\",children:\" Select MNO location... \"}),/*#__PURE__*/_jsx(\"select\",{name:\"targetMnoLocation\",id:\"mnoLocation\",onChange:handleChange,required:true,children:mnoLocationOptions.map(_ref3=>{let{key,text,value}=_ref3;return/*#__PURE__*/_jsx(\"option\",{value:value,children:text},key);})})]})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Field,{width:11,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"callback\",children:\"Enter Callback URL:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"callback\",type:\"text\",placeholder:\"https://www.\",name:\"targetCallBackUrl\",onChange:handleChange,pattern:\"https?:\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{1,256}\\\\.[a-zA-Z0-9()]{1,6}\\\\b([-a-zA-Z0-9()@:%_\\\\+.~#?&//=]*)\",required:true})]}),/*#__PURE__*/_jsxs(Form.Field,{width:3,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"API Key Duration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"90\",onChange:handleChange,placeholder:\"Enter API Key Duration\",name:\"targetApiKeyDuration\",required:true}),/*#__PURE__*/_jsx(\"span\",{inline:\"true\",children:\"Days\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{inline:true,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Select Callback Auth Type\"}),/*#__PURE__*/_jsx(Form.Radio,{label:\"Api key\",value:\"apiKey\",checked:authType===\"apiKey\",onChange:handleAuthType,name:\"type\"}),/*#__PURE__*/_jsx(Form.Radio,{label:\"Basic Auth\",value:\"basicAuth\",checked:authType===\"basicAuth\",onChange:handleAuthType,name:\"type\"}),/*#__PURE__*/_jsx(Form.Radio,{label:\"Private certificate\",value:\"privateCertificate\",checked:authType===\"privateCertificate\",onChange:handleAuthType,name:\"type\"})]}),(()=>{switch(authType){case\"apiKey\":return/*#__PURE__*/_jsx(Form.Group,{widths:\"equal\",children:/*#__PURE__*/_jsx(Form.Input,{fluid:true,label:\"Auth Credential Content\",placeholder:\"Auth Credential Content\",name:\"AuthApi\",required:true})});case\"basicAuth\":return/*#__PURE__*/_jsxs(Form.Group,{widths:\"equal\",children:[/*#__PURE__*/_jsxs(Form.Field,{fluid:\"true\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Auth username\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Auth username\",type:\"text\",name:\"AuthUsername\",required:true,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Field,{fluid:\"true\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Auth password\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Last Name\",type:\"password\",name:\"AuthPassword\",required:true,onChange:handleChange})]})]});case\"privateCertificate\":return/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload private certificate\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"AuthCertificate\",accept:\"text/*\",required:true,onChange:e=>handleFileUpload(e)})]});default:return null;}})()]})});}export default EditUserForm;","map":{"version":3,"sources":["/home/daniyal/Downloads/vap-webapp (1)/vap-webapp/web-content/static-asset-uploader/src/componentsNew/EditUserForm/index.js"],"names":["React","useState","Form","Button","mnoLocationOptions","key","text","value","mnoOptions","EditUserForm","formImages","setFormImages","profileImage","AuthCertificate","convertToBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","handleFileUpload","e","target","files","name","base64","authType","setAuthType","values","setValues","type","targetEmailAddress","targetPhoneNumber","targetFirstName","targetLastName","targetApiKeyDuration","targetMnoLocation","targetCallBackAuth","targetMno","targetMfa","targetCallBackUrl","createUserData","data","dataMfa","AuthApi","username","AuthUsername","password","AuthPassword","handleAuthType","handleSubmit","preventDefault","console","log","handleChange","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { Form, Button } from \"semantic-ui-react\"\n\nconst mnoLocationOptions = [\n  { key: \"Cz\", text: \"Czech Republic\", value: \"Czech_Republic\" },\n  { key: \"Gr\", text: \"Greece\", value: \"Greece\" },\n  { key: \"Hg\", text: \"Hungary\", value: \"Hungary\" },\n  { key: \"It\", text: \"Italy\", value: \"Italy\" },\n  { key: \"Pt\", text: \"Portugal\", value: \"Portugal\" },\n  { key: \"Rm\", text: \"Romania\", value: \"Romania\" },\n  { key: \"Sp\", text: \"Spain\", value: \"Spain\" },\n  { key: \"Uk\", text: \"United Kingdom\", value: \"United_Kingdom\" },\n]\n\nconst mnoOptions = [\n  {\n    key: \"Ot\",\n    text: \"One Telecommunications\",\n    value: \"One Telecommunications\",\n  },\n  { key: \"Or\", text: \"Orange\", value: \"Orange\" },\n  { key: \"Te\", text: \"Telefónica\", value: \"Telefónica\" },\n  { key: \"Vd\", text: \"Vodafone\", value: \"Vodafone\" },\n]\n\nfunction EditUserForm() {\n  // state for callBackUrl\n  const [formImages, setFormImages] = useState({\n    profileImage: \"\",\n    AuthCertificate: \"\",\n  })\n  const convertToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader()\n      fileReader.readAsDataURL(file)\n      fileReader.onload = () => {\n        resolve(fileReader.result)\n      }\n      fileReader.onerror = (error) => {\n        reject(error)\n      }\n    })\n  }\n\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0]\n    const name = e.target.name\n    const base64 = await convertToBase64(file)\n    setFormImages({ ...formImages, [name]: base64 })\n  }\n  // const handleFileUpload = (evt) => {\n  //   let files = evt.target.files;\n  //   let name = evt.target.name;\n  //   let reader = new FileReader();\n  //   reader.readAsDataURL(files[0]);\n\n  //   reader.onload = (e) => {\n  //     setFormImages({ ...formImages, [name]: e.target.result });\n  //     console.log(formImages)\n  //   };\n  // };\n  const [authType, setAuthType] = useState(\"\")\n  const [values, setValues] = useState({\n    type: \"\",\n    targetEmailAddress: \"\",\n    targetPhoneNumber: \"\",\n    targetFirstName: \"\",\n    targetLastName: \"\",\n    targetApiKeyDuration: \"\",\n    targetMnoLocation: \"\",\n    targetCallBackAuth: \"\",\n    targetMno: \"\",\n    targetMfa: \"\",\n    targetCallBackUrl: \"\",\n  })\n  const createUserData = (data) => {\n    let dataMfa = data.targetMfa === \"yes\" ? true : false\n    switch (data.type) {\n      case \"apiKey\":\n        return {\n          type: \"apiKey\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: data.AuthApi,\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        }\n      case \"basicAuth\":\n        return {\n          type: \"basicAuth\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: {\n            username: data.AuthUsername,\n            password: data.AuthPassword,\n          },\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        }\n      case \"privateCertificate\":\n        return {\n          type: \"privateCertificate\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: formImages.AuthCertificate,\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        }\n      default:\n        return null\n    }\n  }\n  const handleAuthType = (e, { value }) => {\n    setAuthType(value)\n    setValues({ ...values, type: value })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    console.log(createUserData(values))\n  }\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value })\n  }\n  return (\n    <div>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label>First Name</label>\n            <input\n              placeholder=\"First Name\"\n              type=\"text\"\n              name=\"targetFirstName\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Last Name</label>\n            <input\n              placeholder=\"Last Name\"\n              type=\"text\"\n              name=\"targetLastName\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n        </Form.Group>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label> Email Address </label>\n            <input\n              placeholder=\"Email address\"\n              type=\"email\"\n              name=\"targetEmailAddress\"\n              onChange={handleChange}\n              pattern=\"^[\\w.!#$%&'*+/=?^`{|}~-]+@[^_\\W]([a-z\\d-]{0,61}[^_\\W])?(\\.[^_\\W]([a-z\\d-]{0,61}[^_\\W])?)*$\"\n              disabled\n            />\n          </Form.Field>\n          <Form.Field>\n            <label> Enable MFA?</label>\n            <label htmlFor=\"enable mfa\" inline=\"true\">\n              <input\n                type=\"radio\"\n                name=\"targetMfa\"\n                value=\"yes\"\n                checked={values.targetMfa === \"yes\"}\n                id=\"mfa-yes\"\n                onChange={handleChange}\n              />\n              Yes\n            </label>\n            <label htmlFor=\"enable mfa\" inline=\"true\">\n              <input\n                type=\"radio\"\n                name=\"targetMfa\"\n                value=\"no\"\n                checked={values.targetMfa === \"no\"}\n                id=\"mfa-no\"\n                onChange={handleChange}\n              />\n              No\n            </label>\n          </Form.Field>\n        </Form.Group>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label> Phone Number</label>\n            <input\n              type=\"tel\"\n              placeholder=\"Phone Number\"\n              name=\"targetPhoneNumber\"\n              pattern=\"^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\s\\./0-9]{8,14}$\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Profile Image</label>\n            <input\n              type=\"file\"\n              name=\"profileImage\"\n              accept=\"image/png, image/gif, image/jpeg\"\n              onChange={(e) => handleFileUpload(e)}\n            />\n          </Form.Field>\n        </Form.Group>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label htmlFor=\"mnoOptions\"> Select MNO... </label>\n            <select\n              name=\"targetMno\"\n              id=\"mnoOptions\"\n              onChange={handleChange}\n              required\n            >\n              {mnoOptions.map(({ key, text, value }) => (\n                <option key={key} value={value}>\n                  {text}\n                </option>\n              ))}\n            </select>\n          </Form.Field>\n\n          <Form.Field>\n            <label htmlFor=\"mnoLocation\"> Select MNO location... </label>\n            <select\n              name=\"targetMnoLocation\"\n              id=\"mnoLocation\"\n              onChange={handleChange}\n              required\n            >\n              {mnoLocationOptions.map(({ key, text, value }) => (\n                <option key={key} value={value}>\n                  {text}\n                </option>\n              ))}\n            </select>\n          </Form.Field>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Field width={11}>\n            <label htmlFor=\"callback\">Enter Callback URL:</label>\n            <input\n              id=\"callback\"\n              type=\"text\"\n              placeholder=\"https://www.\"\n              name=\"targetCallBackUrl\"\n              onChange={handleChange}\n              pattern=\"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\"\n              required\n            />\n          </Form.Field>\n          <Form.Field width={3}>\n            <label htmlFor=\"\">API Key Duration</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              max=\"90\"\n              onChange={handleChange}\n              placeholder=\"Enter API Key Duration\"\n              name=\"targetApiKeyDuration\"\n              required\n            />\n            <span inline=\"true\">Days</span>\n          </Form.Field>\n        </Form.Group>\n        <Form.Group inline>\n          <label> Select Callback Auth Type</label>\n          <Form.Radio\n            label=\"Api key\"\n            value=\"apiKey\"\n            checked={authType === \"apiKey\"}\n            onChange={handleAuthType}\n            name=\"type\"\n          />\n          <Form.Radio\n            label=\"Basic Auth\"\n            value=\"basicAuth\"\n            checked={authType === \"basicAuth\"}\n            onChange={handleAuthType}\n            name=\"type\"\n          />\n          <Form.Radio\n            label=\"Private certificate\"\n            value=\"privateCertificate\"\n            checked={authType === \"privateCertificate\"}\n            onChange={handleAuthType}\n            name=\"type\"\n          />\n        </Form.Group>\n        {(() => {\n          switch (authType) {\n            case \"apiKey\":\n              return (\n                <Form.Group widths=\"equal\">\n                  <Form.Input\n                    fluid\n                    label=\"Auth Credential Content\"\n                    placeholder=\"Auth Credential Content\"\n                    name=\"AuthApi\"\n                    required\n                  />\n                </Form.Group>\n              )\n            case \"basicAuth\":\n              return (\n                <Form.Group widths=\"equal\">\n                  <Form.Field fluid=\"true\">\n                    <label>Auth username</label>\n                    <input\n                      placeholder=\"Auth username\"\n                      type=\"text\"\n                      name=\"AuthUsername\"\n                      required\n                      onChange={handleChange}\n                    />\n                  </Form.Field>\n\n                  <Form.Field fluid=\"true\">\n                    <label>Auth password</label>\n                    <input\n                      placeholder=\"Last Name\"\n                      type=\"password\"\n                      name=\"AuthPassword\"\n                      required\n                      onChange={handleChange}\n                    />\n                  </Form.Field>\n                </Form.Group>\n              )\n            case \"privateCertificate\":\n              return (\n                <Form.Field>\n                  <label>Upload private certificate</label>\n                  <input\n                    type=\"file\"\n                    name=\"AuthCertificate\"\n                    accept=\"text/*\"\n                    required\n                    onChange={(e) => handleFileUpload(e)}\n                  />\n                </Form.Field>\n              )\n            default:\n              return null\n          }\n        })()}\n        {/* <Button positive type=\"submit\">\n          Submit\n        </Button> */}\n      </Form>\n    </div>\n  )\n}\n\nexport default EditUserForm\n"]},"metadata":{},"sourceType":"module"}