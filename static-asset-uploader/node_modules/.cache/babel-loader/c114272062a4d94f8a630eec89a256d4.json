{"ast":null,"code":"import _typeof from \"@babel/runtime-corejs3/helpers/typeof\";\nimport _toConsumableArray from \"@babel/runtime-corejs3/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime-corejs3/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs3/helpers/objectSpread2\";\nimport _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";\nimport _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _Object$keys from \"@babel/runtime-corejs3/core-js-stable/object/keys\";\nimport _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";\nimport _filterInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/filter\";\nimport * as jsonPatch from 'fast-json-patch';\nimport deepExtend from 'deep-extend';\nimport cloneDeep from 'lodash/cloneDeep';\nexport default {\n  add: add,\n  replace: replace,\n  remove: remove,\n  merge: merge,\n  mergeDeep: mergeDeep,\n  context: context,\n  getIn: getIn,\n  applyPatch: applyPatch,\n  parentPathMatch: parentPathMatch,\n  flatten: flatten,\n  fullyNormalizeArray: fullyNormalizeArray,\n  normalizeArray: normalizeArray,\n  isPromise: isPromise,\n  forEachNew: forEachNew,\n  forEachNewPrimitive: forEachNewPrimitive,\n  isJsonPatch: isJsonPatch,\n  isContextPatch: isContextPatch,\n  isPatch: isPatch,\n  isMutation: isMutation,\n  isAdditiveMutation: isAdditiveMutation,\n  isGenerator: isGenerator,\n  isFunction: isFunction,\n  isObject: isObject,\n  isError: isError\n};\n\nfunction applyPatch(obj, patch, opts) {\n  opts = opts || {};\n  patch = _objectSpread(_objectSpread({}, patch), {}, {\n    path: patch.path && normalizeJSONPath(patch.path)\n  });\n\n  if (patch.op === 'merge') {\n    var newValue = getInByJsonPath(obj, patch.path);\n\n    _Object$assign(newValue, patch.value);\n\n    jsonPatch.applyPatch(obj, [replace(patch.path, newValue)]);\n  } else if (patch.op === 'mergeDeep') {\n    var currentValue = getInByJsonPath(obj, patch.path); // Iterate the properties of the patch\n    // eslint-disable-next-line no-restricted-syntax, guard-for-in\n\n    for (var prop in patch.value) {\n      var propVal = patch.value[prop];\n      var isArray = Array.isArray(propVal);\n\n      if (isArray) {\n        // deepExtend doesn't merge arrays, so we will do it manually\n        var existing = currentValue[prop] || [];\n        currentValue[prop] = _concatInstanceProperty(existing).call(existing, propVal);\n      } else if (isObject(propVal) && !isArray) {\n        // If it's an object, iterate it's keys and merge\n        // if there are conflicting keys, merge deep, otherwise shallow merge\n        var currentObj = _objectSpread({}, currentValue[prop]); // eslint-disable-next-line no-restricted-syntax\n\n\n        for (var key in propVal) {\n          if (Object.prototype.hasOwnProperty.call(currentObj, key)) {\n            // if there is a single conflicting key, just deepExtend the entire value\n            // and break from the loop (since all future keys are also merged)\n            // We do this because we can't deepExtend two primitives\n            // (currentObj[key] & propVal[key] may be primitives).\n            //\n            // we also deeply assign here, since we aren't in control of\n            // how deepExtend affects existing nested objects\n            currentObj = deepExtend(cloneDeep(currentObj), propVal);\n            break;\n          } else {\n            _Object$assign(currentObj, _defineProperty({}, key, propVal[key]));\n          }\n        }\n\n        currentValue[prop] = currentObj;\n      } else {\n        // It's a primitive, just replace existing\n        currentValue[prop] = propVal;\n      }\n    }\n  } else if (patch.op === 'add' && patch.path === '' && isObject(patch.value)) {\n    // { op: 'add', path: '', value: { a: 1, b: 2 }}\n    // has no effect: json patch refuses to do anything.\n    // so let's break that patch down into a set of patches,\n    // one for each key in the intended root value.\n    var patches = _Object$keys(patch.value).reduce(function (arr, key) {\n      arr.push({\n        op: 'add',\n        path: \"/\".concat(normalizeJSONPath(key)),\n        value: patch.value[key]\n      });\n      return arr;\n    }, []);\n\n    jsonPatch.applyPatch(obj, patches);\n  } else if (patch.op === 'replace' && patch.path === '') {\n    var _patch = patch,\n        value = _patch.value;\n\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (Array.isArray(patch.value) || isObject(patch.value))) {\n      value = _objectSpread(_objectSpread({}, value), patch.meta);\n    }\n\n    obj = value;\n  } else {\n    jsonPatch.applyPatch(obj, [patch]); // Attach metadata to the resulting value.\n\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (Array.isArray(patch.value) || isObject(patch.value))) {\n      var _currentValue = getInByJsonPath(obj, patch.path);\n\n      var _newValue = _objectSpread(_objectSpread({}, _currentValue), patch.meta);\n\n      jsonPatch.applyPatch(obj, [replace(patch.path, _newValue)]);\n    }\n  }\n\n  return obj;\n}\n\nfunction normalizeJSONPath(path) {\n  if (Array.isArray(path)) {\n    if (path.length < 1) {\n      return '';\n    }\n\n    return \"/\".concat(_mapInstanceProperty(path).call(path, function (item) {\n      return (// eslint-disable-line prefer-template\n        (item + '').replace(/~/g, '~0').replace(/\\//g, '~1')\n      );\n    } // eslint-disable-line prefer-template\n    ).join('/'));\n  }\n\n  return path;\n} // =========================\n// JSON-Patch Wrappers\n// =========================\n\n\nfunction add(path, value) {\n  return {\n    op: 'add',\n    path: path,\n    value: value\n  };\n} // function _get(path) {\n//   return { op: '_get', path };\n// }\n\n\nfunction replace(path, value, meta) {\n  return {\n    op: 'replace',\n    path: path,\n    value: value,\n    meta: meta\n  };\n}\n\nfunction remove(path) {\n  return {\n    op: 'remove',\n    path: path\n  };\n} // Custom wrappers\n\n\nfunction merge(path, value) {\n  return {\n    type: 'mutation',\n    op: 'merge',\n    path: path,\n    value: value\n  };\n} // Custom wrappers\n\n\nfunction mergeDeep(path, value) {\n  return {\n    type: 'mutation',\n    op: 'mergeDeep',\n    path: path,\n    value: value\n  };\n}\n\nfunction context(path, value) {\n  return {\n    type: 'context',\n    path: path,\n    value: value\n  };\n} // =========================\n// Iterators\n// =========================\n\n\nfunction forEachNew(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEach, fn);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction forEachNewPrimitive(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEachPrimitive, fn);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction forEachNewPatch(mutations, fn, callback) {\n  var _context;\n\n  var res = _mapInstanceProperty(_context = _filterInstanceProperty(mutations).call(mutations, isAdditiveMutation)).call(_context, function (mutation) {\n    return fn(mutation.value, callback, mutation.path);\n  }) || [];\n  var flat = flatten(res);\n  var clean = cleanArray(flat);\n  return clean;\n}\n\nfunction forEachPrimitive(obj, fn, basePath) {\n  basePath = basePath || [];\n\n  if (Array.isArray(obj)) {\n    return _mapInstanceProperty(obj).call(obj, function (val, key) {\n      return forEachPrimitive(val, fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n  }\n\n  if (isObject(obj)) {\n    var _context2;\n\n    return _mapInstanceProperty(_context2 = _Object$keys(obj)).call(_context2, function (key) {\n      return forEachPrimitive(obj[key], fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n  }\n\n  return fn(obj, basePath[basePath.length - 1], basePath);\n}\n\nfunction forEach(obj, fn, basePath) {\n  basePath = basePath || [];\n  var results = [];\n\n  if (basePath.length > 0) {\n    var newResults = fn(obj, basePath[basePath.length - 1], basePath);\n\n    if (newResults) {\n      results = _concatInstanceProperty(results).call(results, newResults);\n    }\n  }\n\n  if (Array.isArray(obj)) {\n    var arrayResults = _mapInstanceProperty(obj).call(obj, function (val, key) {\n      return forEach(val, fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n\n    if (arrayResults) {\n      results = _concatInstanceProperty(results).call(results, arrayResults);\n    }\n  } else if (isObject(obj)) {\n    var _context3;\n\n    var moreResults = _mapInstanceProperty(_context3 = _Object$keys(obj)).call(_context3, function (key) {\n      return forEach(obj[key], fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n\n    if (moreResults) {\n      results = _concatInstanceProperty(results).call(results, moreResults);\n    }\n  }\n\n  results = flatten(results);\n  return results;\n} // =========================\n// Paths\n// =========================\n\n\nfunction parentPathMatch(path, arr) {\n  if (!Array.isArray(arr)) {\n    return false;\n  }\n\n  for (var i = 0, len = arr.length; i < len; i += 1) {\n    if (arr[i] !== path[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getIn(obj, path) {\n  return path.reduce(function (val, token) {\n    if (typeof token !== 'undefined' && val) {\n      return val[token];\n    }\n\n    return val;\n  }, obj);\n} // =========================\n// Array\n// =========================\n\n\nfunction fullyNormalizeArray(arr) {\n  return cleanArray(flatten(normalizeArray(arr)));\n}\n\nfunction normalizeArray(arr) {\n  return Array.isArray(arr) ? arr : [arr];\n}\n\nfunction flatten(arr) {\n  var _ref;\n\n  return _concatInstanceProperty(_ref = []).apply(_ref, _toConsumableArray(_mapInstanceProperty(arr).call(arr, function (val) {\n    return Array.isArray(val) ? flatten(val) : val;\n  })));\n}\n\nfunction cleanArray(arr) {\n  return _filterInstanceProperty(arr).call(arr, function (elm) {\n    return typeof elm !== 'undefined';\n  });\n} // =========================\n// Is-Thing.\n// =========================\n\n\nfunction isObject(val) {\n  return val && _typeof(val) === 'object';\n}\n\nfunction isPromise(val) {\n  return isObject(val) && isFunction(val.then);\n}\n\nfunction isFunction(val) {\n  return val && typeof val === 'function';\n}\n\nfunction isError(patch) {\n  return patch instanceof Error;\n}\n\nfunction isJsonPatch(patch) {\n  if (isPatch(patch)) {\n    var op = patch.op;\n    return op === 'add' || op === 'remove' || op === 'replace';\n  }\n\n  return false;\n}\n\nfunction isGenerator(thing) {\n  return Object.prototype.toString.call(thing) === '[object GeneratorFunction]';\n}\n\nfunction isMutation(patch) {\n  return isJsonPatch(patch) || isPatch(patch) && patch.type === 'mutation';\n}\n\nfunction isAdditiveMutation(patch) {\n  return isMutation(patch) && (patch.op === 'add' || patch.op === 'replace' || patch.op === 'merge' || patch.op === 'mergeDeep');\n}\n\nfunction isContextPatch(patch) {\n  return isPatch(patch) && patch.type === 'context';\n}\n\nfunction isPatch(patch) {\n  return patch && _typeof(patch) === 'object';\n}\n\nfunction getInByJsonPath(obj, jsonPath) {\n  try {\n    return jsonPatch.getValueByPointer(obj, jsonPath);\n  } catch (e) {\n    console.error(e); // eslint-disable-line no-console\n\n    return {};\n  }\n}","map":{"version":3,"sources":["/home/daniyal/Downloads/vap-webapp (1)/vap-webapp/web-content/static-asset-uploader/node_modules/swagger-client/es/specmap/lib/index.js"],"names":["_typeof","_toConsumableArray","_defineProperty","_objectSpread","_Object$assign","_concatInstanceProperty","_Object$keys","_mapInstanceProperty","_filterInstanceProperty","jsonPatch","deepExtend","cloneDeep","add","replace","remove","merge","mergeDeep","context","getIn","applyPatch","parentPathMatch","flatten","fullyNormalizeArray","normalizeArray","isPromise","forEachNew","forEachNewPrimitive","isJsonPatch","isContextPatch","isPatch","isMutation","isAdditiveMutation","isGenerator","isFunction","isObject","isError","obj","patch","opts","path","normalizeJSONPath","op","newValue","getInByJsonPath","value","currentValue","prop","propVal","isArray","Array","existing","call","currentObj","key","Object","prototype","hasOwnProperty","patches","reduce","arr","push","concat","_patch","allowMetaPatches","meta","_currentValue","_newValue","length","item","join","type","mutations","fn","forEachNewPatch","forEach","e","forEachPrimitive","callback","_context","res","mutation","flat","clean","cleanArray","basePath","val","_context2","results","newResults","arrayResults","_context3","moreResults","i","len","token","_ref","apply","elm","then","Error","thing","toString","jsonPath","getValueByPointer","console","error"],"mappings":"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","sourcesContent":["import _typeof from \"@babel/runtime-corejs3/helpers/typeof\";\nimport _toConsumableArray from \"@babel/runtime-corejs3/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime-corejs3/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs3/helpers/objectSpread2\";\nimport _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";\nimport _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _Object$keys from \"@babel/runtime-corejs3/core-js-stable/object/keys\";\nimport _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";\nimport _filterInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/filter\";\nimport * as jsonPatch from 'fast-json-patch';\nimport deepExtend from 'deep-extend';\nimport cloneDeep from 'lodash/cloneDeep';\nexport default {\n  add: add,\n  replace: replace,\n  remove: remove,\n  merge: merge,\n  mergeDeep: mergeDeep,\n  context: context,\n  getIn: getIn,\n  applyPatch: applyPatch,\n  parentPathMatch: parentPathMatch,\n  flatten: flatten,\n  fullyNormalizeArray: fullyNormalizeArray,\n  normalizeArray: normalizeArray,\n  isPromise: isPromise,\n  forEachNew: forEachNew,\n  forEachNewPrimitive: forEachNewPrimitive,\n  isJsonPatch: isJsonPatch,\n  isContextPatch: isContextPatch,\n  isPatch: isPatch,\n  isMutation: isMutation,\n  isAdditiveMutation: isAdditiveMutation,\n  isGenerator: isGenerator,\n  isFunction: isFunction,\n  isObject: isObject,\n  isError: isError\n};\n\nfunction applyPatch(obj, patch, opts) {\n  opts = opts || {};\n  patch = _objectSpread(_objectSpread({}, patch), {}, {\n    path: patch.path && normalizeJSONPath(patch.path)\n  });\n\n  if (patch.op === 'merge') {\n    var newValue = getInByJsonPath(obj, patch.path);\n\n    _Object$assign(newValue, patch.value);\n\n    jsonPatch.applyPatch(obj, [replace(patch.path, newValue)]);\n  } else if (patch.op === 'mergeDeep') {\n    var currentValue = getInByJsonPath(obj, patch.path); // Iterate the properties of the patch\n    // eslint-disable-next-line no-restricted-syntax, guard-for-in\n\n    for (var prop in patch.value) {\n      var propVal = patch.value[prop];\n      var isArray = Array.isArray(propVal);\n\n      if (isArray) {\n        // deepExtend doesn't merge arrays, so we will do it manually\n        var existing = currentValue[prop] || [];\n        currentValue[prop] = _concatInstanceProperty(existing).call(existing, propVal);\n      } else if (isObject(propVal) && !isArray) {\n        // If it's an object, iterate it's keys and merge\n        // if there are conflicting keys, merge deep, otherwise shallow merge\n        var currentObj = _objectSpread({}, currentValue[prop]); // eslint-disable-next-line no-restricted-syntax\n\n\n        for (var key in propVal) {\n          if (Object.prototype.hasOwnProperty.call(currentObj, key)) {\n            // if there is a single conflicting key, just deepExtend the entire value\n            // and break from the loop (since all future keys are also merged)\n            // We do this because we can't deepExtend two primitives\n            // (currentObj[key] & propVal[key] may be primitives).\n            //\n            // we also deeply assign here, since we aren't in control of\n            // how deepExtend affects existing nested objects\n            currentObj = deepExtend(cloneDeep(currentObj), propVal);\n            break;\n          } else {\n            _Object$assign(currentObj, _defineProperty({}, key, propVal[key]));\n          }\n        }\n\n        currentValue[prop] = currentObj;\n      } else {\n        // It's a primitive, just replace existing\n        currentValue[prop] = propVal;\n      }\n    }\n  } else if (patch.op === 'add' && patch.path === '' && isObject(patch.value)) {\n    // { op: 'add', path: '', value: { a: 1, b: 2 }}\n    // has no effect: json patch refuses to do anything.\n    // so let's break that patch down into a set of patches,\n    // one for each key in the intended root value.\n    var patches = _Object$keys(patch.value).reduce(function (arr, key) {\n      arr.push({\n        op: 'add',\n        path: \"/\".concat(normalizeJSONPath(key)),\n        value: patch.value[key]\n      });\n      return arr;\n    }, []);\n\n    jsonPatch.applyPatch(obj, patches);\n  } else if (patch.op === 'replace' && patch.path === '') {\n    var _patch = patch,\n        value = _patch.value;\n\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (Array.isArray(patch.value) || isObject(patch.value))) {\n      value = _objectSpread(_objectSpread({}, value), patch.meta);\n    }\n\n    obj = value;\n  } else {\n    jsonPatch.applyPatch(obj, [patch]); // Attach metadata to the resulting value.\n\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (Array.isArray(patch.value) || isObject(patch.value))) {\n      var _currentValue = getInByJsonPath(obj, patch.path);\n\n      var _newValue = _objectSpread(_objectSpread({}, _currentValue), patch.meta);\n\n      jsonPatch.applyPatch(obj, [replace(patch.path, _newValue)]);\n    }\n  }\n\n  return obj;\n}\n\nfunction normalizeJSONPath(path) {\n  if (Array.isArray(path)) {\n    if (path.length < 1) {\n      return '';\n    }\n\n    return \"/\".concat(_mapInstanceProperty(path).call(path, function (item) {\n      return (// eslint-disable-line prefer-template\n        (item + '').replace(/~/g, '~0').replace(/\\//g, '~1')\n      );\n    } // eslint-disable-line prefer-template\n    ).join('/'));\n  }\n\n  return path;\n} // =========================\n// JSON-Patch Wrappers\n// =========================\n\n\nfunction add(path, value) {\n  return {\n    op: 'add',\n    path: path,\n    value: value\n  };\n} // function _get(path) {\n//   return { op: '_get', path };\n// }\n\n\nfunction replace(path, value, meta) {\n  return {\n    op: 'replace',\n    path: path,\n    value: value,\n    meta: meta\n  };\n}\n\nfunction remove(path) {\n  return {\n    op: 'remove',\n    path: path\n  };\n} // Custom wrappers\n\n\nfunction merge(path, value) {\n  return {\n    type: 'mutation',\n    op: 'merge',\n    path: path,\n    value: value\n  };\n} // Custom wrappers\n\n\nfunction mergeDeep(path, value) {\n  return {\n    type: 'mutation',\n    op: 'mergeDeep',\n    path: path,\n    value: value\n  };\n}\n\nfunction context(path, value) {\n  return {\n    type: 'context',\n    path: path,\n    value: value\n  };\n} // =========================\n// Iterators\n// =========================\n\n\nfunction forEachNew(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEach, fn);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction forEachNewPrimitive(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEachPrimitive, fn);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction forEachNewPatch(mutations, fn, callback) {\n  var _context;\n\n  var res = _mapInstanceProperty(_context = _filterInstanceProperty(mutations).call(mutations, isAdditiveMutation)).call(_context, function (mutation) {\n    return fn(mutation.value, callback, mutation.path);\n  }) || [];\n  var flat = flatten(res);\n  var clean = cleanArray(flat);\n  return clean;\n}\n\nfunction forEachPrimitive(obj, fn, basePath) {\n  basePath = basePath || [];\n\n  if (Array.isArray(obj)) {\n    return _mapInstanceProperty(obj).call(obj, function (val, key) {\n      return forEachPrimitive(val, fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n  }\n\n  if (isObject(obj)) {\n    var _context2;\n\n    return _mapInstanceProperty(_context2 = _Object$keys(obj)).call(_context2, function (key) {\n      return forEachPrimitive(obj[key], fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n  }\n\n  return fn(obj, basePath[basePath.length - 1], basePath);\n}\n\nfunction forEach(obj, fn, basePath) {\n  basePath = basePath || [];\n  var results = [];\n\n  if (basePath.length > 0) {\n    var newResults = fn(obj, basePath[basePath.length - 1], basePath);\n\n    if (newResults) {\n      results = _concatInstanceProperty(results).call(results, newResults);\n    }\n  }\n\n  if (Array.isArray(obj)) {\n    var arrayResults = _mapInstanceProperty(obj).call(obj, function (val, key) {\n      return forEach(val, fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n\n    if (arrayResults) {\n      results = _concatInstanceProperty(results).call(results, arrayResults);\n    }\n  } else if (isObject(obj)) {\n    var _context3;\n\n    var moreResults = _mapInstanceProperty(_context3 = _Object$keys(obj)).call(_context3, function (key) {\n      return forEach(obj[key], fn, _concatInstanceProperty(basePath).call(basePath, key));\n    });\n\n    if (moreResults) {\n      results = _concatInstanceProperty(results).call(results, moreResults);\n    }\n  }\n\n  results = flatten(results);\n  return results;\n} // =========================\n// Paths\n// =========================\n\n\nfunction parentPathMatch(path, arr) {\n  if (!Array.isArray(arr)) {\n    return false;\n  }\n\n  for (var i = 0, len = arr.length; i < len; i += 1) {\n    if (arr[i] !== path[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getIn(obj, path) {\n  return path.reduce(function (val, token) {\n    if (typeof token !== 'undefined' && val) {\n      return val[token];\n    }\n\n    return val;\n  }, obj);\n} // =========================\n// Array\n// =========================\n\n\nfunction fullyNormalizeArray(arr) {\n  return cleanArray(flatten(normalizeArray(arr)));\n}\n\nfunction normalizeArray(arr) {\n  return Array.isArray(arr) ? arr : [arr];\n}\n\nfunction flatten(arr) {\n  var _ref;\n\n  return _concatInstanceProperty(_ref = []).apply(_ref, _toConsumableArray(_mapInstanceProperty(arr).call(arr, function (val) {\n    return Array.isArray(val) ? flatten(val) : val;\n  })));\n}\n\nfunction cleanArray(arr) {\n  return _filterInstanceProperty(arr).call(arr, function (elm) {\n    return typeof elm !== 'undefined';\n  });\n} // =========================\n// Is-Thing.\n// =========================\n\n\nfunction isObject(val) {\n  return val && _typeof(val) === 'object';\n}\n\nfunction isPromise(val) {\n  return isObject(val) && isFunction(val.then);\n}\n\nfunction isFunction(val) {\n  return val && typeof val === 'function';\n}\n\nfunction isError(patch) {\n  return patch instanceof Error;\n}\n\nfunction isJsonPatch(patch) {\n  if (isPatch(patch)) {\n    var op = patch.op;\n    return op === 'add' || op === 'remove' || op === 'replace';\n  }\n\n  return false;\n}\n\nfunction isGenerator(thing) {\n  return Object.prototype.toString.call(thing) === '[object GeneratorFunction]';\n}\n\nfunction isMutation(patch) {\n  return isJsonPatch(patch) || isPatch(patch) && patch.type === 'mutation';\n}\n\nfunction isAdditiveMutation(patch) {\n  return isMutation(patch) && (patch.op === 'add' || patch.op === 'replace' || patch.op === 'merge' || patch.op === 'mergeDeep');\n}\n\nfunction isContextPatch(patch) {\n  return isPatch(patch) && patch.type === 'context';\n}\n\nfunction isPatch(patch) {\n  return patch && _typeof(patch) === 'object';\n}\n\nfunction getInByJsonPath(obj, jsonPath) {\n  try {\n    return jsonPatch.getValueByPointer(obj, jsonPath);\n  } catch (e) {\n    console.error(e); // eslint-disable-line no-console\n\n    return {};\n  }\n}"]},"metadata":{},"sourceType":"module"}