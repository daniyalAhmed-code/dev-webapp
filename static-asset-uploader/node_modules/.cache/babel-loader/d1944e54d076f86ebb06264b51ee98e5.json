{"ast":null,"code":"// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React,{useState}from'react';import ReactDOM from'react-dom';import{BrowserRouter,Route,Switch,Redirect}from'react-router-dom';import*as queryString from'query-string';// content-fragments\nimport{loadFragments}from'services/get-fragments';// semantic-ui\nimport'semantic-ui-css/semantic.css';// pages\nimport Home from'pages/Home';import GettingStarted from'pages/GettingStarted';import Dashboard from'pages/Dashboard';import Apis from'pages/Apis';import{Admin}from'pages/Admin';// components\nimport AlertPopup from'components/AlertPopup';import GlobalModal from'components/Modal';// import NavBar from 'components/NavBar'\nimport ApiSearch from'./components/ApiSearch';// New components\nimport NavBar from'./componentsNew/NavBar';import MobileNav from'./componentsNew/Sidebar';import ApiListItem from'./componentsNew/ApiListItem';import{isAdmin,isRegistered,init,login,logout}from'services/self';import'./index.css';import UserProfile from'pages/UserProfile';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";loadFragments();export const RegisteredRoute=_ref=>{let{component:Component,...rest}=_ref;return/*#__PURE__*/_jsx(Route,{...rest,render:props=>isRegistered()?/*#__PURE__*/_jsx(Component,{...props}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"})});};export const AdminRoute=_ref2=>{let{component:Component,...rest}=_ref2;return/*#__PURE__*/_jsx(Route,{...rest,render:props=>isAdmin()?/*#__PURE__*/_jsx(Component,{...props}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"})});};// To shut up a dev warning\nconst HomeWrap=props=>/*#__PURE__*/_jsx(Home,{...props});const GettingStartedWrap=props=>/*#__PURE__*/_jsx(GettingStarted,{...props});const DashboardWrap=props=>/*#__PURE__*/_jsx(Dashboard,{...props});const App=()=>{init();// We are using an S3 redirect rule to prefix the url path with #!\n// This then converts it back to a URL path for React routing\nif(window.location.hash&&window.location.hash[1]==='!'){const hashRoute=window.location.hash.substring(2);window.history.pushState({},'home page',hashRoute);}const[isOpen,setIsOpen]=useState(false);const toggle=()=>{setIsOpen(!isOpen);};return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MobileNav,{isOpen:isOpen,toggle:toggle}),/*#__PURE__*/_jsx(NavBar,{toggle:toggle}),/*#__PURE__*/_jsx(GlobalModal,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:HomeWrap}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/index.html\",component:()=>{const{action}=queryString.parse(window.location.search);if(action===\"login\"){login();}else if(action===\"logout\"){logout();}return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}),/*#__PURE__*/_jsx(Route,{path:\"/getting-started\",component:GettingStartedWrap}),/*#__PURE__*/_jsx(RegisteredRoute,{path:\"/dashboard\",component:DashboardWrap}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/admin\",component:Admin}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/apis\",component:Apis}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/products\",component:ApiListItem}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/apis/search\",component:ApiSearch}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/apis/:apiId\",component:Apis}),/*#__PURE__*/_jsx(Route,{path:\"/apis/:apiId/:stage\",component:Apis}),/*#__PURE__*/_jsx(Route,{path:\"/userProfile\",component:UserProfile}),/*#__PURE__*/_jsx(Route,{path:\"/login\",render:()=>{login();return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",render:()=>{logout();return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}),/*#__PURE__*/_jsx(Route,{component:()=>/*#__PURE__*/_jsx(\"h2\",{children:\"Page not found\"})})]}),/*#__PURE__*/_jsx(AlertPopup,{})]})});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));","map":{"version":3,"sources":["/home/daniyal/Downloads/vap-webapp (1)/vap-webapp/web-content/static-asset-uploader/src/index.js"],"names":["React","useState","ReactDOM","BrowserRouter","Route","Switch","Redirect","queryString","loadFragments","Home","GettingStarted","Dashboard","Apis","Admin","AlertPopup","GlobalModal","ApiSearch","NavBar","MobileNav","ApiListItem","isAdmin","isRegistered","init","login","logout","UserProfile","RegisteredRoute","component","Component","rest","props","AdminRoute","HomeWrap","GettingStartedWrap","DashboardWrap","App","window","location","hash","hashRoute","substring","history","pushState","isOpen","setIsOpen","toggle","action","parse","search","render","document","getElementById"],"mappings":"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","sourcesContent":["// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport * as queryString from 'query-string'\n\n// content-fragments\nimport { loadFragments } from 'services/get-fragments'\n\n// semantic-ui\nimport 'semantic-ui-css/semantic.css'\n\n// pages\nimport Home from 'pages/Home'\nimport GettingStarted from 'pages/GettingStarted'\nimport Dashboard from 'pages/Dashboard'\nimport Apis from 'pages/Apis'\nimport { Admin } from 'pages/Admin'\n\n// components\nimport AlertPopup from 'components/AlertPopup'\nimport GlobalModal from 'components/Modal'\n// import NavBar from 'components/NavBar'\nimport ApiSearch from './components/ApiSearch'\n// New components\nimport NavBar from './componentsNew/NavBar'\nimport MobileNav from './componentsNew/Sidebar'\nimport ApiListItem from './componentsNew/ApiListItem'\n\nimport { isAdmin, isRegistered, init, login, logout } from 'services/self'\nimport './index.css'\nimport UserProfile from 'pages/UserProfile'\n\nloadFragments()\n\nexport const RegisteredRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props => (\n      isRegistered()\n        ? <Component {...props} />\n        : <Redirect to='/' />\n    )}\n  />\n)\n\nexport const AdminRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest} render={props => (\n      isAdmin()\n        ? <Component {...props} />\n        : <Redirect to='/' />\n    )}\n  />\n)\n\n// To shut up a dev warning\nconst HomeWrap = props => <Home {...props} />\nconst GettingStartedWrap = props => <GettingStarted {...props} />\nconst DashboardWrap = props => <Dashboard {...props} />\n\nconst App = () => {\n  init()\n  // We are using an S3 redirect rule to prefix the url path with #!\n  // This then converts it back to a URL path for React routing\n  if (window.location.hash && window.location.hash[1] === '!') {\n    const hashRoute = window.location.hash.substring(2)\n    window.history.pushState({}, 'home page', hashRoute)\n  }\n  const [isOpen, setIsOpen] = useState(false)\n  const toggle = () => {\n    setIsOpen(!isOpen)\n  }\n\n  return (\n    <BrowserRouter>\n      <>\n        <MobileNav isOpen={isOpen} toggle={toggle} />\n        <NavBar toggle={toggle} />\n        <GlobalModal />\n        <Switch>\n          <Route exact path=\"/\" component={HomeWrap} />\n          <Route\n            exact\n            path=\"/index.html\"\n            component={() => {\n              const { action } = queryString.parse(window.location.search)\n              if (action === \"login\") {\n                login()\n              } else if (action === \"logout\") {\n                logout()\n              }\n              return <Redirect to=\"/\" />\n            }}\n          />\n          <Route path=\"/getting-started\" component={GettingStartedWrap} />\n          <RegisteredRoute path=\"/dashboard\" component={DashboardWrap} />\n          <AdminRoute path=\"/admin\" component={Admin} />\n          <Route exact path=\"/apis\" component={Apis} />\n          <Route exact path=\"/products\" component={ApiListItem} />\n          <Route exact path=\"/apis/search\" component={ApiSearch} />\n          <Route exact path=\"/apis/:apiId\" component={Apis} />\n          <Route path=\"/apis/:apiId/:stage\" component={Apis} />\n          <Route path=\"/userProfile\" component={UserProfile} />\n          <Route\n            path=\"/login\"\n            render={() => {\n              login()\n              return <Redirect to=\"/\" />\n            }}\n          />\n          <Route\n            path=\"/logout\"\n            render={() => {\n              logout()\n              return <Redirect to=\"/\" />\n            }}\n          />\n          <Route component={() => <h2>Page not found</h2>} />\n        </Switch>\n        <AlertPopup />\n      </>\n    </BrowserRouter>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"]},"metadata":{},"sourceType":"module"}