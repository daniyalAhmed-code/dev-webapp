{"ast":null,"code":"// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React,{useMemo}from'react';// semantic-ui\nimport{Button,Header,Image,Container}from'semantic-ui-react';// markdown for external docs description\nimport marked from'marked';import DOMPurify from'dompurify';// services\nimport{subscribe,unsubscribe}from'services/api-catalog';import{isAuthenticated}from'services/self';import{GetSdkButton}from'components/GetSdk';// state\nimport{observer,Observer}from'mobx-react';import{store}from'services/state.js';// Create the plugin that provides our layout component\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const SwaggerLayoutPlugin=()=>({components:{InfoContainer:InfoReplacement}});function Markdown(_ref){let{source}=_ref;const rendered=useMemo(()=>DOMPurify.sanitize(marked(source,{headerIds:false,silent:true})),[source]);return/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:rendered}});}// replaces the InfoContainer component\n// https://github.com/swagger-api/swagger-ui/blob/dd3afdc45656bda2a64ae6a7f9bdad006ea98149/src/core/components/layouts/base.jsx\n// Note: this is called not as a component, but as a function within a class component. Do\n// *not* make this a component, and do *not* use hooks or anything similar in it.\nfunction InfoReplacement(_ref2){let{specSelectors}=_ref2;let endpoint;if(specSelectors.hasHost()){endpoint=\"https://\".concat(specSelectors.host()).concat(specSelectors.basePath()||'');}else{const servers=specSelectors.servers();if(servers&&servers.size)endpoint=servers.getIn([0,'url']);}const info=specSelectors.info();const version=specSelectors.version();const externalDocs=specSelectors.externalDocs();const apiTitle=info.get('title');const apiDescription=info.get('description');const docsDescription=externalDocs.get('description');const docsUrl=externalDocs.get('url');return/*#__PURE__*/_jsx(Observer,{children:()=>store.api==null?null:/*#__PURE__*/_jsx(Container,{fluid:true,textAlign:\"left\",className:\"fixfloat\",style:{padding:'40px 0px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:'0 0 auto',marginRight:'20px'},children:/*#__PURE__*/_jsx(Image,{size:\"small\",src:store.api.logo})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{as:\"h1\",children:apiTitle}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',paddingBottom:'1em'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginRight:'20px'},children:[store.api.apiStage==null?/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Version\"}):null,endpoint?/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Endpoint\"}):null,apiDescription?/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Description\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{children:[store.api.apiStage==null?/*#__PURE__*/_jsx(\"p\",{children:version}):null,endpoint?/*#__PURE__*/_jsx(\"p\",{children:endpoint}):null,apiDescription?/*#__PURE__*/_jsx(\"p\",{children:apiDescription}):null]})]}),externalDocs?/*#__PURE__*/_jsxs(\"div\",{style:{paddingBottom:'1em'},children:[docsDescription?/*#__PURE__*/_jsx(Markdown,{source:docsDescription}):null,/*#__PURE__*/_jsx(\"a\",{href:docsUrl,children:docsUrl})]}):null,/*#__PURE__*/_jsx(SubscriptionButtons,{}),store.api.sdkGeneration&&/*#__PURE__*/_jsx(GetSdkButton,{})]})]})})});}const SubscriptionButtons=observer(class SubscriptionButtons extends React.Component{render(){const{api}=store;if(!api||!isAuthenticated()){return null;}const apiIsSubscribable=!!(api&&api.apiStage&&api.usagePlan);if(apiIsSubscribable){return api.subscribed?/*#__PURE__*/_jsx(Button,{onClick:()=>unsubscribe(api.usagePlan.id),children:\"Unsubscribe\"}):/*#__PURE__*/_jsx(Button,{onClick:()=>subscribe(api.usagePlan.id),children:\"Subscribe\"});}else{return/*#__PURE__*/_jsx(Header,{style:{marginTop:'0em'},as:\"h4\",color:\"grey\",children:\"This version of the API is not configured to be subscribable from the portal. Please contact an admin for more details.\"});}}});export default SwaggerLayoutPlugin;","map":{"version":3,"sources":["/home/daniyal/Downloads/vap-webapp (1)/vap-webapp/web-content/static-asset-uploader/src/components/SwaggerUiLayout.jsx"],"names":["React","useMemo","Button","Header","Image","Container","marked","DOMPurify","subscribe","unsubscribe","isAuthenticated","GetSdkButton","observer","Observer","store","SwaggerLayoutPlugin","components","InfoContainer","InfoReplacement","Markdown","source","rendered","sanitize","headerIds","silent","__html","specSelectors","endpoint","hasHost","host","basePath","servers","size","getIn","info","version","externalDocs","apiTitle","get","apiDescription","docsDescription","docsUrl","api","padding","display","flex","marginRight","logo","paddingBottom","apiStage","fontWeight","sdkGeneration","SubscriptionButtons","Component","render","apiIsSubscribable","usagePlan","subscribed","id","marginTop"],"mappings":"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","sourcesContent":["// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useMemo } from 'react'\n\n// semantic-ui\nimport { Button, Header, Image, Container } from 'semantic-ui-react'\n\n// markdown for external docs description\nimport marked from 'marked'\nimport DOMPurify from 'dompurify'\n\n// services\nimport { subscribe, unsubscribe } from 'services/api-catalog'\nimport { isAuthenticated } from 'services/self'\n\nimport { GetSdkButton } from 'components/GetSdk'\n\n// state\nimport { observer, Observer } from 'mobx-react'\nimport { store } from 'services/state.js'\n\n// Create the plugin that provides our layout component\nexport const SwaggerLayoutPlugin = () => ({ components: { InfoContainer: InfoReplacement } })\n\nfunction Markdown ({ source }) {\n  const rendered = useMemo(() => DOMPurify.sanitize(marked(source, {\n    headerIds: false,\n    silent: true\n  })), [source])\n\n  return <div dangerouslySetInnerHTML={{ __html: rendered }} />\n}\n\n// replaces the InfoContainer component\n// https://github.com/swagger-api/swagger-ui/blob/dd3afdc45656bda2a64ae6a7f9bdad006ea98149/src/core/components/layouts/base.jsx\n\n// Note: this is called not as a component, but as a function within a class component. Do\n// *not* make this a component, and do *not* use hooks or anything similar in it.\nfunction InfoReplacement ({ specSelectors }) {\n  let endpoint\n  if (specSelectors.hasHost()) {\n    endpoint = `https://${specSelectors.host()}${specSelectors.basePath() || ''}`\n  } else {\n    const servers = specSelectors.servers()\n    if (servers && servers.size) endpoint = servers.getIn([0, 'url'])\n  }\n\n  const info = specSelectors.info()\n  const version = specSelectors.version()\n  const externalDocs = specSelectors.externalDocs()\n  const apiTitle = info.get('title')\n  const apiDescription = info.get('description')\n  const docsDescription = externalDocs.get('description')\n  const docsUrl = externalDocs.get('url')\n\n  return <Observer>\n    {/*\n      If no API is loaded, let's just swallow the state and move on. (Swagger UI doesn't offer any\n      way to clean up after itself.)\n    */}\n    {() => store.api == null ? null : <Container fluid textAlign='left' className='fixfloat' style={{ padding: '40px 0px' }}>\n      <div style={{ display: 'flex' }}>\n        <div style={{ flex: '0 0 auto', marginRight: '20px' }}>\n          <Image size='small' src={store.api.logo} />\n        </div>\n        <div>\n          <Header as='h1'>{apiTitle}</Header>\n          <div style={{ display: 'flex', paddingBottom: '1em' }}>\n            <div style={{ marginRight: '20px' }}>\n              {store.api.apiStage == null ? <p style={{ fontWeight: 'bold' }}>Version</p> : null}\n              {endpoint ? <p style={{ fontWeight: 'bold' }}>Endpoint</p> : null}\n              {apiDescription ? <p style={{ fontWeight: 'bold' }}>Description</p> : null}\n              {/* <p style={{ fontWeight: \"bold\" }}>Usage Plan</p> */}\n            </div>\n            <div>\n              {store.api.apiStage == null ? <p>{version}</p> : null}\n              {endpoint ? <p>{endpoint}</p> : null}\n              {apiDescription ? <p>{apiDescription}</p> : null}\n              {/* <p>{store.api.usagePlan.name}</p> */}\n            </div>\n          </div>\n          {externalDocs ? (\n            <div style={{ paddingBottom: '1em' }}>\n              {docsDescription ? <Markdown source={docsDescription} /> : null}\n              <a href={docsUrl}>{docsUrl}</a>\n            </div>\n          ) : null}\n          <SubscriptionButtons />\n          {store.api.sdkGeneration && <GetSdkButton />}\n        </div>\n      </div>\n    </Container>}\n  </Observer>\n}\n\nconst SubscriptionButtons = observer(class SubscriptionButtons extends React.Component {\n  render () {\n    const { api } = store\n\n    if (!api || !isAuthenticated()) {\n      return null\n    }\n\n    const apiIsSubscribable = !!(api && api.apiStage && api.usagePlan)\n\n    if (apiIsSubscribable) {\n      return (\n        api.subscribed ? (\n          <Button onClick={() => unsubscribe(api.usagePlan.id)}>Unsubscribe</Button>\n        ) : (\n          <Button onClick={() => subscribe(api.usagePlan.id)}>Subscribe</Button>\n        )\n      )\n    } else {\n      return <Header style={{ marginTop: '0em' }} as='h4' color='grey'>This version of the API is not configured to be subscribable from the portal. Please contact an admin for more details.</Header>\n    }\n  }\n})\n\nexport default SwaggerLayoutPlugin\n"]},"metadata":{},"sourceType":"module"}