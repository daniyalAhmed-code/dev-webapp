{"ast":null,"code":"// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from'react';import{Link,Redirect}from'react-router-dom';// semantic-ui\nimport{Menu,Loader}from'semantic-ui-react';// store\nimport{observer}from'mobx-react';import{store}from'services/state';// utilities\nimport _ from'lodash';import Sidebar from'components/Sidebar/Sidebar';import SidebarHeader from'components/Sidebar/SidebarHeader';import MenuLink from'components/MenuLink';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function getApisWithStages(selectedApiId,selectedStage,activateFirst){const apiList=[].concat(_.get(store,'apiList.generic',[]),_.get(store,'apiList.apiGateway',[])).map(api=>({group:api.apiId||api.id,id:api.apiStage||api.id,title:api.swagger.info.title,route:\"/apis/\".concat(api.id)+(api.apiStage?'/'+api.apiStage:''),active:selectedApiId&&(api.id===selectedApiId||api.apiId===selectedApiId)&&(!selectedStage||api.apiStage===selectedStage),stage:api.apiStage}));return _.toPairs(_.groupBy(apiList,'group')).map(_ref=>{let[group,apis]=_ref;return{group,apis,active:_.some(apis,'active'),title:apis[0].title};});}export default observer(function ApisMenu(props){// If we're still loading, display a spinner.\n// If we're not loading, and we don't have any apis, display a message.\n// If we're not loading, and we have some apis, render the appropriate api subsections for apiGateway and generic apis\nif(!store.apiList.loaded){return/*#__PURE__*/_jsx(Loader,{active:true});}const apiGroupList=getApisWithStages(props.activateFirst&&props.path.params.apiId,props.path.params.stage,props.activateFirst);if(!apiGroupList.length){return/*#__PURE__*/_jsx(\"p\",{style:{padding:'13px 16px',color:'whitesmoke'},children:\"No APIs Published\"});}if(props.activateFirst&&!props.path.params.apiId){return/*#__PURE__*/_jsx(Redirect,{to:apiGroupList[0].apis[0].route});}return/*#__PURE__*/_jsxs(Sidebar,{children:[/*#__PURE__*/_jsx(SidebarHeader,{as:Link,className:\"item\",to:\"/apis/search\",active:props.path.url==='/apis/search',style:{fontWeight:'400',fontSize:'1em'},children:\"Search APIs\"}),/*#__PURE__*/_jsx(SidebarHeader,{children:\"APIs\"}),/*#__PURE__*/_jsx(_Fragment,{children:apiGroupList.map(_ref2=>{let{apis,title,group,active}=_ref2;return/*#__PURE__*/_jsxs(MenuLink,{active:active,to:apis[0].stage?null:apis[0].route,children:[title,apis[0].stage?/*#__PURE__*/_jsx(Menu.Menu,{children:apis.map(_ref3=>{let{route,stage,active,id}=_ref3;return/*#__PURE__*/_jsx(MenuLink,{to:route,active:active,style:{fontWeight:'400'},children:stage},id);})}):null]},group);})})]});});","map":{"version":3,"sources":["/home/daniyal/Downloads/vap-webapp (1)/vap-webapp/web-content/static-asset-uploader/src/components/ApisMenu.jsx"],"names":["React","Link","Redirect","Menu","Loader","observer","store","_","Sidebar","SidebarHeader","MenuLink","getApisWithStages","selectedApiId","selectedStage","activateFirst","apiList","concat","get","map","api","group","apiId","id","apiStage","title","swagger","info","route","active","stage","toPairs","groupBy","apis","some","ApisMenu","props","loaded","apiGroupList","path","params","length","padding","color","url","fontWeight","fontSize"],"mappings":"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","sourcesContent":["// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Link, Redirect } from 'react-router-dom'\n\n// semantic-ui\nimport { Menu, Loader } from 'semantic-ui-react'\n\n// store\nimport { observer } from 'mobx-react'\nimport { store } from 'services/state'\n\n// utilities\nimport _ from 'lodash'\nimport Sidebar from 'components/Sidebar/Sidebar'\nimport SidebarHeader from 'components/Sidebar/SidebarHeader'\nimport MenuLink from 'components/MenuLink'\n\nfunction getApisWithStages (selectedApiId, selectedStage, activateFirst) {\n  const apiList = [].concat(_.get(store, 'apiList.generic', []), _.get(store, 'apiList.apiGateway', [])).map(api => ({\n    group: api.apiId || api.id,\n    id: api.apiStage || api.id,\n    title: api.swagger.info.title,\n    route: `/apis/${api.id}` + (api.apiStage ? '/' + api.apiStage : ''),\n    active: (\n      (selectedApiId && (api.id === selectedApiId || api.apiId === selectedApiId)) &&\n      (!selectedStage || api.apiStage === selectedStage)\n    ),\n    stage: api.apiStage\n  }))\n\n  return _.toPairs(_.groupBy(apiList, 'group'))\n    .map(([group, apis]) => ({ group, apis, active: _.some(apis, 'active'), title: apis[0].title }))\n}\n\nexport default observer(function ApisMenu (props) {\n  // If we're still loading, display a spinner.\n  // If we're not loading, and we don't have any apis, display a message.\n  // If we're not loading, and we have some apis, render the appropriate api subsections for apiGateway and generic apis\n  if (!store.apiList.loaded) {\n    return <Loader active />\n  }\n\n  const apiGroupList = getApisWithStages(\n    props.activateFirst && props.path.params.apiId,\n    props.path.params.stage,\n    props.activateFirst\n  )\n\n  if (!apiGroupList.length) {\n    return <p style={{ padding: '13px 16px', color: 'whitesmoke' }}>No APIs Published</p>\n  }\n\n  if (props.activateFirst && !props.path.params.apiId) {\n    return <Redirect to={apiGroupList[0].apis[0].route} />\n  }\n\n  return (\n    <Sidebar>\n      <SidebarHeader\n        as={Link}\n        className='item'\n        to='/apis/search'\n        active={props.path.url === '/apis/search'}\n        style={{ fontWeight: '400', fontSize: '1em' }}\n      >\n        Search APIs\n      </SidebarHeader>\n\n      <SidebarHeader>APIs</SidebarHeader>\n\n      <>\n        {apiGroupList.map(({ apis, title, group, active }) => (\n          <MenuLink key={group} active={active} to={apis[0].stage ? null : apis[0].route}>\n            {title}\n            {apis[0].stage ? (\n              <Menu.Menu>\n                {apis.map(({ route, stage, active, id }) => (\n                  <MenuLink key={id} to={route} active={active} style={{ fontWeight: '400' }}>\n                    {stage}\n                  </MenuLink>\n                ))}\n              </Menu.Menu>\n            ) : null}\n          </MenuLink>\n        ))}\n      </>\n    </Sidebar>\n  )\n})\n"]},"metadata":{},"sourceType":"module"}