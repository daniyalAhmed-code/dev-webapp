{"version":3,"sources":["services/get-fragments.jsx","componentsNew/HeroSection/index.js","componentsNew/GetStarted/index.js","componentsNew/ExploreHome/index.js","pages/Home.jsx","pages/GettingStarted.jsx","services/api.js","services/state.js","services/api-catalog.js","services/accounts.js","services/self.js","services/misc.js","pages/Dashboard.jsx","components/Sidebar/Sidebar.jsx","components/Sidebar/SidebarHeader.jsx","components/MenuLink.jsx","components/ApisMenu.jsx","components/Modal.jsx","components/AlertPopup.jsx","components/GetSdk.jsx","components/SwaggerUiLayout.jsx","components/PageWithSidebar.jsx","assets/images/HeroImg.svg","componentsNew/ApiNotSignIn/index.js","pages/Apis.jsx","components/MessageList.jsx","components/Admin/Accounts/AccountsTable.jsx","components/Admin/Accounts/AccountsTableColumns.jsx","pages/Admin/Accounts/RegisteredAccounts.jsx","pages/Admin/Accounts/AdminAccounts.jsx","utils/use-boolean.jsx","pages/Admin/Accounts/PendingInvites.jsx","pages/Admin/Admin.jsx","pages/Admin/SideNav.jsx","pages/Admin/ApiManagement.jsx","utils/search-term-regexp.js","components/ApiSearch.jsx","services/feedback.js","components/Feedback.jsx","componentsNew/NavBar/index.js","assets/images/nav-logo.png","componentsNew/Sidebar/index.js","componentsNew/ApiListItem/index.js","componentsNew/EditUserForm/index.js","pages/UserProfile.jsx","index.js","components/Admin/Accounts/AccountsTable.module.css"],"names":["fragments","observable","loadHtml","path","fragment","jsx","window","fetch","then","response","text","parsedMarkdown","frontmatter","html","marked","body","headerPrefix","silent","ShowHTML","attributes","ref","useRef","useLayoutEffect","mountPoints","links","current","getElementsByTagName","i","length","link","test","href","target","rel","span","document","createElement","style","setProperty","ReactDOM","render","to","dangerouslySetInnerHTML","__html","innerHTML","replaceWith","push","forEach","elem","HeroSection","hover","setHover","useState","onHover","className","src","alt","onMouseEnter","onMouseLeave","GetStarted","ExploreHome","id","padding","HomePage","observer","awsRegion","_","get","cognitoRegion","cognitoUserPoolId","cognitoIdentityPoolId","cognitoClientId","cognitoDomain","cachedClient","cachedClientWithCredentials","initApiGatewayClient","accessKeyId","secretAccessKey","sessionToken","apigClientFactory","newClient","accessKey","secretKey","region","apigw","apiGatewayClient","Promise","resolve","poller","setInterval","clearInterval","apiGatewayClientWithCredentials","AWS","config","store","api","undefined","apiKey","apiKeyFetchFailed","apiList","loaded","apiGateway","generic","user","idToken","currentUser","usagePlans","subscriptions","notifications","visibility","initialize","Object","assign","this","clear","reset","defaults","keys","key","set","resetUserData","reactTo","triggerFn","effectFn","reaction","data","action","usagePlan","subscribed","usagePlanId","find","sub","apis","updateSubscriptionStatus","concat","logo","apiStage","apiId","specificLogo","headers","Accept","redirect","ok","fetchApiImage","getAccountsWithFilter","async","getApiGatewayClient","queryParams","filter","accounts","url","first","rest","parts","map","p","encodeURIComponent","join","method","params","catch","error","fetchRegisteredAccounts","fetchAdminAccounts","isAuthenticated","getPreferredRole","jwtDecode","isRegistered","role","includes","isAdmin","logoutTimer","getRemainingSessionTime","exp","Date","now","login","reject","location","hash","replace","split","param","localStorage","setItem","setTimeout","logout","setCredentials","getLoginRedirectUrl","protocol","host","getCurrentUserDetails","console","log","preferredRole","IdentityPoolId","Logins","RoleArn","credentials","CognitoIdentityCredentials","refresh","email","bustCache","promises","updateUsagePlansAndApisList","updateSubscriptions","updateApiKey","updateVisibility","all","updateAllUserData","post","clearTimeout","redirectUrl","getCognitoUrl","redirectUri","catalogPromiseCache","getApiGatewayApisFromUsagePlans","subscriptionsPromiseCache","apiKeyPromiseCache","reduce","acc","cloneDeep","getApi","selectIt","stage","cacheBust","thisApi","allApis","toString","app","subscriptionsOrPromise","apiKeyOrPromise","remaining","timeouts","loop","promise","value","mapUsageByDate","usage","usedOrRemaining","dates","items","apiKeyId","apiKeyUsage","startDate","apiKeyDate","Array","isArray","item","setDate","getDate","mapApiKeyUsageByDate","dailyUsage","date","used","sort","parseInt","toTitleCase","string","firstLetter","allOtherLetters","slice","toUpperCase","toLowerCase","loadUsage","canvasId","start","getFullYear","getMonth","toJSON","end","fetchUsage","result","ctx","getElementById","JSON","stringify","labels","d","toLocaleDateString","weekday","year","month","day","max","Math","chartConfig","type","datasets","label","quota","period","lineTension","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","borderWidth","pointRadius","pointHoverRadius","options","scales","yAxes","ticks","beginAtZero","suggestedMax","Chart","Grid","container","Row","Column","paddingTop","Divider","index","width","marginBottom","Title","throttle","Message","info","rateLimit","burstLimit","content","Loader","active","firstApiName","swagger","title","List","Item","extraApiCount","Header","size","Popup","trigger","cursor","on","position","Sidebar","props","Menu","inverted","vertical","borderless","attached","flex","SidebarHeader","color","MenuLink","onClick","as","Link","apiGroupList","selectedApiId","selectedStage","activateFirst","group","route","toPairs","groupBy","some","getApisWithStages","fontWeight","fontSize","GlobalModal","React","Component","constructor","super","state","open","modalProps","children","modal","setState","close","Modal","Segment","basic","right","margin","top","display","flexDirection","notify","onDismiss","clearNotification","notification","GetSdkButton","pointing","sdkTypes","confirmDownload","getSdk","friendlyName","exportTypes","getExport","downloadingSdkOrApi","inline","Dropdown","visible","button","toggleDropdown","prevState","hideDropdown","event","classList","contains","addEventListener","componentWillUnmount","removeEventListener","getDownload","configurationProperties","GetSdkModal","fields","obj","property","name","default","required","handleChange","checked","prop","newState","handleSubmit","isDisabled","disabled","entries","renderProperty","Form","Checkbox","onChange","values","Group","Field","Radio","Input","placeholder","icon","longName","Content","onSubmit","Fragment","Actions","Button","Icon","description","fetchBlob","blobType","endpointName","sdkType","exportType","ext","parameters","stageName","responseType","blob","fileName","dataUri","URL","createObjectURL","downloadLinkElement","setAttribute","appendChild","click","removeChild","revokeObjectURL","downloadFile","parse","compact","negative","floating","header","addNotification","message","finally","extensions","omit","Markdown","source","rendered","useMemo","DOMPurify","sanitize","headerIds","InfoReplacement","endpoint","specSelectors","hasHost","basePath","servers","getIn","version","externalDocs","apiTitle","apiDescription","docsDescription","docsUrl","Container","fluid","textAlign","marginRight","Image","paddingBottom","sdkGeneration","SubscriptionButtons","unsubscribe","delete","subscribe","put","marginTop","SwaggerLayoutPlugin","WrappedComponent","components","InfoContainer","withCollapsibleMobileSidebar","sidebarContent","SidebarPusherProps","isSidebarCollapsed","isMobileScreenResolution","toggleSidebar","expansionButtonWidth","sidebarWidth","contentWidth","animation","contentLeftMargin","expansionButtonLeftMargin","transition","minHeight","Pushable","overflow","border","borderRadius","boxShadow","overflowY","SidebarExpansionButton","expanded","marginLeft","Pusher","dimmed","checkMobileScreenResolution","debouncedResizeHandler","debounce","componentDidMount","minWidth","maxWidth","Responsive","onlyMobile","innerWidth","secondary","zIndex","height","ApiNotSignIn","regLink","HeroImg","containerRef","createRef","hasRoot","updateApi","componentDidUpdate","isInitial","match","isFirstLoad","cell","shouldPreauthorizeApiKey","preauthorizeApiKey","swaggerUiConfig","domNode","plugins","supportedSubmitMethods","spec","onComplete","uiHandler","SwaggerUI","signIn","errorHeader","errorBody","circular","MessageList","messages","useMessages","nextId","renderWithDismiss","dismiss","newMessage","FILLER_ACCOUNT","Symbol","NO_FILTER_COLUMN","NO_ORDER_COLUMN","ORDER_DIRECTIONS","lodashDirection","iconName","nextDirectionIndex","AccountsTable","columns","loading","selectedAccount","onSelectAccount","toolbarActions","pageSize","accountsView","setAccountsView","activePage","setActivePage","activePageAccounts","setActivePageAccounts","fill","filterableColumns","setFilterableColumns","setFilter","column","order","setOrder","directionIndex","useEffect","filtering","view","filterAccessor","accessor","Error","orderBy","ordering","iteratee","computeAccountsPage","useCallback","pageItems","fillerCount","totalPages","ceil","onPageChange","_event","newActivePage","tableRows","range","LoadingAccountRow","columnCount","account","FillerAccountRow","AccountRow","isSelected","onSelect","filterColumnDropdownOptions","toolbar","float","paddingRight","iconPosition","selection","table","Table","selectable","TableHeader","Body","Footer","HeaderCell","colSpan","Pagination","memo","onToggleOrder","nextOrder","nextIndex","orderDirection","styles","headerRow","from","_value","Cell","Placeholder","EmailAddress","IsAdmin","DateRegistered","formatDate","RegistrationMethod","ApiKeyId","Promoter","PromoterUserId","PromoterEmailAddress","Inviter","InviterUserId","InviterEmailAddress","DatePromoted","DateInvited","DATE_TIME_FORMATTER","Intl","DateTimeFormat","hour","minute","second","isoDateString","format","RegisteredAccounts","setAccounts","setLoading","setSelectedAccount","deleteModalOpen","setDeleteModalOpen","promoteModalOpen","setPromoteModalOpen","sendMessage","refreshAccounts","admins","AccountService","allMap","UserId","admin","onConfirmDelete","userId","DeleteSuccessMessage","DeleteFailureMessage","errorMessage","onConfirmPromote","PromoteSuccessMessage","PromoteFailureMessage","AccountsTableColumns","TableActions","canDelete","onClickDelete","canPromote","onClickPromote","DeleteAccountModal","onConfirm","onClose","PromoteAccountModal","positive","AdminAccounts","useBoolean","initialState","PendingInvites","isCreateModalOpen","openCreateModal","closeCreateModal","isDeleteModalOpen","openDeleteModal","closeDeleteModal","createModalMessages","sendCreateModalMessage","clearCreateModalMessages","onConfirmCreate","emailAddress","targetEmailAddress","CreateFailureMessage","CreateSuccessMessage","onConfirmResend","ResendSuccessMessage","ResendFailureMessage","canCreate","onClickCreate","canResend","onClickResend","CreateInviteModal","DeleteInviteModal","validEmailRegex","mnoLocationOptions","mnoOptions","setEmail","isEmailValid","needsAssistance","setNeedsAssistance","emailEverSet","timer","formImages","setFormImages","profileImage","AuthCertificate","authType","setAuthType","setValues","targetPhoneNumber","targetFirstName","targetLastName","targetApiKeyDuration","targetMnoLocation","targetCallBackAuth","targetMno","targetMfa","targetCallBackUrl","apiResponse","setApiResponse","createUserData","dataMfa","AuthApi","username","AuthUsername","password","AuthPassword","onCreateUser","apidata","handleFileUpload","file","e","files","base64","fileReader","FileReader","readAsDataURL","onload","onerror","convertToBase64","handleAuthType","hidden","warning","preventDefault","widths","accept","htmlFor","pattern","min","form","RedirectToApiManagement","Admin","SideNav","AdminRoute","exact","component","ApiManagement","removeFirst","array","indexOf","splice","modalOpen","errors","plansDisplayToggling","apisDisplayToggling","apisUpdating","apisDeleting","apisTogglingSdks","fileInput","tableSort","localeCompare","genericTableSort","firstIndex","secondIndex","list","usagePlanSort","getApiVisibility","uploadAPISpec","swaggerObject","anyFailures","prev","call","reader","endsWith","YAML","res","status","Boolean","readAsText","deleteAPISpec","_api","toJS","genApi","updateLocalApiGatewayApis","apisList","updatedApi","parity","updatedApis","stateApi","showApiGatewayApi","subscribable","hideApiGatewayApi","genericId","showAllApiGatewayApis","apiIds","hideAllApiGatewayApis","isTogglingPlanDisplay","isTogglingApiDisplay","isUpdatingApiGatewayApi","isRemovingUnmanagedApi","updateApiGatewayApi","isSdkGenerationConfigurable","isTogglingSdkGeneration","toggleSdkGeneration","renderHeaderVisibilityButton","usagePlanVisibility","hasHidden","hasVisible","getUsagePlanVisibility","paddingLeft","sortByUsagePlan","renderNoApis","accumulator","usagePlanName","unsubscribable","renderHeader","renderApiList","restApiId","collapsing","celled","fullWidth","sorted","closeIcon","closeOnEscape","closeOnDimmerClick","floated","multiple","prepareSearch","searchString","Set","searchTermRegexp","ApiSearch","setValue","searchQuery","setSearchQuery","isLoaded","useObserver","dataSet","searchable","updateSearch","leading","results","prepared","every","term","Search","onSearchChange","resultRenderer","formOpen","feedbackSubmitted","Feedback","PureComponent","handleOpenModal","handleCloseModal","client","submitFeedback","centered","TextArea","Navbar","toggle","pathname","useLocation","urlPathname","activeClassName","class","isOpen","opacity","GettingStarted","APIs","ApiListItem","searchField","setSearchField","viewBox","xmlns","EditUserForm","UserProfile","setOpen","setUser","keyVisible","setKeyVisible","copySuccess","setCopySuccess","allAccounts","setAllAccounts","userEmail","Subheader","Dimmer","FirstName","LastName","Mfa","PhoneNumber","ApiKeyDuration","navigator","clipboard","writeText","Mno","MnoLocation","CallBackUrl","Type","onOpen","Description","labelPosition","RegisteredRoute","HomeWrap","Home","GettingStartedWrap","DashboardWrap","Dashboard","App","diff","getItem","init","hashRoute","substring","history","pushState","setIsOpen","NavBar","queryString","search","Apis","module","exports"],"mappings":"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","file":"static/js/main.aa63fa76.chunk.js","sourcesContent":["// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useLayoutEffect, useRef } from 'react'\nimport ReactDOM from 'react-dom'\n\n// react-router\nimport { Link } from 'react-router-dom'\n\n// mobx\nimport { observable } from 'mobx'\n\n// markdown parsing\nimport frontmatter from 'front-matter'\nimport marked from 'marked'\n\nexport const fragments = observable({})\n\nexport const loadFragments = () => {\n  loadHtml('/custom-content/content-fragments/GettingStarted.md', 'GettingStarted')\n  loadHtml('/custom-content/content-fragments/Home.md', 'Home')\n  loadHtml('/custom-content/content-fragments/APIs.md', 'APIs')\n}\n\n/**\n * Pre-load the custom-content markdown, parses its frontmatter, and renders it as JSX. This method\n * is asynchronous and doesn't actually return anything -- instead, it acts on a MobX Observable --\n * the fragment. The fragment is an object with a `jsx` property that maps to the rendered\n * component, and any number of other properties collected from the front-matter.\n *\n * @param {String} path   Path to the file to load in. Should be a markdown file.\n * @param {String} fragment   Name of the fragment. Determines where rendered data gets stored.\n *\n * @returns {Object}\n */\nfunction loadHtml (path, fragment) {\n  // if we want to display a loading indicator, this would be where\n  fragments[fragment] = { jsx: () => null }\n\n  window.fetch(path).then(response => response.text().then(text => {\n    const parsedMarkdown = frontmatter(text)\n    const html = marked(parsedMarkdown.body, {\n      headerPrefix: 'header-',\n      silent: true\n    })\n\n    fragments[fragment] = {\n      jsx: () => <ShowHTML html={html} />,\n      ...parsedMarkdown.attributes\n    }\n  }))\n}\n\nfunction ShowHTML ({ html }) {\n  /** @type {import(\"react\").MutableRefObject<HTMLDivElement>} */\n  const ref = useRef()\n\n  // Easier to do it here than to use a separate `useMemo` hook.\n  useLayoutEffect(() => {\n    // Normal links will work, but the cause a full page reload. We don't want that, so we replace\n    // them with react-router Links. However, replacing external links with react-router Links\n    // causes them to not work at all. We don't want that either, so we attempt to determine if a\n    // link is external or not, and replace them as appropriate.\n\n    const mountPoints = []\n    const links = ref.current.getElementsByTagName('a')\n\n    for (let i = 0; i < links.length; i++) {\n      const link = links[i]\n      // if absolute url, use an `a` tag\n      // https://stackoverflow.com/a/19709846/4060061\n      if (/^(?:[a-z]+:)?\\/\\//i.test(link.href)) {\n        link.target = '_blank'\n        link.rel = 'noopener noreferrer'\n      } else {\n        // Replace links with react-router-dom tags so that they route correctly\n        const span = document.createElement('span')\n        // If there's CSS, don't listen to it.\n        span.style.setProperty('display', 'inline', 'important')\n        ReactDOM.render(<Link\n          to={link.href}\n          target={link.target}\n          dangerouslySetInnerHTML={{ __html: link.innerHTML }}\n        />, span)\n        link.replaceWith(span)\n        mountPoints.push(span)\n      }\n    }\n\n    // Gracefully unmount any mount points that were added\n    return () => {\n      mountPoints.forEach(elem => {\n        ReactDOM.render(null, elem)\n      })\n    }\n  }, [])\n\n  return <div ref={ref} dangerouslySetInnerHTML={{ __html: html }} />\n}\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.css'\r\nimport { MdKeyboardArrowRight, MdArrowForward } from 'react-icons/md'\r\n\r\nconst HeroSection = () => {\r\n  const [hover, setHover] = useState(false)\r\n\r\n  const onHover = () => {\r\n    setHover(!hover)\r\n  }\r\n\r\n  return (\r\n    <div className=\"heroContainer\">\r\n      <div className=\"heroBg\">\r\n        <img className='imgBg' src='' alt ='' />\r\n      </div>\r\n      <div className=\"heroContent\">\r\n        <h1 className=\"heroH1\"> VANTAGE TOWERS</h1>\r\n        <div className=\"heroP\">\r\n          Welcome to vantage towers <b>developer portal.</b>\r\n        </div>\r\n        <div className=\"heroBtnWrapper\">\r\n          <Link to= \"/getting-started\" className=\"get_button\" onMouseEnter={onHover} onMouseLeave={onHover}>\r\n            Get started {hover ? <MdArrowForward className=\"arrowForward\" /> : <MdKeyboardArrowRight className=\"arrowRight\" />}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeroSection\r\n","import React from 'react'\nimport { FaUserCheck, FaTags, FaUserShield, FaSignal } from 'react-icons/fa'\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport './style.css'\n\nconst GetStarted = () => {\n  return (\n    <section className=\"get-started bg-light py-4\">\n      <div className=\"container px-4\">\n        <div className=\"row align-items-center text-center justify-content-center\">\n          <h1 className=\"title py-3\"> Get Started </h1>\n          <div className=\"row\">\n            <div className=\"col-lg-6 col-md-6 col-sm-6\">\n              <div className=\"single-step text-center\">\n                <div className=\"row justify-content-center\">\n                  <div className=\"step-icon mb-3\">\n                    <FaUserCheck />\n                  </div>\n                </div>\n                <div className=\"step-cap my-2\">\n                  <h5>Create an account and subscribe to APIs</h5>\n                  <p>To use any of our APIs you must create a developer account. A developer account provides an API Key for accessing our APIs, a playground for testing our APIs, and API usage metrics. Create or sign in using the buttons in the top right.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-6 col-md-6 col-sm-6\">\n              <div className=\"single-step text-center\">\n                <div className=\"row justify-content-center\">\n                  <div className=\"step-icon mb-3\">\n                    <FaTags />\n                  </div>\n                </div>\n                <div className=\"step-cap my-2\">\n                  <h5>Subscribe to APIs</h5>\n                  <p>After you create a new account, you will have a new API Key but it won't be linked to any of our APIs. To activate it for a particular API, navigate to APIs and find the API you want. Click <small>subscribe</small>. Your API Key is now subscribed to the API and you can make calls to its methods.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-6 col-md-6 col-sm-6\">\n              <div className=\"single-step text-center\">\n                <div className=\"row justify-content-center\">\n                  <div className=\"step-icon mb-3\">\n                    <FaUserShield />\n                  </div>\n                </div>\n                <div className=\"step-cap my-2\">\n                  <h5>Try Out the API</h5>\n                  <p>We know that figuring out how to use APIs can be hard. Use the “Try it out!” feature to get examples of the request and response shapes of our APIs. This makes an API call to the backend service using your API Key and provides a sample curl request with all necessary input parameters and the real response.If you need your API Key for any reason, you can always find it on your dashboard after logging in.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-6 col-md-6 col-sm-6\">\n              <div className=\"single-step text-center\">\n                <div className=\"row justify-content-center\">\n                  <div className=\"step-icon mb-3\">\n                    <FaSignal/>\n                  </div>\n                </div>\n                <div className=\"step-cap my-2\">\n                  <h5>Monitor your usage</h5>\n                  <p>Typically each API has a usage limit set for each API Key. As you scale up your usage of the APIs, you can monitor your usage towards the limits on your dashboard.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\nexport default GetStarted\n","import React from 'react'\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst ExploreHome = () => (\n  <section id=\"explore\">\n    <div className=\"container\" style={{ padding: '60px 0' }}>\n      <div className=\"row text-center\">\n        <h1> Explore and Build </h1>\n        <p> Read the Getting Started guide to learn how to hit the ground running to get an application up and running in no time. <br/>\n        See what APIs we have to offer, including extensive documentation, and generated SDKs. <br/>\n        Sign in to manage your subscriptions, see your current usage, get your API Key, and test against our live API. </p>\n      </div>\n    </div>\n  </section>\n)\n\nexport default ExploreHome\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n/* eslint-disable */\nimport HeroSection from '../componentsNew/HeroSection'\n// import HomeSlider from '../componentsNew/HomeSlider'\n\n// mobx\nimport { observer } from 'mobx-react'\n\n// fragments\nimport { fragments } from 'services/get-fragments'\n\n// react-router\nimport { Link } from 'react-router-dom'\nimport GetStarted from 'componentsNew/GetStarted/'\nimport ExploreHome from 'componentsNew/ExploreHome/'\n\n// semantic-ui\nimport { Segment, Container } from 'semantic-ui-react'\n\nexport const HomePage = observer(() => (\n  <>\n    <HeroSection />\n    <ExploreHome />\n    <GetStarted />\n  </>\n))\n\nexport default HomePage\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport GetStarted from 'componentsNew/GetStarted/'\n// mobx\nimport { observer } from 'mobx-react'\n\nexport default observer(() => (\n  <GetStarted />\n))\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport AWS from 'aws-sdk'\n\nimport _ from 'lodash'\n\nexport const awsRegion = _.get(window, 'config.region')\nexport const cognitoRegion = _.get(window, 'config.region')\nexport const cognitoUserPoolId = _.get(window, 'config.userPoolId')\nexport const cognitoIdentityPoolId = _.get(window, 'config.identityPoolId')\nexport const cognitoClientId = _.get(window, 'config.userPoolClientId')\nexport const cognitoDomain = _.get(window, 'config.userPoolDomain')\n\nAWS.config.region = cognitoRegion\n\nlet cachedClient\nlet cachedClientWithCredentials\n\nexport function initApiGatewayClient ({ accessKeyId, secretAccessKey, sessionToken } = {}) {\n  cachedClient = window.apigClientFactory.newClient({\n    accessKey: accessKeyId,\n    secretKey: secretAccessKey,\n    sessionToken: sessionToken,\n    region: awsRegion\n  })\n\n  if (accessKeyId && secretAccessKey && sessionToken) {\n    cachedClientWithCredentials = cachedClient\n  }\n\n  window.apigw = cachedClient\n}\n\nexport function apiGatewayClient () {\n  if (cachedClient) return Promise.resolve(cachedClient)\n  return new Promise(resolve => {\n    const poller = setInterval(() => {\n      if (cachedClient) {\n        clearInterval(poller)\n        resolve(cachedClient)\n      }\n    }, 100)\n  })\n}\n\nexport function apiGatewayClientWithCredentials () {\n  if (cachedClientWithCredentials) { return Promise.resolve(cachedClientWithCredentials) }\n  return new Promise(resolve => {\n    const poller = setInterval(() => {\n      if (cachedClientWithCredentials) {\n        clearInterval(poller)\n        resolve(cachedClientWithCredentials)\n      }\n    }, 100)\n  })\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { observable, reaction } from 'mobx'\nimport _ from 'lodash'\n\nimport { getSubscribedUsagePlan } from 'services/api-catalog'\n\n/**\n * A function that returns a new object contain the default store\n */\nfunction storeDefaults () {\n  return {\n    api: undefined,\n    apiKey: undefined,\n    apiKeyFetchFailed: false,\n\n    apiList: {\n      loaded: false,\n      apiGateway: [],\n      generic: []\n    },\n\n    user: undefined,\n    idToken: undefined,\n    currentUser: undefined,\n\n    usagePlans: [],\n\n    subscriptions: [],\n\n    notifications: [],\n\n    visibility: {\n      apiGateway: [],\n      generic: {}\n    }\n  }\n}\n\n/**\n * Trick for logging the store: clone the object. i.e. _.cloneDeep(store) or JSON.parse(JSON.stringify(store))\n */\nexport const store = observable({\n  ...(storeDefaults()),\n\n  initialize () {\n    Object.assign(this, storeDefaults())\n\n    return this\n  },\n\n  /**\n   * Reset the entire store to the original values\n   */\n  clear () {\n    return this.initialize()\n  },\n\n  /**\n   * Reset specific keys on the store to their initial values\n   *\n   * @param {string[]} keys   The keys that should be reset. Accepts lodash paths. (e.g. )\n   */\n  reset (...keys) {\n    const defaults = storeDefaults()\n    keys.forEach(key => _.set(this, key, _.get(defaults, key)))\n    return this\n  },\n\n  resetUserData () {\n    this.reset('apiKey', 'user', 'subscriptions')\n  }\n})\n\n/**\n *\n * A short-hand function for creating reactions with protections against cyclical errors.\n *\n * @param {Function} triggerFn   A function that determines when fire the effectFn and what to pass to the effectFn.\n * @param {Function} effectFn   The side-effect to run when the data tracked by the triggerFn is changed.\n *\n * A note on MobX reactions: the side effect will \"only react to data that was accessed in the data expression\" and will only fire \"when the data returned by the expression has changed\". (https://mobx.js.org/refguide/reaction.html)\n */\nfunction reactTo (triggerFn, effectFn) {\n  // note -- had issues with cyclical reactions in the past\n  // the comments below will fix them if they come up again\n  // DO NOT REMOVE THEM\n\n  // function restartReaction() {\n  reaction(\n    triggerFn,\n    (data, action) => {\n      // action.dispose() // clear this \"listener\" so we don't cycle\n\n      effectFn(data, action)\n\n      // restartReaction() // restart the reaction after doing stuff to the data\n    }\n  )\n  // }\n\n  // restartReaction()\n}\n\nreactTo(\n  () => ({ subscriptions: store.subscriptions, usagePlans: store.usagePlans }),\n  ({ usagePlans }) => {\n    updateSubscriptionStatus(usagePlans)\n  }\n)\n\nreactTo(\n  () => [].concat(store.apiList.apiGateway, store.apiList.generic),\n  apiList => {\n    fetchApiImage(apiList)\n  }\n)\n\n/**\n *\n */\nfunction fetchApiImage (apiList) {\n  apiList.forEach(api => {\n    if (!api.logo) {\n      const key = api.apiStage == null ? api.id : `${api.apiId}_${api.apiStage}`\n      const specificLogo = `/custom-content/api-logos/${key}.png`\n\n      // fetch automatically follows redirects; setting redirect to `manual` prevents this\n      // we need to prevent it so that we can accurately determine if the image exists\n      window.fetch(specificLogo, { headers: { Accept: 'image/png' }, redirect: 'manual' }).then(response => {\n        if (response.ok) { api.logo = specificLogo } else api.logo = '/custom-content/api-logos/default.png'\n      })\n    }\n  })\n}\n\n/**\n * A helper function that simple re-builds the subscribed status for each api in the catalog.\n *\n * Should be run every time either the catalog updates or the\n */\nfunction updateSubscriptionStatus (usagePlans) {\n  if (usagePlans) {\n    usagePlans.forEach(usagePlan => {\n      const subscribed = !!getSubscribedUsagePlan(usagePlan.id)\n      usagePlan.subscribed = subscribed\n\n      usagePlan.apis.forEach(api => { api.subscribed = subscribed })\n    })\n  }\n}\n\nexport default store.initialize()\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport _ from 'lodash'\n\nimport { apiGatewayClientWithCredentials } from './api'\nimport { store } from './state'\nimport { isAdmin } from './self'\n\n/* Catalog and API Utils */\n\n/**\n *\n * Does all operations to get user data at once.\n *\n * @param {Boolean} bustCache=true   Ignore the cache and re-make the calls? Defaults to true.\n */\nexport function updateAllUserData (bustCache = true) {\n  const promises = [\n    updateUsagePlansAndApisList(bustCache),\n    updateSubscriptions(bustCache),\n    updateApiKey(bustCache)\n  ]\n\n  if (isAdmin()) { promises.push(updateVisibility(bustCache)) }\n\n  return Promise.all(promises)\n}\n\n/**\n *\n * Update the catalog for the current user. Both request and response are cached, so unless the cache is busted, this should only ever make one network call.\n *\n * @param {Boolean} [bustCache=false]   Ignore the cache and re-make the network call. Defaults to false.\n *\n */\nexport function updateUsagePlansAndApisList (bustCache = false) {\n  // if we've already tried, just return that promise\n  if (!bustCache && catalogPromiseCache) return catalogPromiseCache\n\n  store.apiList.loaded = false\n\n  // eslint-disable-next-line no-return-assign\n  return catalogPromiseCache = apiGatewayClientWithCredentials()\n    .then(apiGatewayClient => apiGatewayClient.get('/catalog', {}, {}, {}))\n    .then(({ data = { apiGateway: [], generic: [] } }) => {\n      store.usagePlans = data.apiGateway\n      store.apiList = {\n        loaded: true,\n        apiGateway: getApiGatewayApisFromUsagePlans(store.usagePlans), // MUST create\n        generic: data.generic\n      }\n    })\n    .catch(() => {\n      store.usagePlans = []\n      store.apiList = {\n        loaded: true,\n        apiGateway: [],\n        generic: []\n      }\n    })\n}\nlet catalogPromiseCache // WARNING: Don't touch this. Should only be used by updateCatalogAndApisList.\n\n/**\n * A function that takes an input usage plans and creates an list of apis out of it.\n *\n * - Makes sure each api has a non-recursive 'usagePlan' object\n *\n * returns an array of apis\n */\nfunction getApiGatewayApisFromUsagePlans (usagePlans) {\n  return usagePlans.reduce((acc, usagePlan) => {\n    usagePlan.apis.forEach(api => {\n      api.usagePlan = _.cloneDeep(usagePlan)\n      // remove the apis from the cloned usagePlan so we don't go circular\n      delete api.usagePlan.apis\n    })\n\n    return acc.concat(usagePlan.apis)\n  }, [])\n}\n\n/**\n * Return the API with the provided apiId. Can also provide the special strings \"FIRST\" or \"ANY\" to get the first API returned. Can select the api returned as a side-effect.\n *\n * @param {String} apiId   An apiId or the special strings 'FIRST' or 'ANY'. 'FIRST' and 'ANY' both return the first api encountered.\n * @param {Boolean} [selectIt=false]   If true, sets the found API as the current 'selected' API.\n */\nexport function getApi (apiId, selectIt = false, stage, cacheBust = false) {\n  return updateUsagePlansAndApisList(cacheBust)\n    .then(() => {\n      let thisApi\n\n      const allApis = [].concat(store.apiList.apiGateway, store.apiList.generic)\n\n      if (allApis.length) {\n        if (apiId === 'ANY' || apiId === 'FIRST') {\n          thisApi = allApis[0]\n        } else {\n          thisApi = allApis.find(api => (api.apiId === apiId && api.apiStage === stage))\n\n          if (!thisApi) {\n            thisApi = allApis.find(api => (api.id.toString() === apiId))\n          }\n        }\n      }\n\n      if (selectIt) store.api = thisApi\n\n      return thisApi\n    })\n}\n\nexport function updateVisibility (cacheBust = false) {\n  return apiGatewayClientWithCredentials()\n    .then(app => app.get('/admin/catalog/visibility', {}, {}, {}))\n    .then(({ data }) => (store.visibility = data))\n}\n\n/* Subscription Utils */\n\n/**\n * Fetch and update subscriptions store. Uses caching to determine if it should actually fetch or return the stored result.\n *\n * @param {Boolean} [bustCache=false]   Ignore the cache and re-make the network call. Defaults to false.\n */\nexport function updateSubscriptions (bustCache = false) {\n  const subscriptionsOrPromise = store.subscriptions.length ? store.subscriptions : subscriptionsPromiseCache\n  if (!bustCache && subscriptionsOrPromise) return Promise.resolve(subscriptionsOrPromise)\n\n  // eslint-disable-next-line no-return-assign\n  return subscriptionsPromiseCache = apiGatewayClientWithCredentials()\n    .then(apiGatewayClient => apiGatewayClient.get('/subscriptions', {}, {}, {}))\n    .then(({ data }) => (store.subscriptions = data))\n}\nlet subscriptionsPromiseCache // WARNING: Don't touch this. Should only be used by updateCatalogAndApisList.\n\nexport function getSubscribedUsagePlan (usagePlanId) {\n  return store.subscriptions.find(sub => sub.id === usagePlanId)\n}\n\nexport function subscribe (usagePlanId) {\n  return apiGatewayClientWithCredentials()\n    .then(apiGatewayClient => apiGatewayClient.put('/subscriptions/' + usagePlanId, {}, {}))\n    .then(() => updateSubscriptions(true))\n}\n\nexport function unsubscribe (usagePlanId) {\n  return apiGatewayClientWithCredentials()\n    .then(apiGatewayClient => apiGatewayClient.delete(`/subscriptions/${usagePlanId}`, {}, {}))\n    .then(() => updateSubscriptions(true))\n}\n\n/**\n *\n * Fetches and updates the apiKey in the store. Both request and response are cached, so unless the cache is busted, this should only ever make one network call.\n *\n */\nexport function updateApiKey (bustCache) {\n  const apiKeyOrPromise = store.apiKey ? store.apiKey : apiKeyPromiseCache\n  if (!bustCache && apiKeyOrPromise) return Promise.resolve(apiKeyOrPromise)\n  store.apiKeyFetchFailed = false\n\n  const MAX_RETRIES = 5\n  let remaining = MAX_RETRIES\n\n  const timeouts = [\n    250,\n    500,\n    1000,\n    2000\n  ]\n\n  function loop () {\n    remaining--\n    const promise = apiGatewayClientWithCredentials()\n      .then(apiGatewayClient => apiGatewayClient.get('/apikey', {}, {}, {}))\n      .then(({ data }) => (store.apiKey = data.value))\n\n    return remaining\n      ? promise.catch(() =>\n        new Promise(resolve => setTimeout(resolve, timeouts[remaining])).then(loop)\n      )\n      : promise\n  }\n\n  return (apiKeyPromiseCache = loop()).catch(() => {\n    store.apiKeyFetchFailed = true\n  })\n}\nlet apiKeyPromiseCache\n\nexport function fetchUsage (usagePlanId) {\n  const date = new Date()\n  const start = new Date(date.getFullYear(), date.getMonth(), 1).toJSON().split('T')[0]\n  const end = date.toJSON().split('T')[0]\n  return apiGatewayClientWithCredentials()\n    .then(apiGatewayClient => apiGatewayClient.get('/subscriptions/' + usagePlanId + '/usage', { start, end }, {}))\n}\n\nexport function mapUsageByDate (usage, usedOrRemaining) {\n  const dates = {}\n  Object.keys(usage.items).forEach(apiKeyId => {\n    const apiKeyUsage = mapApiKeyUsageByDate(usage.items[apiKeyId], usage.startDate, usedOrRemaining)\n\n    // handles the bizarre case that the user has more than one api key\n    // currently not possible (and my never be), so we probably don't need it\n    apiKeyUsage.forEach(dailyUsage => {\n      const date = dailyUsage[0]\n      const used = dailyUsage[1]\n      const remaining = dailyUsage[2]\n\n      if (!dates[date]) { dates[date] = { used: 0, remaining: 0 } }\n\n      dates[date].used += used\n      dates[date].remaining += remaining\n    })\n  })\n\n  const usageByDate = Object.keys(dates).sort().map(date => [\n    parseInt(date, 10),\n    dates[date].used,\n    dates[date].remaining\n  ])\n\n  return usageByDate\n}\n\nfunction mapApiKeyUsageByDate (apiKeyUsage, startDate) {\n  const apiKeyDate = new Date(startDate)\n\n  if (apiKeyUsage && !Array.isArray(apiKeyUsage[0])) { apiKeyUsage = [apiKeyUsage] }\n\n  return apiKeyUsage.map((usage) => {\n    const date = apiKeyDate.setDate(apiKeyDate.getDate())\n    const item = [date, ...usage]\n    apiKeyDate.setDate(apiKeyDate.getDate() + 1)\n    return item\n  })\n}\n\n// Marketplace support is currently broken\n// /* Marketplace integration */\n//\n// export function confirmMarketplaceSubscription (usagePlanId, token) {\n//   if (!usagePlanId) {\n//     return\n//   }\n//\n//   return apiGatewayClientWithCredentials()\n//     .then(apiGatewayClient => apiGatewayClient.put('/marketplace-subscriptions/' + usagePlanId, {}, { token: token }))\n// }\n","import { apiGatewayClientWithCredentials as getApiGatewayClient } from 'services/api'\n\nconst getAccountsWithFilter = async filter => {\n  const apiGatewayClient = await getApiGatewayClient()\n  const response = await apiGatewayClient.get(\n    '/admin/accounts',\n    undefined,\n    undefined,\n    { queryParams: { filter } }\n  )\n  return response.data.accounts\n}\n\nconst url = ([first, ...rest], ...parts) =>\n  first + parts.map((p, i) => encodeURIComponent(p) + rest[i]).join('')\n\nconst fetch = (method, target, params = {}) =>\n  getApiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient[method](target, {}, params, {}))\n    .then(response => response.data)\n    .catch(error => { throw error && (error.data || error) })\n\n    \nexport const fetchRegisteredAccounts = () => getAccountsWithFilter('registered')\nexport const fetchAdminAccounts = () => getAccountsWithFilter('admin')\nexport const fetchPendingRequestAccounts = () => getAccountsWithFilter('pendingRequest')\nexport const fetchPendingInviteAccounts = () => getAccountsWithFilter('pendingInvite')\n\nexport const deleteAccountByUserId = userId => fetch('delete', url`/admin/accounts/${userId}`)\n// TODO: verify if this is even correct - I suspect it should've posted to\n// `/admin/accounts/:userId/denyRequest` instead.\nexport const deleteInviteByUserId = userId => fetch('delete', url`/admin/accounts/${userId}`)\nexport const createInviteByEmail = email => fetch('post', '/admin/accounts', { targetEmailAddress: email })\nexport const resendInviteByEmail = email => fetch('put', '/admin/accounts/resendInvite', { targetEmailAddress: email })\nexport const promoteAccountByUserId = userId => fetch('put', url`/admin/accounts/${userId}/promoteToAdmin`)\nexport const approveAccountRequestByUserId = userId => fetch('put', url`/admin/accounts/${userId}/approveRequest`)\nexport const denyAccountRequestByUserId = userId => fetch('put', url`/admin/accounts/${userId}/denyRequest`)\n\n//createUser\nexport const createUserByForm = (data) => fetch(\"post\", \"/admin/accounts\", { ...data })\n\n//GetUser\nexport const getCurrentUser = () => fetch(\"get\", \"/admin/accounts/current/getUserProfile\")","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport AWS from 'aws-sdk'\n\n// services\nimport { store } from 'services/state'\nimport { getCurrentUser } from './accounts'\nimport { updateAllUserData } from 'services/api-catalog'\nimport { initApiGatewayClient, apiGatewayClient, cognitoDomain, cognitoIdentityPoolId, cognitoUserPoolId, cognitoClientId, cognitoRegion } from 'services/api'\nimport * as jwtDecode from 'jwt-decode'\n\nexport function isAuthenticated () {\n  return store.idToken\n}\n\nfunction getPreferredRole () {\n  return jwtDecode(store.idToken)['cognito:preferred_role'] || ''\n}\n\nexport function isRegistered () {\n  if (!store.idToken) {\n    return false\n  }\n\n  const role = getPreferredRole()\n  return (\n    role.includes('-CognitoAdminRole-') ||\n    role.includes('-CognitoRegisteredRole-')\n  )\n}\n\nexport function isAdmin () {\n  return store.idToken && getPreferredRole().includes('-CognitoAdminRole-')\n}\n\nlet logoutTimer\n\nfunction getRemainingSessionTime (idToken) {\n  return jwtDecode(idToken).exp * 1000 - Date.now()\n}\n\n/**\n * On page load, look for an active cookie. If it exists and isn't expired, great, use it. Otherwise, clear everything and make sure we're not logged in.\n */\nexport function init () {\n  // attempt to refresh credentials from active session\n\n  let idToken\n  let diff = 0\n\n  try {\n    idToken = window.localStorage.getItem(cognitoUserPoolId)\n    if (idToken) diff = getRemainingSessionTime(idToken)\n  } catch (error) {\n    console.error(error)\n  }\n\n  if (diff > 0) {\n    store.idToken = idToken\n    logoutTimer = setTimeout(logout, diff)\n    setCredentials()\n  } else {\n    initApiGatewayClient() // init a blank client (will get overwritten if we have creds)\n    logout()\n  }\n}\n\n/**\n * Gets triggered by the callback from the cognito user pool. Pretty much all it does is grab and store the idToken.\n */\nexport function login () {\n  return new Promise((resolve, reject) => {\n    let idToken\n    // let accessToken, username\n\n    try {\n      window.location.hash\n        .replace(/^#/, '')\n        .split('&')\n        .map(param => param.split('='))\n        .forEach(param => {\n          // record the id_token and access_token\n          if (param[0] === 'id_token') idToken = param[1]\n          // if (param[0] === 'access_token') accessToken = param[1]\n        })\n\n      if (idToken) { // we get both, we set both, but we only really care about the idToken\n        // username = jwtDecode(idToken)['cognito:username']\n\n        window.localStorage.setItem(cognitoUserPoolId, idToken)\n\n        store.idToken = idToken\n\n\n        logoutTimer = setTimeout(logout, getRemainingSessionTime(idToken))\n\n        setCredentials()\n\n        resolve(idToken)\n      }\n    } catch (error) {\n      reject(error)\n    }\n  })\n}\n\nexport const getLoginRedirectUrl = () =>\n  `${window.location.protocol}//${window.location.host}/index.html?action=login`\nexport const getLogoutRedirectUrl = () =>\n  `${window.location.protocol}//${window.location.host}/index.html?action=logout`\n\nfunction getCurrentUserDetails () {\n  getCurrentUser().then(user => {\n    if (user) {\n      store.currentUser = user\n      console.log('current user', user)\n    }\n  })\n}\n\nfunction setCredentials () {\n  const preferredRole = jwtDecode(store.idToken)['cognito:preferred_role']\n  const params = {\n    IdentityPoolId: cognitoIdentityPoolId,\n    Logins: {\n      [`cognito-idp.${cognitoRegion}.amazonaws.com/${cognitoUserPoolId}`]: store.idToken\n    }\n  }\n\n  if (preferredRole) params.RoleArn = preferredRole\n\n  AWS.config.credentials = new AWS.CognitoIdentityCredentials(params)\n\n  return new Promise((resolve, reject) => {\n    AWS.config.credentials.refresh(error => {\n      if (error) {\n        console.error(error)\n        return reject(error)\n      }\n\n      initApiGatewayClient(AWS.config.credentials)\n      store.user = { email: jwtDecode(store.idToken).email }\n      getCurrentUserDetails()\n      updateAllUserData()\n\n      return apiGatewayClient()\n        .then(apiGatewayClient => apiGatewayClient.post('/signin', {}, {}, {}))\n    })\n  })\n}\n\n/**\n * Callback for the Cognito User Pool's logout just to make sure we clean up everything.\n */\nexport function logout () {\n  clearTimeout(logoutTimer)\n  logoutTimer = undefined\n  if (store.idToken) {\n    store.resetUserData()\n    window.localStorage.clear()\n\n    if (cognitoDomain) {\n      // redirect to cognito to log out there, too\n      const redirectUrl = getLogoutRedirectUrl()\n      window.location = `${cognitoDomain}/logout?client_id=${cognitoClientId}&logout_uri=${redirectUrl}`\n    }\n  }\n}\n\nexport function getCognitoUrl () {\n  const redirectUri = getLoginRedirectUrl()\n  return `${cognitoDomain}/login?response_type=token&client_id=${cognitoClientId}&redirect_uri=${redirectUri}`\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function getQueryString () {\n  const { search: q } = window.location\n\n  if (!q) return {}\n\n  return (/^[?#]/.test(q) ? q.slice(1) : q)\n    .split('&')\n    .reduce((params, param) => {\n      const [key, value] = param.split('=')\n      params[key] = value ? decodeURIComponent(value) : ''\n      return params\n    }, {})\n}\n\nexport function toTitleCase (string) {\n  const firstLetter = string[0]\n  const allOtherLetters = string.slice(1)\n\n  return firstLetter.toUpperCase() + allOtherLetters.toLowerCase()\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\nimport { Grid, Header, Popup, Loader, Message, List, Divider } from 'semantic-ui-react'\n\nimport Chart from 'chart.js'\nimport { fetchUsage, mapUsageByDate } from 'services/api-catalog'\nimport { toTitleCase } from 'services/misc'\n\nimport { observer } from 'mobx-react'\n\nimport { store } from 'services/state'\n\nimport _ from 'lodash'\n\nfunction loadUsage (usagePlan, canvasId) {\n  fetchUsage(usagePlan.id)\n    .then((result) => {\n      const data = mapUsageByDate(result.data, 'used')\n      const ctx = document.getElementById(canvasId)\n\n      const oldDataString = JSON.stringify(_.get(usagePlan, 'usage.data', {}))\n      const newDataString = JSON.stringify(data)\n\n      if (oldDataString !== newDataString) { usagePlan.usage = { data } }\n\n      const labels = data.map(d => new Date(d[0]).toLocaleDateString('en-US', { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' }))\n      const used = data.map(d => d[1])\n      const remaining = data.map(d => d[2])\n      const max = Math.max(...used, ...remaining)\n\n      const chartConfig = {\n        type: 'line',\n        data: {\n          labels,\n          datasets: [\n            {\n              label: 'Requests used' + (usagePlan.quota ? ` (per ${toTitleCase(usagePlan.quota.period)})` : ''),\n              data: used,\n              lineTension: 0,\n              backgroundColor: '#00bfff',\n              borderColor: '#00bfff',\n              pointBackgroundColor: 'transparent',\n              pointBorderColor: 'transparent',\n              borderWidth: 2,\n              pointRadius: 10,\n              pointHoverRadius: 10\n\n            },\n            {\n              label: 'Remaining requests' + (usagePlan.quota ? ` (per ${toTitleCase(usagePlan.quota.period)})` : ''),\n              data: remaining,\n              lineTension: 0,\n              backgroundColor: 'transparent',\n              borderColor: 'red',\n              pointBackgroundColor: 'transparent',\n              pointBorderColor: 'transparent',\n              borderWidth: 2,\n              pointRadius: 10,\n              pointHoverRadius: 10\n            }\n          ]\n        },\n        options: {\n          scales: {\n            yAxes: [{\n              ticks: {\n                beginAtZero: true,\n                suggestedMax: max + (max * 0.02)\n              }\n            }]\n          }\n        }\n      }\n\n      // eslint-disable-next-line no-new\n      new Chart(ctx, chartConfig)\n    })\n    .catch((error) => {\n      console.error(error)\n      if (!usagePlan.usage) { usagePlan.usage = { } }\n\n      usagePlan.usage.error = error\n    })\n}\n\nexport default observer(() => {\n  return (\n    <Grid container>\n      <Grid.Row>\n        <Grid.Column style={{ paddingTop: \"40px\" }}>\n          {/* <Header size='medium'>API Key</Header>\n          {\n            store.apiKey\n              ? (\n                <code style={{\n                  background: 'black',\n                  border: '1px solid gray',\n                  padding: '7px 8px',\n                  color: 'lightgray',\n                  borderRadius: '5px'\n                }}\n                >\n                  {store.apiKey}\n                  \n                </code>\n              )\n              // Note: this should be the same size as the text\n              : <Loader active inline size='tiny'>\n                {store.apiKeyFetchFailed ? <>\n                  Please wait a minute and try refreshing. If this doesn't work, please contact\n                  the admin for assistance.\n                </> : null}\n              </Loader>\n          } */}\n          Dashboard\n        </Grid.Column>\n      </Grid.Row>\n      <Divider />\n      <Grid.Row>\n        {store.usagePlans\n          .filter((usagePlan) => usagePlan.subscribed && usagePlan.apis.length)\n          .map((usagePlan, index) => {\n            const canvasId = `api-usage-chart-container-${usagePlan.id}` + index\n\n            loadUsage(usagePlan, canvasId)\n\n            return (\n              <Grid.Column\n                width={16}\n                key={usagePlan.id}\n                style={{ marginBottom: \"40px\" }}\n              >\n                <Title apis={usagePlan.apis} />\n                {usagePlan.throttle && (\n                  <Message info>\n                    <p>\n                      Requests limited to {usagePlan.throttle.rateLimit} per\n                      second, and {usagePlan.throttle.burstLimit} in a burst.\n                    </p>\n                  </Message>\n                )}\n                {!usagePlan.usage ? (\n                  <Loader active />\n                ) : usagePlan.error ? (\n                  <Message error content={usagePlan.error.toString()} />\n                ) : null}\n                <canvas id={canvasId} />\n              </Grid.Column>\n            )\n          })}\n      </Grid.Row>\n    </Grid>\n  )\n})\n\nconst Title = ({ apis }) => {\n  const firstApiName = apis[0].swagger.info.title\n\n  const apiList = (\n    <List>\n      {apis.reduce((acc, api) => acc.concat(\n        <List.Item key={api.id}>{api.swagger.info.title}</List.Item>\n      ), [])}\n    </List>\n  )\n\n  const extraApiCount = apis.length - 1\n\n  return (\n    <Header size='medium'>\n      Usage for {extraApiCount ? (\n        <Popup\n          trigger={<p style={{ cursor: 'pointer' }}>{firstApiName} and {extraApiCount} more...</p>}\n          content={apiList}\n          on={['hover', 'click']}\n          position='right center'\n        />\n      ) : (\n        firstApiName\n      )}\n    </Header>\n  )\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Menu } from 'semantic-ui-react'\n\nfunction Sidebar ({ style, ...props }) {\n  return (\n    <Menu\n      inverted vertical borderless attached\n      style={{ flex: '0 0 auto', width: 'auto', ...style }}\n      {...props}\n    />\n  )\n}\n\nexport default Sidebar\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Menu } from 'semantic-ui-react'\n\nfunction SidebarHeader ({ style, ...props }) {\n  return (\n    <Menu.Header\n      style={{ padding: '13px 5px 13px 16px', color: 'lightsteelblue', ...style }}\n      {...props}\n    />\n  )\n}\n\nexport default SidebarHeader\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Menu } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\n\nfunction MenuLink ({ to, ...props }) {\n  if (props.onClick == null && to == null) {\n    return <Menu.Item className='link' {...props} style={{ ...props.style, cursor: 'default' }} />\n  } else if (props.onClick != null || /^https?:\\/\\//.test(to)) {\n    // The class name here is to avoid a selector precedence issue in a few isolated cases\n    return <Menu.Item className='link' as='a' href={to} {...props} />\n  } else {\n    return <Menu.Item className='link' as={Link} to={to} {...props} />\n  }\n}\n\nexport default MenuLink\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Link, Redirect } from 'react-router-dom'\n\n// semantic-ui\nimport { Menu, Loader } from 'semantic-ui-react'\n\n// store\nimport { observer } from 'mobx-react'\nimport { store } from 'services/state'\n\n// utilities\nimport _ from 'lodash'\nimport Sidebar from 'components/Sidebar/Sidebar'\nimport SidebarHeader from 'components/Sidebar/SidebarHeader'\nimport MenuLink from 'components/MenuLink'\n\nfunction getApisWithStages (selectedApiId, selectedStage, activateFirst) {\n  const apiList = [].concat(_.get(store, 'apiList.generic', []), _.get(store, 'apiList.apiGateway', [])).map(api => ({\n    group: api.apiId || api.id,\n    id: api.apiStage || api.id,\n    title: api.swagger.info.title,\n    route: `/apis/${api.id}` + (api.apiStage ? '/' + api.apiStage : ''),\n    active: (\n      (selectedApiId && (api.id === selectedApiId || api.apiId === selectedApiId)) &&\n      (!selectedStage || api.apiStage === selectedStage)\n    ),\n    stage: api.apiStage\n  }))\n\n  return _.toPairs(_.groupBy(apiList, 'group'))\n    .map(([group, apis]) => ({ group, apis, active: _.some(apis, 'active'), title: apis[0].title }))\n}\n\nexport default observer(function ApisMenu (props) {\n  // If we're still loading, display a spinner.\n  // If we're not loading, and we don't have any apis, display a message.\n  // If we're not loading, and we have some apis, render the appropriate api subsections for apiGateway and generic apis\n  if (!store.apiList.loaded) {\n    return <Loader active />\n  }\n\n  const apiGroupList = getApisWithStages(\n    props.activateFirst && props.path.params.apiId,\n    props.path.params.stage,\n    props.activateFirst\n  )\n\n  if (!apiGroupList.length) {\n    return <p style={{ padding: '13px 16px', color: 'whitesmoke' }}>No APIs Published</p>\n  }\n\n  if (props.activateFirst && !props.path.params.apiId) {\n    return <Redirect to={apiGroupList[0].apis[0].route} />\n  }\n\n  return (\n    <Sidebar>\n      <SidebarHeader\n        as={Link}\n        className='item'\n        to='/apis/search'\n        active={props.path.url === '/apis/search'}\n        style={{ fontWeight: '400', fontSize: '1em' }}\n      >\n        Search APIs\n      </SidebarHeader>\n\n      <SidebarHeader>APIs</SidebarHeader>\n\n      <>\n        {apiGroupList.map(({ apis, title, group, active }) => (\n          <MenuLink key={group} active={active} to={apis[0].stage ? null : apis[0].route}>\n            {title}\n            {apis[0].stage ? (\n              <Menu.Menu>\n                {apis.map(({ route, stage, active, id }) => (\n                  <MenuLink key={id} to={route} active={active} style={{ fontWeight: '400' }}>\n                    {stage}\n                  </MenuLink>\n                ))}\n              </Menu.Menu>\n            ) : null}\n          </MenuLink>\n        ))}\n      </>\n    </Sidebar>\n  )\n})\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Modal } from 'semantic-ui-react'\n// import { GetSdkModal } from './GetSdk'\n\n/**\n * For the time being, this can only be used once. I know this is a bad practice, but this is both in the interest of time and user experience. If we really want more than one modal at once, we can revisit in the future. For now, I want it to be hard to make multiple at once.\n */\nexport default class GlobalModal extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      open: false,\n      modalProps: {},\n      children: null\n    }\n\n    modal.open = (children, modalProps = {}) => {\n      this.setState({\n        children,\n        modalProps,\n        open: true\n      })\n    }\n    modal.close = () => {\n      this.setState({ open: false })\n    }\n  }\n\n  render () {\n    return (\n      <>\n        <Modal {...this.state.modalProps} open={this.state.open}>\n          {this.state.children}\n        </Modal>\n      </>\n    )\n  }\n}\n\n// the modal controller\n// start with noop modals\nexport const modal = {\n  open: () => { },\n  close: () => { }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Segment, Message } from 'semantic-ui-react'\n\nimport { observer } from 'mobx-react'\n\nimport { store } from 'services/state'\n\nexport default observer(function AlertPopup () {\n  return (\n    <Segment basic style={{ position: 'absolute', right: 0, margin: 0, top: '56px', display: 'flex', flexDirection: 'column' }}>\n      {store.notifications.map(notify => {\n        /* eslint-disable react/jsx-closing-bracket-location */\n        // eslint-disable-next-line react/jsx-key\n        return <Message\n          {...notify}\n          onDismiss={() => clearNotification(notify)}\n          style={{ margin: 0, marginBottom: '15px' }}\n        />\n        /* eslint-enable react/jsx-closing-bracket-location */\n      })}\n    </Segment>\n  )\n})\n\nexport function addNotification ({ compact = true, negative = true, floating = true, icon = 'warning sign', header = 'Error', content = 'An unknown error has occurred.' }) {\n  store.notifications.push({\n    compact, negative, floating, icon, header, content\n  })\n}\n\nfunction clearNotification (notification) {\n  store.notifications = store.notifications.filter(notify => notify !== notification)\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { apiGatewayClientWithCredentials } from 'services/api'\nimport { store } from 'services/state'\n\nimport React from 'react'\n\nimport { Loader, Button, Header, Modal, Icon, Form } from 'semantic-ui-react'\nimport { modal } from 'components/Modal'\nimport { addNotification } from 'components/AlertPopup'\n\nimport { observer } from 'mobx-react'\n\nimport _ from 'lodash'\n\n/**\n * This button is used in the `InfoReplacement` component of the SwaggerUiLayout to add the GetSdkButton directly into the SwaggerUi UI.\n */\nexport const GetSdkButton = observer(() => {\n  return (\n    <span>\n      <Dropdown text='Download SDK' pointing className='link item'>\n        {sdkTypes.map((type) => (\n          <div className='item' key={type.id} onClick={() => confirmDownload(type, getSdk)}>\n            {type.friendlyName}\n          </div>\n        ))}\n      </Dropdown>\n      <Dropdown text='Export API' pointing className='link item'>\n        {exportTypes.map((type) => (\n          <div className='item' key={type.id} onClick={() => confirmDownload(type, getExport)}>\n            {type.friendlyName}\n          </div>\n        ))}\n      </Dropdown>\n      {store.api.downloadingSdkOrApi && <Loader active inline size='tiny' />}\n    </span>\n  )\n})\n\nclass Dropdown extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = { visible: false }\n    this.button = +(new Date()) + '-dropdown-clickable' // we've using this class to exclude certain elements from hiding\n\n    this.toggleDropdown = () => this.setState(prevState => ({ ...prevState, visible: !prevState.visible }))\n    this.hideDropdown = event => {\n      if (!event.target.classList.contains(this.button)) { this.setState(prevState => ({ ...prevState, visible: false })) }\n    }\n\n    document.addEventListener('click', this.hideDropdown)\n  }\n\n  componentWillUnmount () {\n    document.removeEventListener('click', this.hideDropdown)\n  }\n\n  render () {\n    /* eslint-disable react/jsx-handler-names */\n    return (\n      <span onClick={this.toggleDropdown} className={'ui button pointing dropdown link item ' + this.button + (this.state.visible ? ' active' : '')}>\n        {this.props.text}\n        <i className={'dropdown icon ' + this.button} />\n        <div className={'menu transition' + (this.state.visible ? ' visible' : '')}>\n          {this.props.children}\n        </div>\n      </span>\n    )\n    /* eslint-enable react/jsx-handler-names */\n  }\n}\n\nfunction confirmDownload (type, getDownload) {\n  if (type.configurationProperties.length) {\n    modal.open(<GetSdkModal type={type} getDownload={getDownload} />)\n  } else {\n    getDownload(type.id)\n  }\n}\n\n/**\n * This modal is included by the modals component, which also provides the default open/close controls for all modals.\n */\nexport class GetSdkModal extends React.Component {\n  constructor (props) {\n    super(props)\n\n    // generate a null state value for each required property (to validate against)\n    const fields = props.type.configurationProperties.reduce((obj, property) => {\n      if (property.type === 'checkbox') {\n        obj[property.name] = false\n      } else if (property.type === 'radio') {\n        obj[property.name] = property.default\n      } else if (property.required) {\n        obj[property.name] = null\n      }\n      return obj\n    }, {})\n\n    this.state = {\n      fields\n    }\n\n    this.handleChange = (event, { name, checked, value }) => {\n      this.setState((prevState) => {\n        const prop = this.props.type.configurationProperties.find(property => property.name === name)\n        const newState = _.cloneDeep(prevState)\n        newState.fields[name] = prop.type === 'checkbox' ? checked : value\n        return newState\n      })\n    }\n\n    this.handleSubmit = () => {\n      if (!this.isDisabled().disabled) {\n        modal.close()\n        this.props.getDownload(this.props.type.id, this.state.fields)\n      }\n    }\n  }\n\n  // this function returns a prop directly\n  // it's intended to be used like <Component {...this.canSubmit()} />\n  isDisabled () {\n    const hasEmptyValue = !!Object.entries(this.state.fields)\n      .find(([key, value]) => value == null || value === '')\n\n    return { disabled: hasEmptyValue }\n  }\n\n  renderProperty (property) {\n    if (property.type === 'checkbox') {\n      return (\n        <Form.Checkbox\n          name={property.name}\n          label={`${property.friendlyName}`}\n          onChange={this.handleChange}\n        />\n      )\n    } else if (\n      property.type === 'radio' &&\n      property.values.some(value => property.default === value.name)\n    ) {\n      return (\n        <Form.Group inline>\n          <Form.Field>{property.friendlyName}</Form.Field>\n          <>\n            {property.values.map(({ friendlyName, name }) => (\n              <Form.Radio\n                key={name}\n                name={property.name}\n                label={`${friendlyName}`}\n                value={name}\n                checked={this.state.fields[property.name] === name}\n                onChange={this.handleChange}\n              />\n            ))}\n          </>\n        </Form.Group>\n      )\n    } else if (property.required) {\n      return (\n        <Form.Input\n          name={property.name}\n          label={`${property.friendlyName} (required)`}\n          placeholder={property.friendlyName}\n          onChange={this.handleChange}\n        />\n      )\n    } else {\n      // only display required fields for now\n      return null\n    }\n  }\n\n  render () {\n    const type = this.props.type\n\n    /* eslint-disable react/jsx-closing-bracket-location */\n    /* eslint-disable react/jsx-closing-tag-location */\n    /* eslint-disable react/jsx-handler-names */\n    return <>\n      <Header icon='archive' content={`Download the ${type.longName}`} />\n      <Modal.Content>\n        <Form onSubmit={this.handleSubmit}>\n          {type.configurationProperties.map(property => (\n            <React.Fragment key={property.name}>\n              {this.renderProperty(property)}\n            </React.Fragment>\n          ))}\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button basic color='red' onClick={modal.close}>\n          <Icon name='remove' /> Cancel\n        </Button>\n        <Button color='green' {...this.isDisabled()} onClick={this.handleSubmit}>\n          <Icon name='checkmark' /> Download\n        </Button>\n      </Modal.Actions>\n    </>\n    /* eslint-enable react/jsx-closing-bracket-location */\n    /* eslint-enable react/jsx-closing-tag-location */\n    /* eslint-enable react/jsx-handler-names */\n  }\n}\n\nconst sdkTypes = [\n  {\n    id: 'android',\n    friendlyName: 'Android',\n    longName: 'Android SDK',\n    description: '',\n    configurationProperties: [\n      {\n        name: 'groupId',\n        friendlyName: 'Group ID',\n        description: '',\n        required: true\n      }, {\n        name: 'invokerPackage',\n        friendlyName: 'Invoker package',\n        description: '',\n        required: true\n      }, {\n        name: 'artifactId',\n        friendlyName: 'Artifact ID',\n        description: '',\n        required: true\n      }, {\n        name: 'artifactVersion',\n        friendlyName: 'Artifact version',\n        description: '',\n        required: true\n      }\n    ]\n  },\n  {\n    id: 'javascript',\n    friendlyName: 'JavaScript',\n    longName: 'JavaScript SDK',\n    description: '',\n    configurationProperties: []\n  },\n  {\n    id: 'ios-objective-c',\n    friendlyName: 'iOS (Objective-C)',\n    longName: 'iOS SDK (Objective-C)',\n    description: '',\n    configurationProperties: [\n      {\n        name: 'classPrefix',\n        friendlyName: 'Prefix',\n        description: '',\n        required: true\n      }\n    ]\n  },\n  {\n    id: 'ios-swift',\n    friendlyName: 'iOS (Swift)',\n    longName: 'iOS SDK (Swift)',\n    description: '',\n    configurationProperties: [\n      {\n        name: 'classPrefix',\n        friendlyName: 'Prefix',\n        description: '',\n        required: true\n      }\n    ]\n  },\n  {\n    id: 'java',\n    friendlyName: 'Java',\n    longName: 'Java SDK',\n    description: 'Java SDK generator for API Gateway APIs',\n    configurationProperties: [\n      {\n        name: 'service.name',\n        friendlyName: 'Service Name',\n        description: 'Name of the service which is used to derive the Java interface name for your client',\n        required: true\n      },\n      {\n        name: 'java.package-name',\n        friendlyName: 'Java Package Name',\n        description: 'Name of the Java package your code will be generated under',\n        required: true\n      },\n      {\n        name: 'java.build-system',\n        friendlyName: 'Java Build System',\n        description: 'Build system to setup for project; Currently supported: maven, gradle',\n        required: false\n      },\n      {\n        name: 'java.group-id',\n        friendlyName: 'Java Group Id',\n        description: 'Group id for your Maven or Gradle project. Defaults to package name',\n        required: false\n      },\n      {\n        name: 'java.artifact-id',\n        friendlyName: 'Java Artifact Id',\n        description: 'Artifact Id for your Maven project or project name for your Gradle project. Defaults to service name',\n        required: false\n      },\n      {\n        name: 'java.artifact-version',\n        friendlyName: 'Java Artifact Version',\n        description: 'Version of your Maven or Gradle project. Defaults to 1.0-SNAPSHOT',\n        required: false\n      },\n      {\n        name: 'java.license-text',\n        friendlyName: 'Source Code License Text',\n        description: 'Customer provided license to inject into source file headers',\n        required: false\n      }\n    ]\n  },\n  {\n    id: 'ruby',\n    friendlyName: 'Ruby',\n    longName: 'Ruby SDK',\n    description: 'Ruby SDK generator for API Gateway APIs',\n    configurationProperties: [\n      {\n        name: 'service.name',\n        friendlyName: 'Service Name',\n        description: 'Name of the service which is used to derive the name for your client',\n        required: true\n      },\n      {\n        name: 'ruby.gem-name',\n        friendlyName: 'Ruby Gem Name',\n        description: 'Name of the Ruby gem your code will be generated under',\n        required: false\n      },\n      {\n        name: 'ruby.gem-version',\n        friendlyName: 'Ruby Gem Version',\n        description: 'Version number for your service gem. Defaults to 1.0.0',\n        required: false\n      }\n    ]\n  }\n]\n\nconst exportTypes = [\n  {\n    id: 'oas30',\n    friendlyName: 'OpenAPI 3',\n    longName: 'OpenAPI 3 definitions',\n    description: '',\n    configurationProperties: [\n      {\n        name: 'extensions.integrations',\n        friendlyName: 'Include x-amazon-apigateway-integration extensions',\n        description: '',\n        type: 'checkbox'\n      },\n      {\n        name: 'extensions.authorizers',\n        friendlyName: 'Include x-amazon-apigateway-authorizer extensions',\n        description: '',\n        type: 'checkbox'\n      },\n      {\n        name: 'extensions.postman',\n        friendlyName: 'Include extensions to allow importing into Postman',\n        description: '',\n        type: 'checkbox'\n      },\n      {\n        name: 'accept',\n        friendlyName: 'Export format',\n        description: '',\n        type: 'radio',\n        default: 'application/json',\n        values: [\n          { name: 'application/json', friendlyName: 'JSON' },\n          { name: 'application/yaml', friendlyName: 'YAML' }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'swagger',\n    friendlyName: 'Swagger 2',\n    longName: 'Swagger (OpenAPI 2) definitions',\n    description: '',\n    configurationProperties: [\n      {\n        name: 'extensions.integrations',\n        friendlyName: 'Include x-amazon-apigateway-integration extensions',\n        description: '',\n        type: 'checkbox'\n      },\n      {\n        name: 'extensions.authorizers',\n        friendlyName: 'Include x-amazon-apigateway-authorizer extensions',\n        description: '',\n        type: 'checkbox'\n      },\n      {\n        name: 'extensions.postman',\n        friendlyName: 'Include extensions to allow importing into Postman',\n        description: '',\n        type: 'checkbox'\n      },\n      {\n        name: 'accept',\n        friendlyName: 'Export format',\n        description: '',\n        type: 'radio',\n        default: 'application/json',\n        values: [\n          { name: 'application/json', friendlyName: 'JSON' },\n          { name: 'application/yaml', friendlyName: 'YAML' }\n        ]\n      }\n    ]\n  }\n]\n\n/**\n *\n * Let's talk about this for a moment. For some reason, passing data through the server adds (or removes?)\n * an unknown layer of encoding. To get around this, we're converting the file to a datauri on the backend,\n * then sending that through. Kinda unfortunate, because the datauri is larger than the actual encoded file.\n *\n * Eventually, this encoding should be uncovered, and removed or worked around. Once we do that, we will\n * need to switched to requesting a blob, then use a file reader to read the Blob. For now, I'm leaving those\n * in comments so we know how.\n *\n */\n\nfunction fetchBlob ({ blobType, endpointName, sdkType, exportType, ext, parameters }) {\n  const apiId = store.api.apiId || store.api.id\n  const stageName = store.api.apiStage\n\n  store.api.downloadingSdkOrApi = true\n\n  return apiGatewayClientWithCredentials()\n    .then(apiGatewayClient => apiGatewayClient.get(\n      `/catalog/${apiId}_${stageName}/${endpointName}`,\n      { sdkType },\n      {},\n      {\n        queryParams: { exportType, parameters: JSON.stringify(parameters) },\n        config: { responseType: 'blob' }\n      }\n    ))\n    .then(({ data }) => {\n      downloadFile(data, `${apiId}_${stageName}-${sdkType || exportType}${ext}`)\n    })\n    .catch(({ data }) => data.text().then(text => {\n      const result = JSON.parse(text)\n      addNotification({ header: `An error occurred while attempting to download the ${blobType}.`, content: result && result.message })\n    }))\n    .finally(() => {\n      store.api.downloadingSdkOrApi = false\n    })\n}\n\nfunction downloadFile (blob, fileName) {\n  const dataUri = URL.createObjectURL(blob)\n  const downloadLinkElement = document.createElement('a')\n  downloadLinkElement.setAttribute('href', dataUri)\n  downloadLinkElement.setAttribute('download', fileName)\n  downloadLinkElement.style.display = 'none'\n\n  document.body.appendChild(downloadLinkElement)\n  downloadLinkElement.click()\n  document.body.removeChild(downloadLinkElement)\n  URL.revokeObjectURL(dataUri)\n}\n\nfunction getSdk (sdkType, parameters = {}) {\n  return fetchBlob({\n    blobType: 'SDK',\n    endpointName: 'sdk',\n    ext: '.zip',\n    sdkType,\n    parameters\n  })\n}\n\nfunction getExport (exportType, parameters = {}) {\n  if (exportType === 'oas30' || exportType === 'swagger') {\n    const extensions = []\n    if (parameters['extensions.integrations']) extensions.push('integrations')\n    if (parameters['extensions.authorizers']) extensions.push('authorizers')\n    if (parameters['extensions.postman']) extensions.push('postman')\n    parameters = _.omit(parameters, [\n      'extensions.integrations',\n      'extensions.authorizers',\n      'extensions.postman'\n    ])\n    if (extensions.length) parameters.extensions = extensions.join(',')\n  }\n\n  return fetchBlob({\n    blobType: 'API export',\n    endpointName: 'export',\n    ext: '.json',\n    exportType,\n    parameters\n  })\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useMemo } from 'react'\n\n// semantic-ui\nimport { Button, Header, Image, Container } from 'semantic-ui-react'\n\n// markdown for external docs description\nimport marked from 'marked'\nimport DOMPurify from 'dompurify'\n\n// services\nimport { subscribe, unsubscribe } from 'services/api-catalog'\nimport { isAuthenticated } from 'services/self'\n\nimport { GetSdkButton } from 'components/GetSdk'\n\n// state\nimport { observer, Observer } from 'mobx-react'\nimport { store } from 'services/state.js'\n\n// Create the plugin that provides our layout component\nexport const SwaggerLayoutPlugin = () => ({ components: { InfoContainer: InfoReplacement } })\n\nfunction Markdown ({ source }) {\n  const rendered = useMemo(() => DOMPurify.sanitize(marked(source, {\n    headerIds: false,\n    silent: true\n  })), [source])\n\n  return <div dangerouslySetInnerHTML={{ __html: rendered }} />\n}\n\n// replaces the InfoContainer component\n// https://github.com/swagger-api/swagger-ui/blob/dd3afdc45656bda2a64ae6a7f9bdad006ea98149/src/core/components/layouts/base.jsx\n\n// Note: this is called not as a component, but as a function within a class component. Do\n// *not* make this a component, and do *not* use hooks or anything similar in it.\nfunction InfoReplacement ({ specSelectors }) {\n  let endpoint\n  if (specSelectors.hasHost()) {\n    endpoint = `https://${specSelectors.host()}${specSelectors.basePath() || ''}`\n  } else {\n    const servers = specSelectors.servers()\n    if (servers && servers.size) endpoint = servers.getIn([0, 'url'])\n  }\n\n  const info = specSelectors.info()\n  const version = specSelectors.version()\n  const externalDocs = specSelectors.externalDocs()\n  const apiTitle = info.get('title')\n  const apiDescription = info.get('description')\n  const docsDescription = externalDocs.get('description')\n  const docsUrl = externalDocs.get('url')\n\n  return <Observer>\n    {/*\n      If no API is loaded, let's just swallow the state and move on. (Swagger UI doesn't offer any\n      way to clean up after itself.)\n    */}\n    {() => store.api == null ? null : <Container fluid textAlign='left' className='fixfloat' style={{ padding: '40px 0px' }}>\n      <div style={{ display: 'flex' }}>\n        <div style={{ flex: '0 0 auto', marginRight: '20px' }}>\n          <Image size='small' src={store.api.logo} />\n        </div>\n        <div>\n          <Header as='h1'>{apiTitle}</Header>\n          <div style={{ display: 'flex', paddingBottom: '1em' }}>\n            <div style={{ marginRight: '20px' }}>\n              {store.api.apiStage == null ? <p style={{ fontWeight: 'bold' }}>Version</p> : null}\n              {endpoint ? <p style={{ fontWeight: 'bold' }}>Endpoint</p> : null}\n              {apiDescription ? <p style={{ fontWeight: 'bold' }}>Description</p> : null}\n              {/* <p style={{ fontWeight: \"bold\" }}>Usage Plan</p> */}\n            </div>\n            <div>\n              {store.api.apiStage == null ? <p>{version}</p> : null}\n              {endpoint ? <p>{endpoint}</p> : null}\n              {apiDescription ? <p>{apiDescription}</p> : null}\n              {/* <p>{store.api.usagePlan.name}</p> */}\n            </div>\n          </div>\n          {externalDocs ? (\n            <div style={{ paddingBottom: '1em' }}>\n              {docsDescription ? <Markdown source={docsDescription} /> : null}\n              <a href={docsUrl}>{docsUrl}</a>\n            </div>\n          ) : null}\n          <SubscriptionButtons />\n          {store.api.sdkGeneration && <GetSdkButton />}\n        </div>\n      </div>\n    </Container>}\n  </Observer>\n}\n\nconst SubscriptionButtons = observer(class SubscriptionButtons extends React.Component {\n  render () {\n    const { api } = store\n\n    if (!api || !isAuthenticated()) {\n      return null\n    }\n\n    const apiIsSubscribable = !!(api && api.apiStage && api.usagePlan)\n\n    if (apiIsSubscribable) {\n      return (\n        api.subscribed ? (\n          <Button onClick={() => unsubscribe(api.usagePlan.id)}>Unsubscribe</Button>\n        ) : (\n          <Button onClick={() => subscribe(api.usagePlan.id)}>Subscribe</Button>\n        )\n      )\n    } else {\n      return <Header style={{ marginTop: '0em' }} as='h4' color='grey'>This version of the API is not configured to be subscribable from the portal. Please contact an admin for more details.</Header>\n    }\n  }\n})\n\nexport default SwaggerLayoutPlugin\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// semantic-ui\nimport { Button, Icon, Sidebar, Segment, Responsive, Menu } from 'semantic-ui-react'\n\nimport _ from 'lodash'\n\n/* eslint-disable */\nexport default withCollapsibleMobileSidebar(class PageWithSidebar extends React.Component {\n  render() {\n    const {sidebarContent, children, SidebarPusherProps} = this.props\n\n    // injected props from withCollapsibleMobileSidebar HOC\n    const {isSidebarCollapsed, isMobileScreenResolution, toggleSidebar} = this.props\n    const expansionButtonWidth = \"48px\"\n    const sidebarWidth = \"260px\"\n    const contentWidth = isMobileScreenResolution ? `calc(100% - ${expansionButtonWidth})` : `calc(100% - ${sidebarWidth})`\n    const animation = isMobileScreenResolution ? \"overlay\" : \"push\"\n    const contentLeftMargin = isMobileScreenResolution ? expansionButtonWidth : 0\n    const expansionButtonLeftMargin = isSidebarCollapsed ? `-${sidebarWidth}` : 0\n    const transition = \"500ms ease\"\n    return (\n      <div style={{minHeight: '100vh'}}>\n        <Sidebar.Pushable\n          as={Segment}\n          style={{ display: \"flex\", flex: \"1 1 auto\", overflow: \"auto\", border: \"none\", margin: 0, borderRadius: 0, boxShadow: \"none\"}}>\n          <Sidebar\n            as={Menu}\n            inverted\n            attached\n            borderless\n            vertical\n            style={{ margin: 0, borderRadius: 0, flex: \"0 0 auto\", position: \"sticky\", overflowY: \"scroll\", width: sidebarWidth }}\n            visible={!isSidebarCollapsed}\n            animation={animation}>\n            {sidebarContent}\n          </Sidebar>\n          {\n            isMobileScreenResolution &&\n              <SidebarExpansionButton\n                onClick={toggleSidebar}\n                expanded={!isSidebarCollapsed}\n                style={{ marginLeft: expansionButtonLeftMargin, width: expansionButtonWidth, transition }}\n              />\n          }\n          <Sidebar.Pusher\n            dimmed={isMobileScreenResolution && !isSidebarCollapsed}\n            style={{ marginLeft: contentLeftMargin, position: \"absolute\", flex: \"1 1 auto\", overflow: 'auto', width: contentWidth, transition }}\n            {...SidebarPusherProps}>\n            {children}\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </div>\n    )\n  }\n})\n\nfunction withCollapsibleMobileSidebar(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        isSidebarCollapsed: false,\n        isMobileScreenResolution: false\n      }\n    }\n\n    componentDidMount() {\n      this.checkMobileScreenResolution()\n      window.addEventListener('resize', this.debouncedResizeHandler)\n    }\n\n    checkMobileScreenResolution = () => {\n      const isMobileScreenResolution = this.isMobileScreenResolution()\n      this.setState({isSidebarCollapsed: isMobileScreenResolution, isMobileScreenResolution: isMobileScreenResolution})\n\n      if (this.isMobileScreenResolution()) {\n        this.setState({isSidebarCollapsed: true, isMobileScreenResolution: true})\n      } else {\n        this.setState({isSidebarCollapsed: false, isMobileScreenResolution: false})\n      }\n    }\n\n    debouncedResizeHandler = _.debounce(this.checkMobileScreenResolution, 500)\n\n    isMobileScreenResolution() {\n      const {minWidth, maxWidth} = Responsive.onlyMobile\n      // Collapse sidebar on mobile device screen resolutions\n      return window.innerWidth >= minWidth && window.innerWidth <= maxWidth\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('resize', this.debouncedResizeHandler)\n    }\n\n    toggleSidebar = () => {\n      this.setState(state => ({isSidebarCollapsed: !state.isSidebarCollapsed}))\n    }\n\n    render() {\n      return (\n        <WrappedComponent\n          isSidebarCollapsed={this.state.isSidebarCollapsed}\n          toggleSidebar={this.toggleSidebar}\n          isMobileScreenResolution={this.state.isMobileScreenResolution}\n          {...this.props}\n        />\n      );\n    }\n  };\n}\n\nfunction SidebarExpansionButton({onClick, expanded, style}) {\n  return (\n      <Button\n        secondary\n        size=\"large\"\n        onClick={onClick}\n        title=\"Expand Sidebar\"\n        style={{zIndex: 3, borderRadius: 0, height: \"100vh\", position: \"sticky\", ...style}}>\n          <Icon\n            name={`chevron ${expanded ? \"left\" : \"right\"}`}\n            style={{margin: 0, padding: 0, width: 0, height: 0}}\n          />\n      </Button>\n  )\n}","export default __webpack_public_path__ + \"static/media/HeroImg.ff0e5f25.svg\";","import React from 'react'\nimport './style.css'\nimport HeroImg from '../../assets/images/HeroImg.svg'\n\nconst ApiNotSignIn = ({ regLink }) => {\n  return (\n    <div className=\"container\">\n      <div className=\"row align-items-center\">\n        <div className=\"col-lg-6\">\n          <div className=\"hero-content mx-2 mb-3\">\n            <h1>Hi, You need to Sign In <span> to see the list of APIs' </span></h1>\n            <p> Vantage Towers Developer portal contains lot's of useful APIs that you can plug to your web app, mobile app or software. Kindly sign up now to view our API list. </p>\n            <div className=\"main-btn btn-hover\" onClick={regLink}>Sign Up</div>\n          </div>\n        </div>\n        <div className=\"col-lg-6\">\n          <div className=\"hero-img my-sm-3 mx-3\">\n            <img src={HeroImg} alt='hero' />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default ApiNotSignIn\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// swagger-ui\nimport SwaggerUI from 'swagger-ui'\nimport 'swagger-ui/dist/swagger-ui.css'\n\n// semantic-ui\nimport { Container, Header, Icon } from 'semantic-ui-react'\n\n// services\nimport { isRegistered, getCognitoUrl } from 'services/self'\nimport { updateUsagePlansAndApisList, getApi } from 'services/api-catalog'\n\n// components\nimport ApisMenu from 'components/ApisMenu'\nimport SwaggerLayoutPlugin from 'components/SwaggerUiLayout'\nimport PageWithSidebar from 'components/PageWithSidebar'\nimport ApiNotSignIn from 'componentsNew/ApiNotSignIn/'\n\n// state\nimport { store } from 'services/state.js'\nimport { observer } from 'mobx-react'\n\nexport default observer(class ApisPage extends React.Component {\n  containerRef = React.createRef()\n  hasRoot = false\n\n  componentDidMount () { this.updateApi(true) }\n  componentDidUpdate () { this.updateApi(false) }\n  componentWillUnmount () { this.containerRef = null }\n\n  updateApi (isInitial) {\n    return getApi(this.props.match.params.apiId || 'ANY', true, this.props.match.params.stage, isInitial)\n      .then(api => {\n        if (this.containerRef == null) return\n        const elem = this.containerRef.current\n        const isFirstLoad = !this.hasRoot\n\n        this.hasRoot = elem != null\n        if (api && elem != null) {\n          const cell = {\n            shouldPreauthorizeApiKey: false,\n            preauthorizeApiKey: () => {\n              cell.shouldPreauthorizeApiKey = true\n            }\n          }\n          const swaggerUiConfig = {\n            domNode: this.containerRef.current,\n            plugins: [SwaggerLayoutPlugin],\n            supportedSubmitMethods: [],\n            spec: api.swagger,\n            onComplete: () => cell.preauthorizeApiKey()\n          }\n          if (isRegistered()) {\n            delete swaggerUiConfig.supportedSubmitMethods\n          }\n\n          const uiHandler = SwaggerUI(swaggerUiConfig)\n          cell.preauthorizeApiKey = () => {\n            if (store.apiKey) {\n              uiHandler.preauthorizeApiKey('api_key', store.apiKey)\n            }\n          }\n          if (cell.shouldPreauthorizeApiKey) {\n            cell.preauthorizeApiKey()\n          }\n\n          if (isFirstLoad) return updateUsagePlansAndApisList(true)\n        }\n      })\n  }\n\n  signIn () {\n    window.location = getCognitoUrl('login')\n  }\n\n  render () {\n    let errorHeader\n    let errorBody\n\n    if (!store.apiKey) {\n      return (\n        <ApiNotSignIn regLink={this.signIn} />\n      )\n    }\n\n    if (store.apiList.loaded) {\n      if (!store.apiList.apiGateway.length && !store.apiList.generic.length) {\n        errorHeader = 'No APIs Published'\n        errorBody = 'Your administrator hasn\\'t added any APIs to your account. Please contact them to publish an API.'\n      } else if (!store.api) {\n        errorHeader = 'No Such API'\n        errorBody = 'The selected API doesn\\'t exist.'\n      }\n    }\n\n    return (\n      <PageWithSidebar\n        sidebarContent={<ApisMenu path={this.props.match} activateFirst={true} />}\n        SidebarPusherProps={{ className: 'swagger-section' }}\n      >\n        <div className='swagger-ui-wrap' ref={this.containerRef} style={{ padding: '0 20px' }}>\n          {errorHeader && errorBody && (\n            <>\n              <Header as='h2' icon textAlign='center' style={{ padding: '40px 0px' }}>\n                <Icon name='warning sign' circular />\n                <Header.Content>{errorHeader}</Header.Content>\n              </Header>\n              <Container text textAlign='justified'>\n                <p>{errorBody}</p>\n              </Container>\n            </>\n          )}\n        </div>\n      </PageWithSidebar>\n    )\n  }\n})\n","import React, { useState } from 'react'\n\nexport const MessageList = ({ messages }) =>\n  messages.map(({ render, id }) => (\n    <React.Fragment key={id}>{render()}</React.Fragment>\n  ))\n\n/**\n * A Hook for operating a list of \"messages\" which should be self-dismissable.\n * Returns `[messages, sendMessage]`, where:\n *    - `messages` is an array of messages, which should be provided as a prop\n *      to `MessageList` to be rendered\n *    - `sendMessage` is a function which accepts a renderer callback, and\n *      calls the callback to obtain a renderable message to append to\n *      `messages`. The renderer callback should accept a `dismiss` function as\n *      its sole argument, which removes the renderable message from `messages`\n *      when called.\n */\nexport const useMessages = () => {\n  const [state, setState] = useState({\n    messages: [],\n    nextId: 0\n  })\n\n  const sendMessage = renderWithDismiss => {\n    const id = state.nextId\n    const dismiss = () => {\n      setState(state => ({\n        ...state,\n        messages: state.messages.filter(message => message.id !== id)\n      }))\n    }\n    const newMessage = {\n      render: () => renderWithDismiss(dismiss),\n      id: state.nextId\n    }\n    setState(state => ({\n      messages: [...state.messages, newMessage],\n      nextId: state.nextId + 1\n    }))\n  }\n\n  const clearMessages = () => {\n    setState(state => ({ ...state, messages: [] }))\n  }\n\n  return [state.messages, sendMessage, clearMessages]\n}\n","import _ from 'lodash'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Container,\n  Dropdown,\n  Icon,\n  Input,\n  Pagination,\n  Placeholder,\n  Table\n} from 'semantic-ui-react'\n\nimport styles from './AccountsTable.module.css'\n\nexport const DEFAULT_PAGE_SIZE = 10\n\nconst FILLER_ACCOUNT = Symbol('FILLER_ACCOUNT')\n\nconst NO_FILTER_COLUMN = Symbol('NO_FILTER_COLUMN')\nconst NO_FILTER_VALUE = ''\nconst NO_ORDER_COLUMN = Symbol('NO_ORDER_COLUMN')\n\nconst ORDER_DIRECTIONS = [\n  {\n    lodashDirection: undefined,\n    iconName: 'sort'\n  },\n  {\n    lodashDirection: 'asc',\n    iconName: 'sort up'\n  },\n  {\n    lodashDirection: 'desc',\n    iconName: 'sort down'\n  }\n]\n\nconst nextDirectionIndex = index => (index + 1) % ORDER_DIRECTIONS.length\n\nexport const ACCOUNT_ROW_PLACEHOLDER_TESTID = 'accountRowPlaceholder'\nexport const FILTER_DROPDOWN_TESTID = 'filterDropdown'\nexport const ACCOUNTS_TABLE_TESTID = 'accountsTable'\nexport const ACCOUNT_COLUMN_ID_DATA_ATTR = 'data-account-column-id'\n\n/**\n * A paginated table whose rows represent accounts.\n *\n * @param {Object} props\n * @param {Object[]} props.accounts\n *    all Account objects to display (before filtering)\n * @param {AccountsTableColumns~Descriptor[]} props.columns\n *    column descriptors\n * @param {boolean} props.loading\n *    if true, the table displays a loading state; if false, the table displays\n *    the given accounts\n * @param {Object} props.selectedAccount\n *    an Account object to highlight\n * @param onSelectAccount\n *    when the row corresponding to `account` is clicked, AccountsTable calls\n *    `onSelectAccount(account)`\n * @param children\n *    components to be placed in the actions section above the table\n */\nexport const AccountsTable = ({\n  accounts,\n  columns,\n  loading,\n  selectedAccount,\n  onSelectAccount,\n  children: toolbarActions\n}) => {\n  const pageSize = DEFAULT_PAGE_SIZE\n\n  const [accountsView, setAccountsView] = useState(accounts)\n  const [activePage, setActivePage] = useState(0)\n  const [activePageAccounts, setActivePageAccounts] = useState(\n    [...Array(pageSize)].fill(FILLER_ACCOUNT)\n  )\n\n  const [filterableColumns, setFilterableColumns] = useState([])\n  const [filter, setFilter] = useState({\n    column: NO_FILTER_COLUMN,\n    value: NO_FILTER_VALUE\n  })\n  const [order, setOrder] = useState({\n    column: NO_ORDER_COLUMN,\n    directionIndex: 0\n  })\n\n  /* eslint-disable brace-style */\n  useEffect(() => {\n    const filterableColumns = columns.filter(column => column.filtering)\n    setFilterableColumns(filterableColumns)\n\n    // Reset filtering state if no columns are filterable\n    if (filterableColumns.length === 0) {\n      setFilter({\n        column: NO_FILTER_COLUMN,\n        value: NO_FILTER_VALUE\n      })\n    }\n\n    // Pick the first filterable column if one is available\n    else if (filter.column === NO_FILTER_COLUMN) {\n      setFilter(filter => ({ ...filter, column: filterableColumns[0] }))\n    }\n\n    // Reset filterColumn if it's no longer among the available columns\n    else if (!filterableColumns.includes(filter.column)) {\n      setFilter(filter => ({ ...filter, column: NO_FILTER_COLUMN }))\n    }\n  }, [columns, filter])\n  /* eslint-enable brace-style */\n\n  /**\n   * Sets `accountsView` to the filtered and sorted subset of `props.accounts`.\n   */\n  useEffect(() => {\n    let view = _(accounts)\n\n    if (filter.value !== '' && filter.column !== NO_FILTER_COLUMN) {\n      const filterAccessor = filter.column.filtering.accessor\n      if (typeof filterAccessor === 'string') {\n        view = view.filter(\n          item =>\n            !!item[filterAccessor] &&\n            item[filterAccessor].toString().includes(filter.value)\n        )\n      } else if (typeof filterAccessor === 'function') {\n        view = view.filter(item => filterAccessor(item).includes(filter.value))\n      } else {\n        throw new Error(\n          `Invalid filtering accessor on column ${filter.column.id}`\n        )\n      }\n    }\n\n    if (order.column !== NO_ORDER_COLUMN) {\n      view = view.orderBy(\n        [order.column.ordering.iteratee],\n        [ORDER_DIRECTIONS[order.directionIndex].lodashDirection]\n      )\n    }\n\n    setAccountsView(view.value())\n  }, [accounts, filter, order])\n\n  /**\n   * Returns a page of accounts from `accountView` according to the given page\n   * number.\n   */\n  const computeAccountsPage = useCallback(\n    activePage => {\n      const start = activePage * pageSize\n      const pageItems = accountsView.slice(start, start + pageSize)\n      const fillerCount = pageSize - pageItems.length\n      if (fillerCount) {\n        pageItems.push(...Array(fillerCount).fill(FILLER_ACCOUNT))\n      }\n      return pageItems\n    },\n    [accountsView, pageSize]\n  )\n\n  const totalPages = Math.ceil(accountsView.length / pageSize)\n\n  const onPageChange = useCallback(\n    (_event, { activePage: newActivePage }) => {\n      // SemanticUI uses 1-indexing in Pagination. We prefer sanity.\n      --newActivePage\n      setActivePage(newActivePage)\n      setActivePageAccounts(computeAccountsPage(newActivePage, accountsView))\n      onSelectAccount(undefined)\n    },\n    [accountsView, onSelectAccount, computeAccountsPage]\n  )\n\n  useEffect(() => {\n    loading || onPageChange(undefined, { activePage: 1 })\n  }, [accounts, loading, onPageChange])\n\n  const tableRows = _.range(pageSize).map(index => {\n    if (loading) {\n      return <LoadingAccountRow key={index} columnCount={columns.length} />\n    }\n\n    const account = activePageAccounts[index]\n    return account === FILLER_ACCOUNT ? (\n      <FillerAccountRow key={index} columnCount={columns.length} />\n    ) : (\n      <AccountRow\n        account={account}\n        columns={columns}\n        isSelected={account === selectedAccount}\n        onSelect={onSelectAccount}\n        key={index}\n      />\n    )\n  })\n\n  const filterColumnDropdownOptions = filterableColumns.map(\n    ({ title, id }, index) => ({ key: index, text: title, value: id })\n  )\n\n  const onFilterColumnDropdownChange = (_event, { value }) =>\n    setFilter(filter => ({\n      ...filter,\n      column:\n        filterableColumns.find(column => column.id === value) ||\n        NO_FILTER_COLUMN\n    }))\n  const onSearchInputChange = (_event, { value }) =>\n    setFilter(filter => ({ ...filter, value }))\n\n  const toolbar = (\n    <>\n      <div\n        style={{ float: 'left', marginBottom: '1rem', paddingRight: '1rem' }}\n      >\n        {filterableColumns.length > 0 && (\n          <Input\n            iconPosition='left'\n            icon='search'\n            placeholder='Search by...'\n            value={filter.value}\n            onChange={onSearchInputChange}\n            style={{ maxWidth: '24em' }}\n          />\n        )}\n      </div>\n      <div\n        style={{ float: 'left', marginBottom: '1rem', paddingRight: '1rem' }}\n      >\n        <Dropdown\n          onChange={onFilterColumnDropdownChange}\n          options={filterColumnDropdownOptions}\n          selection\n          value={filter.column.id}\n          data-testid={FILTER_DROPDOWN_TESTID}\n        />\n      </div>\n      <div style={{ float: 'right', marginBottom: '1rem' }}>\n        {toolbarActions}\n      </div>\n    </>\n  )\n\n  const table = (\n    <Table selectable={!loading} data-testid={ACCOUNTS_TABLE_TESTID}>\n      <TableHeader columns={columns} order={order} setOrder={setOrder} />\n      <Table.Body>{tableRows}</Table.Body>\n      <Table.Footer>\n        <Table.Row>\n          <Table.HeaderCell colSpan={columns.length}>\n            <Container fluid textAlign='right'>\n              <Pagination\n                // SemanticUI uses 1-indexing in Pagination. We prefer sanity.\n                activePage={activePage + 1}\n                onPageChange={onPageChange}\n                totalPages={totalPages}\n              />\n            </Container>\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Footer>\n    </Table>\n  )\n\n  return (\n    <Container fluid>\n      {toolbar}\n      {table}\n    </Container>\n  )\n}\n\nconst TableHeader = React.memo(({ columns, order, setOrder }) => {\n  // Clicking on a column makes it the \"order column\". If that column was\n  // already the \"order column\", cycle between order directions (none,\n  // ascending, descending). Otherwise, start at the beginning of the cycle\n  // (ascending).\n  const onToggleOrder = column => () => {\n    const nextOrder = { ...order }\n\n    if (column === order.column) {\n      const nextIndex = nextDirectionIndex(order.directionIndex)\n      if (nextIndex === 0) {\n        nextOrder.column = NO_ORDER_COLUMN\n      }\n      nextOrder.directionIndex = nextIndex\n    } else {\n      nextOrder.column = column\n      nextOrder.directionIndex = nextDirectionIndex(0)\n    }\n\n    setOrder(nextOrder)\n  }\n\n  const orderDirection = ORDER_DIRECTIONS[order.directionIndex]\n  return (\n    <Table.Header>\n      <Table.Row className={styles.headerRow}>\n        {columns.map((column, index) => (\n          <Table.HeaderCell\n            key={index}\n            onClick={column.ordering && onToggleOrder(column)}\n          >\n            {column.title}\n            {column === order.column && <Icon name={orderDirection.iconName} />}\n            {column.ordering && column !== order.column && (\n              <Icon name={ORDER_DIRECTIONS[0].iconName} disabled />\n            )}\n          </Table.HeaderCell>\n        ))}\n      </Table.Row>\n    </Table.Header>\n  )\n})\n\nconst LoadingAccountRow = React.memo(({ columnCount }) => (\n  <Table.Row>\n    {Array.from({ length: columnCount }).map((_value, index) => (\n      <Table.Cell key={index}>\n        <Placeholder data-testid={ACCOUNT_ROW_PLACEHOLDER_TESTID} fluid>\n          &nbsp;\n        </Placeholder>\n      </Table.Cell>\n    ))}\n  </Table.Row>\n))\n\nconst FillerAccountRow = React.memo(({ columnCount }) => (\n  <Table.Row>\n    {Array.from({ length: columnCount }).map((_value, index) => (\n      <Table.Cell key={index}>&nbsp;</Table.Cell>\n    ))}\n  </Table.Row>\n))\n\nconst AccountRow = React.memo(({ account, columns, isSelected, onSelect }) => {\n  return (\n    <Table.Row active={isSelected} onClick={() => onSelect(account)}>\n      {columns.map(({ id, render }, index) => (\n        <Table.Cell {...{ [ACCOUNT_COLUMN_ID_DATA_ATTR]: id }} key={index}>\n          {render(account)}\n        </Table.Cell>\n      ))}\n    </Table.Row>\n  )\n})\n","/**\n * An AccountsTable column descriptor.\n *\n * @typedef {Object} AccountsTableColumns~Descriptor\n * @property {string} id\n *    a unique ID to distinguish this column from others\n * @property {string} title\n *    column title to show in the header row\n * @property {Function} render\n *    accepts an Account object, and returns content to be placed in the table\n *    cell in this column\n * @property {(Object|undefined)} ordering\n *    ordering descriptor for this column. If absent, the user cannot order on\n *    this column.\n * @property ordering.iteratee\n *    a lodash iteratee, used with `lodash.orderBy`\n * @property {(Object|undefined)} filtering\n *    filtering descriptor for this column. If absent, the user cannot filter\n *    on this column.\n * @property {string} filtering.accessor\n *    either an Account object property name, or a function which takes an\n *    Account object and returns a string, on which to filter\n */\n\nexport const EmailAddress = {\n  id: 'EmailAddress',\n  title: 'Email address',\n  render: account => account.EmailAddress,\n  ordering: {\n    iteratee: 'EmailAddress'\n  },\n  filtering: {\n    accessor: 'EmailAddress'\n  }\n}\n\nexport const IsAdmin = {\n  id: 'IsAdmin',\n  title: 'Administrator',\n  render: account => account.IsAdmin ? 'Yes' : 'No',\n  ordering: {\n    iteratee: 'IsAdmin'\n  },\n  filtering: {\n    accessor: 'IsAdmin'\n  }\n}\n\nexport const DateRegistered = {\n  id: 'DateRegistered',\n  title: 'Date registered',\n  render: account => formatDate(account.DateRegistered),\n  ordering: {\n    iteratee: 'DateRegistered'\n  }\n}\n\nexport const RegistrationMethod = {\n  id: 'RegistrationMethod',\n  title: 'Registration method',\n  render: account => account.RegistrationMethod\n}\n\nexport const ApiKeyId = {\n  id: 'ApiKeyId',\n  title: 'API key ID',\n  render: account => account.ApiKeyId,\n  filtering: {\n    accessor: 'ApiKeyId'\n  }\n}\n\nexport const Promoter = {\n  id: 'Promoter',\n  title: 'Promoter',\n  render: ({ PromoterUserId, PromoterEmailAddress }) =>\n    PromoterUserId ? `${PromoterEmailAddress} (${PromoterUserId})` : '',\n  filtering: {\n    accessor: ({ PromoterUserId, PromoterEmailAddress }) =>\n      PromoterUserId ? `${PromoterEmailAddress} ${PromoterUserId}` : ''\n  }\n}\n\nexport const Inviter = {\n  id: 'Inviter',\n  title: 'Inviter',\n  render: ({ InviterUserId, InviterEmailAddress }) =>\n    InviterUserId ? `${InviterEmailAddress} (${InviterUserId})` : '',\n  filtering: {\n    accessor: ({ InviterUserId, InviterEmailAddress }) =>\n      InviterUserId ? `${InviterEmailAddress} ${InviterUserId}` : ''\n  }\n}\n\nexport const DatePromoted = {\n  id: 'DatePromoted',\n  title: 'Date promoted',\n  render: ({ DatePromoted }) => (DatePromoted ? formatDate(DatePromoted) : ''),\n  ordering: {\n    iteratee: 'DatePromoted'\n  }\n}\n\nexport const DateRequested = {\n  id: 'DateRequested',\n  title: 'Date requested',\n  render: account => formatDate(account.DateRequested),\n  ordering: {\n    iteratee: 'DateRequested'\n  }\n}\n\nexport const DateInvited = {\n  id: 'DateInvited',\n  title: 'Date invited',\n  render: account => formatDate(account.DateInvited),\n  ordering: {\n    iteratee: 'DateInvited'\n  }\n}\n\nconst DATE_TIME_FORMATTER = new Intl.DateTimeFormat('default', {\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric'\n})\n\nconst formatDate = isoDateString =>\n  DATE_TIME_FORMATTER.format(new Date(isoDateString))\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Button, Container, Header, Message, Modal } from 'semantic-ui-react'\n\nimport * as MessageList from 'components/MessageList'\nimport * as AccountService from 'services/accounts'\nimport * as AccountsTable from 'components/Admin/Accounts/AccountsTable'\nimport * as AccountsTableColumns from 'components/Admin/Accounts/AccountsTableColumns'\nimport { store } from 'services/state'\nimport _ from 'lodash'\n\nconst RegisteredAccounts = () => {\n  const [accounts, setAccounts] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [selectedAccount, setSelectedAccount] = useState(undefined)\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false)\n  const [promoteModalOpen, setPromoteModalOpen] = useState(false)\n  const [messages, sendMessage] = MessageList.useMessages()\n\n  const refreshAccounts = async () => {\n    const [all, admins] = await Promise.all([\n      AccountService.fetchRegisteredAccounts(),\n      AccountService.fetchAdminAccounts()\n    ])\n\n    const allMap = {}\n\n    all.forEach(user => { allMap[user.UserId] = user })\n    admins.forEach(admin => {\n      admin.IsAdmin = true\n      if (admin.EmailAddress === store.user.email) {\n        admin.EmailAddress += ' (you)'\n      }\n      allMap[admin.UserId] = admin\n    })\n\n    return setAccounts(Object.values(allMap))\n  }\n\n  const isYou = (user) => {\n    return (_.get(store, 'user.email') + ' (you)') === user.EmailAddress\n  }\n\n  // Initial load\n  useEffect(() => {\n    refreshAccounts().finally(() => setLoading(false))\n  }, [])\n\n  const onSelectAccount = useCallback(account => setSelectedAccount(account), [\n    setSelectedAccount\n  ])\n\n  const onConfirmDelete = useCallback(async () => {\n    setLoading(true)\n    setDeleteModalOpen(false)\n    try {\n      await AccountService.deleteAccountByUserId(selectedAccount.UserId)\n      sendMessage(dismiss => (\n        <DeleteSuccessMessage account={selectedAccount} dismiss={dismiss} />\n      ))\n      await refreshAccounts()\n    } catch (error) {\n      sendMessage(dismiss => (\n        <DeleteFailureMessage\n          account={selectedAccount}\n          dismiss={dismiss}\n          errorMessage={error.message}\n        />\n      ))\n    } finally {\n      setLoading(false)\n    }\n  }, [sendMessage, selectedAccount])\n\n  const onConfirmPromote = useCallback(async () => {\n    setLoading(true)\n    setPromoteModalOpen(false)\n    try {\n      await AccountService.promoteAccountByUserId(selectedAccount.UserId)\n      sendMessage(dismiss => (\n        <PromoteSuccessMessage account={selectedAccount} dismiss={dismiss} />\n      ))\n      await refreshAccounts()\n    } catch (error) {\n      sendMessage(dismiss => (\n        <PromoteFailureMessage\n          account={selectedAccount}\n          dismiss={dismiss}\n          errorMessage={error.message}\n        />\n      ))\n    } finally {\n      setLoading(false)\n    }\n  }, [sendMessage, selectedAccount])\n\n  return (\n    <Container fluid style={{ padding: '2em' }}>\n      <Header as='h1'>Registered accounts</Header>\n      <MessageList.MessageList messages={messages} />\n      <AccountsTable.AccountsTable\n        accounts={accounts}\n        columns={[\n          AccountsTableColumns.EmailAddress,\n          AccountsTableColumns.IsAdmin,\n          AccountsTableColumns.DateRegistered,\n          AccountsTableColumns.RegistrationMethod,\n          AccountsTableColumns.ApiKeyId\n        ]}\n        loading={loading}\n        selectedAccount={selectedAccount}\n        onSelectAccount={onSelectAccount}\n      >\n        <TableActions\n          canDelete={!loading && selectedAccount && !isYou(selectedAccount)}\n          onClickDelete={() => setDeleteModalOpen(true)}\n          canPromote={!loading && selectedAccount}\n          isAdmin={selectedAccount && selectedAccount.IsAdmin}\n          onClickPromote={() => setPromoteModalOpen(true)}\n        />\n      </AccountsTable.AccountsTable>\n      <DeleteAccountModal\n        account={selectedAccount}\n        onConfirm={onConfirmDelete}\n        open={deleteModalOpen}\n        isAdmin={selectedAccount && selectedAccount.IsAdmin}\n        onClose={() => setDeleteModalOpen(false)}\n      />\n      <PromoteAccountModal\n        account={selectedAccount}\n        onConfirm={onConfirmPromote}\n        open={promoteModalOpen}\n        onClose={() => setPromoteModalOpen(false)}\n      />\n    </Container>\n  )\n}\nexport default RegisteredAccounts\n\nconst TableActions = React.memo(\n  ({ canDelete, onClickDelete, canPromote, onClickPromote, isAdmin }) => (\n    <Button.Group>\n      <Button content='Delete' disabled={!canDelete} onClick={onClickDelete} />\n      <Button\n        content='Promote to Admin'\n        disabled={!canPromote || isAdmin}\n        onClick={onClickPromote}\n      />\n    </Button.Group>\n  )\n)\n\nconst DeleteAccountModal = React.memo(\n  ({ account, onConfirm, open, onClose, isAdmin }) =>\n    account && (\n      <Modal size='small' open={open} onClose={onClose}>\n        <Modal.Header>Delete account</Modal.Header>\n        <Modal.Content>\n          {isAdmin && (\n            <Message negative>\n              <Message.Header>Danger! This is an admin account.</Message.Header>\n              <p><strong>Deleting an admin account could cause temporary loss of access and temporary inability to configure the developer portal.</strong></p>\n            </Message>\n          )}\n          <p>\n            Are you sure you want to delete the account <strong>{account.EmailAddress}</strong>, and de-activate the             associated API key? This action is irreversible.\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button negative onClick={onConfirm}>\n            Delete\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n)\n\nconst PromoteAccountModal = React.memo(\n  ({ account, onConfirm, open, onClose }) =>\n    account && (\n      <Modal size='small' open={open} onClose={onClose}>\n        <Modal.Header>Confirm promotion</Modal.Header>\n        <Modal.Content>\n          <p>\n            Are you sure you want to promote the account{' '}\n            <strong>{account.EmailAddress}</strong> to Admin? This will allow\n            the account to perform any Admin actions, including deleting and\n            promoting other accounts.\n          </p>\n          <p>\n            Only the owner of the Developer Portal can demote the account,\n            through the Cognito console.\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button negative onClick={onConfirm}>\n            Promote\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n)\n\nconst DeleteSuccessMessage = React.memo(({ account, dismiss }) => (\n  <Message onDismiss={dismiss} positive>\n    <Message.Content>\n      Deleted account <strong>{account.EmailAddress}</strong>.\n    </Message.Content>\n  </Message>\n))\n\nconst DeleteFailureMessage = React.memo(\n  ({ account, errorMessage, dismiss }) => (\n    <Message onDismiss={dismiss} negative>\n      <Message.Content>\n        <p>\n          Failed to delete account <strong>{account.EmailAddress}</strong>.\n        </p>\n        {errorMessage && <p>Error message: {errorMessage}</p>}\n      </Message.Content>\n    </Message>\n  )\n)\n\nconst PromoteSuccessMessage = React.memo(({ account, dismiss }) => (\n  <Message onDismiss={dismiss} positive>\n    <Message.Content>\n      Promoted account <strong>{account.EmailAddress}</strong>.\n    </Message.Content>\n  </Message>\n))\n\nconst PromoteFailureMessage = React.memo(\n  ({ account, errorMessage, dismiss }) => (\n    <Message onDismiss={dismiss} negative>\n      <Message.Content>\n        <p>\n          Failed to promote account <strong>{account.EmailAddress}</strong>.\n        </p>\n        {errorMessage && <p>Error message: {errorMessage}</p>}\n      </Message.Content>\n    </Message>\n  )\n)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Container, Header } from 'semantic-ui-react'\n\nimport * as AccountService from 'services/accounts'\nimport * as AccountsTable from 'components/Admin/Accounts/AccountsTable'\nimport * as AccountsTableColumns from 'components/Admin/Accounts/AccountsTableColumns'\n\nconst AdminAccounts = () => {\n  const [accounts, setAccounts] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [selectedAccount, setSelectedAccount] = useState(undefined)\n\n  const refreshAccounts = () =>\n    AccountService.fetchAdminAccounts().then(accounts =>\n      setAccounts(accounts)\n    )\n\n  // Initial load\n  useEffect(() => {\n    refreshAccounts().finally(() => setLoading(false))\n  }, [])\n\n  const onSelectAccount = useCallback(account => setSelectedAccount(account), [\n    setSelectedAccount\n  ])\n\n  return (\n    <Container fluid style={{ padding: '2em' }}>\n      <Header as='h1'>Admin accounts</Header>\n      <AccountsTable.AccountsTable\n        accounts={accounts}\n        columns={[\n          AccountsTableColumns.EmailAddress,\n          AccountsTableColumns.DatePromoted,\n          AccountsTableColumns.Promoter\n        ]}\n        loading={loading}\n        selectedAccount={selectedAccount}\n        onSelectAccount={onSelectAccount}\n      />\n    </Container>\n  )\n}\nexport default AdminAccounts\n","import { useState, useCallback } from 'react'\n\n/**\n * A React state hook wrapping a boolean value, returning `setTrue` and\n * `setFalse` functions which do as their names suggest. Returns `[state,\n * setTrue, setFalse, setState]`, in which the first and last functions\n * correspond to those returned by `useState`, and in which all functions (i.e.\n * all but `state`) are stable.\n *\n * This is especially useful for controlled modals, for example, which may\n * close themselves via a callback:\n * ```javascript\n * const [isOpen, open, close] = useBoolean(false)\n * return (<Modal isOpen={isOpen} closeSelf={close}> ... </Modal>)\n * ```\n */\nexport const useBoolean = initialState => {\n  const [state, setState] = useState(initialState)\n  const setTrue = useCallback(() => setState(true), [])\n  const setFalse = useCallback(() => setState(false), [])\n  return [state, setTrue, setFalse, setState]\n}\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n  useRef,\n} from \"react\";\nimport {\n  Form,\n  Button,\n  Container,\n  Header,\n  Message,\n  Modal,\n} from \"semantic-ui-react\";\nimport axios from \"axios\";\n\n\nimport * as MessageList from \"components/MessageList\";\nimport * as AccountService from \"services/accounts\";\nimport * as AccountsTable from \"components/Admin/Accounts/AccountsTable\";\nimport * as AccountsTableColumns from \"components/Admin/Accounts/AccountsTableColumns\";\n\nimport { useBoolean } from \"utils/use-boolean\";\n\nconst PendingInvites = () => {\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedAccount, setSelectedAccount] = useState(undefined);\n  const [isCreateModalOpen, openCreateModal, closeCreateModal] =\n    useBoolean(false);\n  const [isDeleteModalOpen, openDeleteModal, closeDeleteModal] =\n    useBoolean(false);\n  const [messages, sendMessage] = MessageList.useMessages();\n  const [\n    createModalMessages,\n    sendCreateModalMessage,\n    clearCreateModalMessages,\n  ] = MessageList.useMessages();\n\n  const refreshAccounts = () =>\n    AccountService.fetchPendingInviteAccounts().then((accounts) =>\n      setAccounts(accounts)\n    );\n\n  // Initial load\n  useEffect(() => {\n    refreshAccounts().finally(() => setLoading(false));\n  }, []);\n\n  const onSelectAccount = useCallback(\n    (account) => setSelectedAccount(account),\n    []\n  );\n\n  const onConfirmCreate = useCallback(\n    async (emailAddress) => {\n      setLoading(true);\n      clearCreateModalMessages();\n      try {\n        await AccountService.createInviteByEmail(emailAddress);\n      } catch (error) {\n        sendCreateModalMessage((dismiss) => (\n          <CreateFailureMessage\n            emailAddress={emailAddress}\n            dismiss={dismiss}\n            errorMessage={error.message}\n          />\n        ));\n        setLoading(false);\n        return false;\n      }\n      closeCreateModal();\n      clearCreateModalMessages();\n      sendMessage((dismiss) => (\n        <CreateSuccessMessage emailAddress={emailAddress} dismiss={dismiss} />\n      ));\n      // Don't need to wait for this\n      refreshAccounts().then(() => setLoading(false));\n      return true;\n    },\n    [\n      sendMessage,\n      sendCreateModalMessage,\n      clearCreateModalMessages,\n      closeCreateModal,\n    ]\n  );\n\n  const onConfirmResend = useCallback(async () => {\n    setLoading(true);\n    try {\n      await AccountService.resendInviteByEmail(selectedAccount.EmailAddress);\n      sendMessage((dismiss) => (\n        <ResendSuccessMessage account={selectedAccount} dismiss={dismiss} />\n      ));\n    } catch (error) {\n      sendMessage((dismiss) => (\n        <ResendFailureMessage account={selectedAccount} dismiss={dismiss} />\n      ));\n    } finally {\n      setLoading(false);\n    }\n  }, [sendMessage, selectedAccount]);\n\n  const onConfirmDelete = useCallback(async () => {\n    setLoading(true);\n    closeDeleteModal();\n    try {\n      await AccountService.deleteInviteByUserId(selectedAccount.UserId);\n      sendMessage((dismiss) => (\n        <DeleteSuccessMessage account={selectedAccount} dismiss={dismiss} />\n      ));\n      await refreshAccounts();\n    } catch (error) {\n      sendMessage((dismiss) => (\n        <DeleteFailureMessage\n          account={selectedAccount}\n          dismiss={dismiss}\n          errorMessage={error.message}\n        />\n      ));\n    } finally {\n      setLoading(false);\n    }\n  }, [sendMessage, selectedAccount, closeDeleteModal]);\n\n  return (\n    <Container fluid style={{ padding: \"2em\" }}>\n      <Header as=\"h1\">Pending invites</Header>\n      <MessageList.MessageList messages={messages} />\n      <AccountsTable.AccountsTable\n        accounts={accounts}\n        columns={[\n          AccountsTableColumns.EmailAddress,\n          AccountsTableColumns.DateInvited,\n          AccountsTableColumns.Inviter,\n        ]}\n        loading={loading}\n        selectedAccount={selectedAccount}\n        onSelectAccount={onSelectAccount}\n      >\n        <TableActions\n          canCreate={!loading}\n          onClickCreate={openCreateModal}\n          canResend={!loading && selectedAccount}\n          onClickResend={onConfirmResend}\n          canDelete={!loading && selectedAccount}\n          onClickDelete={openDeleteModal}\n        />\n      </AccountsTable.AccountsTable>\n      <CreateInviteModal\n        onConfirm={onConfirmCreate}\n        open={isCreateModalOpen}\n        onClose={closeCreateModal}\n        messages={createModalMessages}\n      />\n      <DeleteInviteModal\n        account={selectedAccount}\n        onConfirm={onConfirmDelete}\n        open={isDeleteModalOpen}\n        onClose={closeDeleteModal}\n      />\n    </Container>\n  );\n};\nexport default PendingInvites;\n\nconst TableActions = ({\n  canCreate,\n  onClickCreate,\n  canResend,\n  onClickResend,\n  canDelete,\n  onClickDelete,\n}) => (\n  <Button.Group>\n    <Button\n      content=\"Create user...\"\n      disabled={!canCreate}\n      onClick={onClickCreate}\n    />\n    <Button content=\"Resend\" disabled={!canResend} onClick={onClickResend} />\n    <Button content=\"Delete\" disabled={!canDelete} onClick={onClickDelete} />\n  </Button.Group>\n);\n\n// Pulled from https://html.spec.whatwg.org/multipage/input.html#e-mail-state-(type%3Demail) and\n// optimized in a few ways for size:\n// - Classes of `[A-Za-z0-9]` were shortened to the equivalent `[^_\\W]`.\n// - Other instances of `0-9` in classes were converted to the shorthand `\\d`.\n// - The whole regexp was made case-insensitive to avoid the need for `A-Za-z` in classes.\n// - As we're only testing, I replaced all the non-capturing groups with capturing ones.\nconst validEmailRegex =\n  /^[\\w.!#$%&'*+/=?^`{|}~-]+@[^_\\W]([a-z\\d-]{0,61}[^_\\W])?(\\.[^_\\W]([a-z\\d-]{0,61}[^_\\W])?)*$/i;\n\nconst mnoLocationOptions = [\n  { key: \"Cz\", text: \"Czech Republic\", value: \"Czech_Republic\" },\n  { key: \"Gr\", text: \"Greece\", value: \"Greece\" },\n  { key: \"Hg\", text: \"Hungary\", value: \"Hungary\" },\n  { key: \"It\", text: \"Italy\", value: \"Italy\" },\n  { key: \"Pt\", text: \"Portugal\", value: \"Portugal\" },\n  { key: \"Rm\", text: \"Romania\", value: \"Romania\" },\n  { key: \"Sp\", text: \"Spain\", value: \"Spain\" },\n  { key: \"Uk\", text: \"United Kingdom\", value: \"United_Kingdom\" },\n]\n\nconst mnoOptions = [\n  {\n    key: \"Ot\",\n    text: \"One Telecommunications\",\n    value: \"One Telecommunications\",\n  },\n  { key: \"Or\", text: \"Orange\", value: \"Orange\" },\n  { key: \"Te\", text: \"Telefónica\", value: \"Telefónica\" },\n  { key: \"Vd\", text: \"Vodafone\", value: \"Vodafone\" },\n];\n\n/*\n * Note: `onConfirm` should return a boolean indicating whether the creation\n * succeeded.\n */\nconst CreateInviteModal = ({ onConfirm, open, onClose, messages }) => {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const isEmailValid = useMemo(() => validEmailRegex.test(email), [email]);\n  const onChangeEmailAddress = useCallback(\n    (_event, { value }) => setEmail(value),\n    []\n  );\n  // const onClickCreate = useCallback(async () => {\n  //   setLoading(true)\n  //   try {\n  //     if (await onConfirm(email)) {\n  //       setEmail('')\n  //     }\n  //   } finally {\n  //     setLoading(false)\n  //   }\n  // }, [onConfirm, email])\n\n  // If the user stops typing, but the email is invalid, show the invalid email message as a hint\n  // for why they can't proceed. Don't make the timeout so short that it'd annoy a slow typer,\n  // though.\n  const [needsAssistance, setNeedsAssistance] = useState(false);\n  const emailEverSet = useRef(false);\n\n  useEffect(() => {\n    if (email) emailEverSet.current = true;\n    if (isEmailValid) {\n      setNeedsAssistance(false);\n    } else if (!needsAssistance && emailEverSet.current) {\n      const timer = setTimeout(() => {\n        setNeedsAssistance(true);\n      }, 3000 /* ms */);\n      return () => {\n        clearTimeout(timer);\n      };\n    }\n  }, [email, needsAssistance, isEmailValid]);\n\n  // state for callBackUrl\n  const [formImages, setFormImages] = useState({\n    profileImage: \"\",\n    AuthCertificate: \"\",\n  });\n  const [authType, setAuthType] = useState(\"\");\n  const [values, setValues] = useState({\n    type: \"\",\n    targetEmailAddress: \"\",\n    targetPhoneNumber: \"\",\n    targetFirstName: \"\",\n    targetLastName: \"\",\n    targetApiKeyDuration: \"\",\n    targetMnoLocation: \"\",\n    targetCallBackAuth: \"\",\n    targetMno: \"\",\n    targetMfa: \"\",\n    targetCallBackUrl: \"\",\n  });\n  //state for Api Response\n  const [apiResponse, setApiResponse] = useState({\n    loaded: false,\n    type: \"\",\n    message: \"\",\n    color: \"\"\n  });\n  const createUserData = (data) => {\n    let dataMfa = data.targetMfa === \"yes\" ? true : false\n    switch (data.type) {\n      case \"apiKey\":\n        return {\n          type: \"apiKey\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: data.AuthApi,\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        };\n      case \"basicAuth\":\n        return {\n          type: \"basicAuth\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: {\n            username: data.AuthUsername,\n            password: data.AuthPassword,\n          },\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        };\n      case \"privateCertificate\":\n        return {\n          type: \"privateCertificate\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: formImages.AuthCertificate,\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        };\n      default:\n        return null;\n    }\n  };\n  //const postUrl = \"/prod/admin/accounts\";\n  //const createUserAxios = (userData) => axios.post(postUrl, userData);\n  const onCreateUser = async (apidata) => {\n    try {\n      await AccountService.createUserByForm(apidata);\n      setApiResponse({\n        loaded: true,\n        type: \"success\",\n        message: \"success: usercreated\",\n        color: \"green\"\n      })\n    } catch (error) {\n      setApiResponse({\n        loaded: true,\n        type: \"Error\",\n        message: error.message,\n        color: \"red\"\n      })\n    }\n  };\n\n  const convertToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      }\n      fileReader.onerror = (error) => {\n        reject(error)\n      }\n    })\n  }\n const handleFileUpload = async (e) => {\n   const file = e.target.files[0];\n   const name = e.target.name;\n   const base64 = await convertToBase64(file);\n   setFormImages({ ...formImages, [name]: base64 });\n }\n\n  const handleAuthType = (e, { value }) => {\n    setAuthType(value);\n    setValues({ ...values, type: value });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(values);\n    console.log(createUserData(values))\n    const data = createUserData(values)\n    onCreateUser(data)\n  }\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  }\n\n  return (\n    <Modal open={open} onClose={onClose} size={\"small\"}>\n      <Modal.Header>Create User</Modal.Header>\n      <Modal.Content>\n        <p>\n          Enter the details below and select <strong>Create</strong> to create a\n          new user account.\n        </p>\n        <MessageList.MessageList messages={messages} />\n        <Message hidden={!needsAssistance || isEmailValid || loading} warning>\n          Please enter a valid email address.\n        </Message>\n        {apiResponse.loaded && (\n          <Message color={apiResponse.color}>{apiResponse.message}</Message>\n        )}\n        <Form id=\"UserForm\" onSubmit={handleSubmit}>\n          <Form.Group widths=\"equal\">\n            <Form.Field>\n              <label>First Name</label>\n              <input\n                placeholder=\"First Name\"\n                type=\"text\"\n                name=\"targetFirstName\"\n                required\n                onChange={handleChange}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Last Name</label>\n              <input\n                placeholder=\"Last Name\"\n                type=\"text\"\n                name=\"targetLastName\"\n                required\n                onChange={handleChange}\n              />\n            </Form.Field>\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Field>\n              <label>Profile Image</label>\n              <input\n                type=\"file\"\n                name=\"profileImage\"\n                accept=\"image/png, image/gif, image/jpeg\"\n                onChange={(e) => handleFileUpload(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Enable MFA?</label>\n              <label htmlFor=\"enable mfa\" inline=\"true\">\n                <input\n                  type=\"radio\"\n                  name=\"targetMfa\"\n                  value=\"yes\"\n                  checked={values.targetMfa === \"yes\"}\n                  id=\"mfa-yes\"\n                  onChange={handleChange}\n                />\n                Yes\n              </label>\n              <label htmlFor=\"enable mfa\" inline=\"true\">\n                <input\n                  type=\"radio\"\n                  name=\"targetMfa\"\n                  value=\"no\"\n                  checked={values.targetMfa === \"no\"}\n                  id=\"mfa-no\"\n                  onChange={handleChange}\n                />\n                No\n              </label>\n            </Form.Field>\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Field>\n              <label> Phone Number</label>\n              <input\n                type=\"tel\"\n                placeholder=\"Phone Number\"\n                name=\"targetPhoneNumber\"\n                onChange={handleChange}\n                required\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Email Address </label>\n              <input\n                placeholder=\"Email address\"\n                type=\"email\"\n                name=\"targetEmailAddress\"\n                onChange={handleChange}\n                pattern=\"^[\\w.!#$%&'*+/=?^`{|}~-]+@[^_\\W]([a-z\\d-]{0,61}[^_\\W])?(\\.[^_\\W]([a-z\\d-]{0,61}[^_\\W])?)*$\"\n                required\n              />\n            </Form.Field>\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Field>\n              <label htmlFor=\"mnoOptions\"> Select MNO... </label>\n              <select\n                name=\"targetMno\"\n                id=\"mnoOptions\"\n                onChange={handleChange}\n                required\n              >\n                <option key=\"default\" value=\"\">\n                  {\" \"}\n                  -- select MNO --{\" \"}\n                </option>\n                {mnoOptions.map(({ key, text, value }) => (\n                  <option key={key} value={value}>\n                    {text}\n                  </option>\n                ))}\n              </select>\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"mnoLocation\"> Select MNO location... </label>\n              <select\n                name=\"targetMnoLocation\"\n                id=\"mnoLocation\"\n                onChange={handleChange}\n                required\n              >\n                <option key=\"default\" value=\"\">\n                  -- select MNO Location --\n                </option>\n                {mnoLocationOptions.map(({ key, text, value }) => (\n                  <option key={key} value={value}>\n                    {text}\n                  </option>\n                ))}\n              </select>\n            </Form.Field>\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Field width={11}>\n              <label htmlFor=\"callback\">Enter Callback URL:</label>\n              <input\n                id=\"callback\"\n                type=\"text\"\n                placeholder=\"https://www.\"\n                name=\"targetCallBackUrl\"\n                onChange={handleChange}\n                pattern=\"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\"\n                required\n              />\n            </Form.Field>\n            <Form.Field width={3}>\n              <label htmlFor=\"\">API Key Duration</label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"90\"\n                onChange={handleChange}\n                placeholder=\"Enter API Key Duration\"\n                name=\"targetApiKeyDuration\"\n                required\n              />\n              <span inline=\"true\">Days</span>\n            </Form.Field>\n          </Form.Group>\n          <Form.Group inline>\n            <label> Select Callback Auth Type</label>\n            <Form.Radio\n              label=\"Api key\"\n              value=\"apiKey\"\n              checked={authType === \"apiKey\"}\n              onChange={handleAuthType}\n              name=\"type\"\n            />\n            <Form.Radio\n              label=\"Basic Auth\"\n              value=\"basicAuth\"\n              checked={authType === \"basicAuth\"}\n              onChange={handleAuthType}\n              name=\"type\"\n            />\n            <Form.Radio\n              label=\"Private certificate\"\n              value=\"privateCertificate\"\n              checked={authType === \"privateCertificate\"}\n              onChange={handleAuthType}\n              name=\"type\"\n            />\n          </Form.Group>\n          {(() => {\n            switch (authType) {\n              case \"apiKey\":\n                return (\n                  <Form.Group widths=\"equal\">\n                    <Form.Input\n                      fluid\n                      label=\"Auth Credential Content\"\n                      placeholder=\"Auth Credential Content\"\n                      name=\"AuthApi\"\n                      onChange={handleChange}\n                    />\n                  </Form.Group>\n                )\n              case \"basicAuth\":\n                return (\n                  <Form.Group widths=\"equal\">\n                    <Form.Field fluid=\"true\">\n                      <label>Auth username</label>\n                      <input\n                        placeholder=\"Auth username\"\n                        type=\"text\"\n                        name=\"AuthUsername\"\n                        onChange={handleChange}\n                      />\n                    </Form.Field>\n\n                    <Form.Field fluid=\"true\">\n                      <label>Auth password</label>\n                      <input\n                        placeholder=\"Last Name\"\n                        type=\"password\"\n                        name=\"AuthPassword\"\n                        onChange={handleChange}\n                      />\n                    </Form.Field>\n                  </Form.Group>\n                )\n              case \"privateCertificate\":\n                return (\n                  <Form.Field>\n                    <label>Upload private certificate</label>\n                    <input\n                      type=\"file\"\n                      name=\"AuthCertificate\"\n                      accept=\"text/*\"\n                      onChange={(e) => handleFileUpload(e)}\n                    />\n                  </Form.Field>\n                )\n              default:\n                return null\n            }\n          })()}\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button onClick={onClose}>Cancel</Button>\n        <Button positive type=\"submit\" form=\"UserForm\">\n          Create\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  )\n};\n\nconst DeleteInviteModal = ({ account, onConfirm, open, onClose }) =>\n  account ? (\n    <Modal size=\"small\" open={open} onClose={onClose}>\n      <Modal.Header>Confirm invite deletion</Modal.Header>\n      <Modal.Content>\n        <p>\n          Are you sure you want to delete this account invite for{\" \"}\n          <strong>{account.EmailAddress}</strong>? This action is irreversible.\n        </p>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button onClick={onClose}>Cancel</Button>\n        <Button negative onClick={onConfirm}>\n          Delete\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  ) : null;\n\nconst CreateSuccessMessage = ({ emailAddress, dismiss }) => (\n  <Message onDismiss={dismiss} positive>\n    <Message.Content>\n      Sent account invite to <strong>{emailAddress}</strong>.\n    </Message.Content>\n  </Message>\n);\n\n\nconst CreateFailureMessage = ({ emailAddress, errorMessage, dismiss }) => (\n  <Message onDismiss={dismiss} negative>\n    <Message.Content>\n      <p>\n        Failed to send account invite to <strong>{emailAddress}</strong>.\n      </p>\n      {errorMessage && <p>Error message: {errorMessage}</p>}\n    </Message.Content>\n  </Message>\n);\n\nconst ResendSuccessMessage = ({ account, dismiss }) => (\n  <Message onDismiss={dismiss} positive>\n    <Message.Content>\n      Resent account invite to <strong>{account.EmailAddress}</strong>.\n    </Message.Content>\n  </Message>\n);\n\nconst ResendFailureMessage = ({ account, errorMessage, dismiss }) => (\n  <Message onDismiss={dismiss} negative>\n    <Message.Content>\n      <p>\n        Failed to resend account invite to{\" \"}\n        <strong>{account.EmailAddress}</strong>.\n      </p>\n      {errorMessage && <p>Error message: {errorMessage}</p>}\n    </Message.Content>\n  </Message>\n);\n\nconst DeleteSuccessMessage = ({ account, dismiss }) => (\n  <Message onDismiss={dismiss} positive>\n    <Message.Content>\n      Deleted account invite for <strong>{account.EmailAddress}</strong>.\n    </Message.Content>\n  </Message>\n);\n\nconst DeleteFailureMessage = ({ account, errorMessage, dismiss }) => (\n  <Message onDismiss={dismiss} negative>\n    <Message.Content>\n      <p>\n        Failed to delete account invite for{\" \"}\n        <strong>{account.EmailAddress}</strong>.\n      </p>\n      {errorMessage && <p>Error message: {errorMessage}</p>}\n    </Message.Content>\n  </Message>\n);\n","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Redirect } from 'react-router-dom'\n\nimport { ApiManagement, SideNav } from './'\nimport { AdminRoute } from './../../'\nimport PageWithSidebar from 'components/PageWithSidebar'\n\nimport RegisteredAccounts from 'pages/Admin/Accounts/RegisteredAccounts'\nimport AdminAccounts from 'pages/Admin/Accounts/AdminAccounts'\nimport PendingInvites from 'pages/Admin/Accounts/PendingInvites'\n// import PendingRequests from 'pages/Admin/Accounts/PendingRequests'\n\nfunction RedirectToApiManagement () {\n  return <Redirect to='/admin/apis' />\n}\n\nexport class Admin extends Component {\n  render () {\n    return (\n      <Router>\n        <PageWithSidebar sidebarContent={<SideNav />}>\n          <>\n            <AdminRoute exact from='/admin' component={RedirectToApiManagement} />\n            <AdminRoute path='/admin/apis' component={ApiManagement} />\n            <AdminRoute exact path='/admin/accounts' component={RegisteredAccounts} />\n            <AdminRoute exact path='/admin/accounts/admins' component={AdminAccounts} />\n            <AdminRoute exact path='/admin/accounts/invites' component={PendingInvites} />\n            {/* <AdminRoute exact path='/admin/accounts/requests' component={PendingRequests} /> */}\n          </>\n        </PageWithSidebar>\n      </Router>\n    )\n  }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\nimport { isAdmin } from 'services/self'\n\nimport { observer } from 'mobx-react'\n\nimport { Menu } from 'semantic-ui-react'\nimport Sidebar from 'components/Sidebar/Sidebar'\nimport SidebarHeader from 'components/Sidebar/SidebarHeader'\nimport MenuLink from 'components/MenuLink'\n\nexport const SideNav = observer(() => isAdmin() && (\n  <Sidebar>\n    <SidebarHeader>Admin</SidebarHeader>\n    <MenuLink to='/admin/apis'>APIs</MenuLink>\n    <MenuLink>\n      Accounts\n      <Menu.Menu>\n        <MenuLink to='/admin/accounts'>Users</MenuLink>\n        <MenuLink to='/admin/accounts/admins'>Admins</MenuLink>\n        <MenuLink to='/admin/accounts/invites'>Invites</MenuLink>\n        {/* <MenuLink to='/admin/accounts/requests'>Requests</MenuLink> */}\n      </Menu.Menu>\n    </MenuLink>\n  </Sidebar>\n))\n","import React from 'react'\n\nimport { Button, Loader, Table, Modal, Form, Message, Popup, Icon } from 'semantic-ui-react'\n\nimport { apiGatewayClientWithCredentials } from 'services/api'\nimport { getApi } from 'services/api-catalog'\nimport { store } from 'services/state'\n\nimport * as YAML from 'yamljs'\n\nimport hash from 'object-hash'\nimport { toJS } from 'mobx'\nimport { observer } from 'mobx-react'\n\nfunction getUsagePlanVisibility (usagePlan) {\n  let hasHidden = false\n  let hasVisible = false\n\n  for (const api of usagePlan.apis) {\n    if (api.visibility) {\n      if (hasHidden) return null\n      hasVisible = true\n    } else {\n      if (hasVisible) return null\n      hasHidden = true\n    }\n  }\n\n  return hasVisible\n}\n\nfunction removeFirst (array, item) {\n  const index = array.indexOf(item)\n  const result = array.slice()\n  result.splice(index, 1)\n  return result\n}\n\nexport const ApiManagement = observer(class ApiManagement extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      modalOpen: false,\n      errors: [],\n      // Simpler than implementing a multiset, and probably also faster.\n      // TODO: abstract this out. It's getting a bit out of hand.\n      plansDisplayToggling: [],\n      apisDisplayToggling: [],\n      apisUpdating: [],\n      apisDeleting: [],\n      apisTogglingSdks: []\n    }\n\n    this.fileInput = React.createRef()\n\n    this.tableSort = (first, second) => {\n      if (first.name !== second.name) {\n        return first.name.localeCompare(second.name)\n      } else {\n        return first.stage.localeCompare(second.stage)\n      }\n    }\n\n    this.genericTableSort = (firstIndex, secondIndex) => {\n      const list = store.visibility.generic\n\n      if (list[firstIndex].name !== list[secondIndex].name) {\n        list[firstIndex].name.localeCompare(list[secondIndex].name)\n      } else {\n        // compare by their index, which happens to be their id\n        return firstIndex.localeCompare(secondIndex)\n      }\n    }\n\n    this.usagePlanSort = (first, second) => {\n      if (first.name !== second.name) {\n        return first.name.localeCompare(second.name)\n      } else {\n        return first.id.localeCompare(second.id)\n      }\n    }\n  }\n\n  componentDidMount () {\n    this.getApiVisibility()\n  }\n\n  uploadAPISpec (event) {\n    event.preventDefault()\n\n    const files = this.fileInput.current.files\n    let swagger, swaggerObject, anyFailures\n\n    if (files.length > 0) {\n      this.setState(prev => ({ ...prev, errors: [] }))\n      ;[].forEach.call(files, file => {\n        const reader = new window.FileReader()\n\n        reader.onload = (e) => {\n          if (file.name.endsWith('.yaml') || file.name.endsWith('.yml')) {\n            swaggerObject = YAML.parse(e.target.result)\n            swagger = JSON.stringify(swaggerObject)\n          } else {\n            swaggerObject = JSON.parse(e.target.result)\n            swagger = JSON.stringify(swaggerObject)\n          }\n\n          if (!(swaggerObject.info && swaggerObject.info.title)) {\n            anyFailures = true\n            this.setState(prev => ({ ...prev, errors: [...prev.errors, file.name] }))\n            return\n          }\n\n          if (anyFailures) {\n            return\n          }\n\n          apiGatewayClientWithCredentials()\n            .then((app) => app.post('/admin/catalog/visibility', {}, { swagger }, {}))\n            .then((res) => {\n              if (res.status === 200) {\n                this.getApiVisibility()\n                this.setState(prev => ({ ...prev, modalOpen: Boolean(anyFailures), errors: anyFailures ? prev.errors : [] }))\n              }\n            })\n        }\n        reader.readAsText(file)\n      })\n    }\n  }\n\n  deleteAPISpec (apiId) {\n    this.setState(({ apisDeleting }) => ({ apisDeleting: [...apisDeleting, apiId] }))\n    getApi(apiId, false, undefined, true).then(api => {\n      const _api = toJS(api)\n      console.log(_api)\n      const key = _api.apiStage ? `${_api.id}_${_api.apiStage}` : hash(_api.swagger)\n      \n      apiGatewayClientWithCredentials()\n        .then(app => app.delete(`/admin/catalog/visibility/generic/${key}`, {}, {}, {}))\n        .then((res) => {\n          if (res.status === 200) this.getApiVisibility()\n        })\n        .then(() => this.setState(({ apisDeleting }) => ({ apisDeleting: removeFirst(apisDeleting, apiId) })))\n    })\n  }\n\n  getApiVisibility () {\n    apiGatewayClientWithCredentials()\n      .then(app => app.get('/admin/catalog/visibility', {}, {}, {}))\n      .then(res => {\n        if (res.status === 200) {\n          // console.log(`visibility: ${JSON.stringify(res.data, null, 2)}`)\n\n          const apiGateway = res.data.apiGateway\n          const generic = res.data.generic && Object.keys(res.data.generic)\n\n          // console.log(`generic: ${JSON.stringify(generic, null, 2)}`)\n          // console.log(`api gateway: ${JSON.stringify(apiGateway, null, 2)}`)\n\n          apiGateway.forEach(api => {\n            if (generic) {\n              generic.forEach(genApi => {\n                if (res.data.generic[`${genApi}`]) {\n                  if (\n                    res.data.generic[`${genApi}`].apiId === api.id &&\n                    res.data.generic[`${genApi}`].stage === api.stage\n                  ) {\n                    api.visibility = true\n                    delete res.data.generic[`${genApi}`]\n                  }\n                }\n              })\n            }\n          })\n\n          store.visibility = res.data\n        }\n      })\n  }\n\n  updateLocalApiGatewayApis (apisList, updatedApi, parity) {\n    const updatedApis = apisList.map(stateApi => {\n      if (stateApi.id === updatedApi.id && stateApi.stage === updatedApi.stage) {\n        if (parity !== undefined && (parity === true || parity === false)) {\n          stateApi.visibility = parity\n        } else {\n          stateApi.visibility = !stateApi.visibility\n        }\n      }\n      return stateApi\n    })\n\n    store.visibility = { generic: store.visibility.generic, apiGateway: updatedApis }\n  }\n\n  showApiGatewayApi (api) {\n    const apiId = api.stage ? `${api.id}_${api.stage}` : api.id\n    this.setState(({ apisDisplayToggling }) => ({ apisDisplayToggling: [...apisDisplayToggling, apiId] }))\n    apiGatewayClientWithCredentials()\n      .then(app => app.post('/admin/catalog/visibility', {}, { apiKey: `${api.id}_${api.stage}`, subscribable: `${api.subscribable}` }, {}))\n      .then((res) => {\n        this.setState(({ apisDisplayToggling }) => ({ apisDisplayToggling: removeFirst(apisDisplayToggling, apiId) }))\n        if (res.status === 200) {\n          this.updateLocalApiGatewayApis(store.visibility.apiGateway, api)\n        }\n      })\n  }\n\n  hideApiGatewayApi (api) {\n    if (!api.subscribable && !api.id && !api.stage) {\n      this.deleteAPISpec(api.genericId)\n    } else {\n      const apiId = api.stage ? `${api.id}_${api.stage}` : api.id\n      this.setState(({ apisDisplayToggling }) => ({ apisDisplayToggling: [...apisDisplayToggling, apiId] }))\n      apiGatewayClientWithCredentials()\n        .then(app => app.delete(`/admin/catalog/visibility/${api.id}_${api.stage}`, {}, {}, {}))\n        .then((res) => {\n          this.setState(({ apisDisplayToggling }) => ({ apisDisplayToggling: removeFirst(apisDisplayToggling, apiId) }))\n          if (res.status === 200) {\n            this.updateLocalApiGatewayApis(store.visibility.apiGateway, api)\n          }\n        })\n    }\n  }\n\n  showAllApiGatewayApis (usagePlan) {\n    // Only toggle APIs that aren't already shown.\n    const apiIds = usagePlan.apis.filter(api => !api.visibility).map(api => `${api.id}_${api.stage}`)\n    this.setState(({ plansDisplayToggling, apisDisplayToggling }) => ({\n      plansDisplayToggling: [...plansDisplayToggling, usagePlan.id],\n      apisDisplayToggling: [...apisDisplayToggling, ...apiIds]\n    }))\n    Promise.all(usagePlan.apis.map((api) =>\n      apiGatewayClientWithCredentials()\n        .then(app => app.post('/admin/catalog/visibility', {}, {\n          apiKey: `${api.id}_${api.stage}`,\n          subscribable: `${api.subscribable}`\n        }, {}))\n        .then(res => { res.api = api; return res })\n    )).then((promises) => {\n      this.setState(({ plansDisplayToggling, apisDisplayToggling }) => ({\n        plansDisplayToggling: removeFirst(plansDisplayToggling, usagePlan.id),\n        apisDisplayToggling: apiIds.reduce(removeFirst, apisDisplayToggling)\n      }))\n      promises.forEach((result) => {\n        if (result.status === 200) {\n          this.updateLocalApiGatewayApis(store.visibility.apiGateway, result.api, true)\n        }\n      })\n    })\n  }\n\n  hideAllApiGatewayApis (usagePlan) {\n    // Only toggle APIs that aren't already hidden.\n    const apiIds = usagePlan.apis.filter(api => api.visibility).map(api => `${api.id}_${api.stage}`)\n    this.setState(({ plansDisplayToggling, apisDisplayToggling }) => ({\n      plansDisplayToggling: [...plansDisplayToggling, usagePlan.id],\n      apisDisplayToggling: [...apisDisplayToggling, ...apiIds]\n    }))\n    Promise.all(usagePlan.apis.map((api) =>\n      apiGatewayClientWithCredentials()\n        .then(app => app.delete(`/admin/catalog/visibility/${api.id}_${api.stage}`, {}, {}, {}))\n        .then(res => { res.api = api; return res })\n    )).then((promises) => {\n      this.setState(({ plansDisplayToggling, apisDisplayToggling }) => ({\n        plansDisplayToggling: removeFirst(plansDisplayToggling, usagePlan.id),\n        apisDisplayToggling: apiIds.reduce(removeFirst, apisDisplayToggling)\n      }))\n      promises.forEach((result) => {\n        if (result.status === 200) {\n          this.updateLocalApiGatewayApis(store.visibility.apiGateway, result.api, false)\n        }\n      })\n    })\n  }\n\n  isTogglingPlanDisplay (usagePlan) {\n    return this.state.plansDisplayToggling.includes(usagePlan.id)\n  }\n\n  isTogglingApiDisplay (api) {\n    return this.state.apisDisplayToggling.includes(api.stage ? `${api.id}_${api.stage}` : api.id)\n  }\n\n  isUpdatingApiGatewayApi (api) {\n    return this.state.apisUpdating.includes(`${api.id}_${api.stage}`)\n  }\n\n  isRemovingUnmanagedApi (apiId) {\n    return this.state.apisDeleting.includes(apiId)\n  }\n\n  updateApiGatewayApi (api) {\n    this.setState(({ apisUpdating }) => ({\n      apisUpdating: [...apisUpdating, `${api.id}_${api.stage}`]\n    }))\n    apiGatewayClientWithCredentials()\n      .then(app => app.post('/admin/catalog/visibility', {}, { apiKey: `${api.id}_${api.stage}`, subscribable: `${api.subscribable}` }, {}))\n      .then(() => this.setState(({ apisUpdating }) => ({ apisUpdating: removeFirst(apisUpdating, `${api.id}_${api.stage}`) })))\n  }\n\n  isSdkGenerationConfigurable (api) {\n    return api.visibility\n  }\n\n  isTogglingSdkGeneration (api) {\n    return this.state.apisTogglingSdks.includes(`${api.id}_${api.stage}`)\n  }\n\n  toggleSdkGeneration (apisList, updatedApi) {\n    this.setState(({ apisTogglingSdks }) => ({\n      apisTogglingSdks: [...apisTogglingSdks, `${updatedApi.id}_${updatedApi.stage}`]\n    }))\n    apiGatewayClientWithCredentials()\n      .then(app => {\n        if (updatedApi.sdkGeneration) {\n          return app.delete(`/admin/catalog/${updatedApi.id}_${updatedApi.stage}/sdkGeneration`, {}, {}, {})\n        } else {\n          return app.put(`/admin/catalog/${updatedApi.id}_${updatedApi.stage}/sdkGeneration`, {}, {}, {})\n        }\n      })\n      .then(res => {\n        this.setState(({ apisTogglingSdks }) => ({ apisTogglingSdks: removeFirst(apisTogglingSdks, `${updatedApi.id}_${updatedApi.stage}`) }))\n        if (res.status === 200) {\n          const updatedApis = apisList.map(stateApi => {\n            if (stateApi.id === updatedApi.id && stateApi.stage === updatedApi.stage) {\n              stateApi.sdkGeneration = !stateApi.sdkGeneration\n            }\n            return stateApi\n          })\n\n          store.visibility.apiGateway = updatedApis\n        }\n      })\n  }\n\n  renderHeaderVisibilityButton (usagePlan) {\n    const usagePlanVisibility = getUsagePlanVisibility(usagePlan)\n\n    // Some APIs are visible, some are hidden. Show the current state (Partial, with a warning) and enable all on click\n    if (usagePlanVisibility == null) {\n      return (\n        <Popup\n          content='Users subscribed to any of the APIs in this usage plan will have a valid API key for all APIs in this usage plan, even those that are not visible!'\n          trigger={\n            <Button\n              basic\n              color='yellow'\n              style={{ backgroundColor: 'white', width: '100%', paddingLeft: '1em', paddingRight: '1em', minWidth: '88px' }}\n              onClick={() => this.showAllApiGatewayApis(usagePlan)}\n            >\n              {this.isTogglingPlanDisplay(usagePlan) ? <Loader active inline size='mini' /> : <>Partial <Icon name='warning sign' style={{ paddingLeft: '5px' }} /></>}\n            </Button>\n          }\n        />\n      )\n    }\n\n    // Either all APIs are visible or none are visible. Toggle this state on click.\n    return (\n      <Button\n        basic\n        color={usagePlanVisibility ? 'green' : 'red'}\n        style={{ backgroundColor: 'white', width: '100%' }}\n        onClick={() => {\n          if (usagePlanVisibility) this.hideAllApiGatewayApis(usagePlan)\n          else this.showAllApiGatewayApis(usagePlan)\n        }}\n      >\n        {this.isTogglingPlanDisplay(usagePlan) ? <Loader active inline size='mini' /> : usagePlanVisibility ? 'True' : 'False'}\n      </Button>\n    )\n  }\n\n  sortByUsagePlan () {\n    if (!store.visibility.apiGateway) { return this.renderNoApis() }\n\n    const usagePlans =\n      store.visibility.apiGateway\n        .filter((api) => api.usagePlanId)\n        .reduce((accumulator, api) => {\n          if (!accumulator.find((usagePlan) => api.usagePlanId === usagePlan.id)) {\n            accumulator.push({ id: api.usagePlanId, name: api.usagePlanName })\n          }\n          return accumulator\n        }, [])\n        .sort(this.usagePlanSort)\n        .map((usagePlan) => {\n          return { ...usagePlan, apis: store.visibility.apiGateway.filter((api) => api.usagePlanId === usagePlan.id).sort(this.tableSort) }\n        })\n    const unsubscribable =\n      store.visibility.apiGateway\n        .filter((api) => !api.usagePlanId)\n        .sort(this.tableSort)\n\n    return (\n      <>\n        {usagePlans.map(usagePlan => {\n          return (\n            <>\n              {this.renderHeader(usagePlan)}\n              {this.renderApiList(usagePlan.apis)}\n            </>\n          )\n        })}\n        <Table.Row style={{ backgroundColor: '#1678c2', color: 'white' }}>\n          <Table.Cell colSpan='6'>\n            <b>Not Subscribable</b> <i>No Usage Plan</i>\n          </Table.Cell>\n        </Table.Row>\n        {this.renderApiList(unsubscribable)}\n      </>\n    )\n  }\n\n  renderNoApis () {\n    return (\n      <Table.Row>\n        <Table.Cell colSpan='4'>\n          No APIs found\n        </Table.Cell>\n      </Table.Row>\n    )\n  }\n\n  renderHeader (usagePlan) {\n    return (\n      <Table.Row style={{ backgroundColor: '#1678c2', color: 'white' }}>\n        <Table.Cell colSpan='3'>\n          <b>{usagePlan && usagePlan.name}</b> <i>Usage Plan</i>\n        </Table.Cell>\n        <Table.Cell>\n          {this.renderHeaderVisibilityButton(usagePlan)}\n        </Table.Cell>\n        <Table.Cell colSpan='2'>\n          {/* Intentionally empty */}\n        </Table.Cell>\n      </Table.Row>\n    )\n  }\n\n  renderApiList (apis) {\n    return <>\n      {apis.filter(api => api.id !== window.config.restApiId).map(api => (\n        <React.Fragment key={api.stage ? `${api.id}_${api.stage}` : api.id}>\n          <Table.Row>\n            <Table.Cell collapsing>{api.name}</Table.Cell>\n            <Table.Cell>{api.stage}</Table.Cell>\n            <Table.Cell>{api.subscribable ? 'Subscribable' : 'Not Subscribable'}</Table.Cell>\n            <Table.Cell>\n              <Button\n                basic\n                color={api.visibility ? 'green' : 'red'}\n                style={{ width: '100%' }}\n                onClick={() => api.visibility ? this.hideApiGatewayApi(api) : this.showApiGatewayApi(api)}\n              >\n                {this.isTogglingApiDisplay(api) ? <Loader active inline size='mini' /> : api.visibility ? 'True' : 'False'}\n              </Button>\n            </Table.Cell>\n            <Table.Cell>\n              <Button\n                basic\n                color='blue'\n                disabled={!api.visibility}\n                style={{ width: '100%' }}\n                onClick={() => this.updateApiGatewayApi(api)}\n              >\n                {this.isUpdatingApiGatewayApi(api) ? <Loader active inline size='mini' /> : 'Update'}\n              </Button>\n            </Table.Cell>\n            <Table.Cell>\n              <Button\n                basic\n                // color={api.sdkGeneration ? 'green' : 'red'}\n                color='blue'\n                style={{ width: '100%' }}\n                disabled={!api.visibility || !this.isSdkGenerationConfigurable(api)}\n                onClick={() => this.toggleSdkGeneration(store.visibility.apiGateway, api)}\n              >\n                {this.isTogglingSdkGeneration(api) ? <Loader active inline size='mini' /> : api.sdkGeneration ? 'Enabled' : 'Disabled'}\n              </Button>\n            </Table.Cell>\n          </Table.Row>\n        </React.Fragment>\n      ))}\n    </>\n  }\n\n  render () {\n    return <>\n      <div style={{ display: 'flex', width: '100%' }}>\n        <div style={{ padding: '2em' }}>\n          <Table celled collapsing>\n            <Table.Header fullWidth>\n              <Table.Row>\n                <Table.HeaderCell colSpan='6'>API Gateway APIs</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Header fullWidth>\n              <Table.Row>\n                <Table.HeaderCell collapsing sorted='ascending'>API Name</Table.HeaderCell>\n                <Table.HeaderCell>Stage</Table.HeaderCell>\n                <Table.HeaderCell>API Type</Table.HeaderCell>\n                <Table.HeaderCell>Displayed</Table.HeaderCell>\n                <Table.HeaderCell>Update</Table.HeaderCell>\n                <Table.HeaderCell>Allow Generating SDKs</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              {this.sortByUsagePlan()}\n            </Table.Body>\n          </Table>\n        </div>\n\n        <div style={{ padding: '2em' }}>\n          <Table celled collapsing>\n            <Table.Header fullWidth>\n              <Table.Row>\n                <Table.HeaderCell colSpan='4'>Generic APIs</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Header fullWidth>\n              <Table.Row>\n                <Table.HeaderCell colSpan='2'>\n                  <Modal\n                    closeIcon\n                    closeOnEscape\n                    closeOnDimmerClick\n                    onClose={() => this.setState((prev) => ({ ...prev, modalOpen: false }))}\n                    trigger={\n                      <Button floated='right' onClick={() => this.setState((prev) => ({ ...prev, modalOpen: true }))}>\n                        Add API\n                      </Button>\n                    }\n                    open={this.state.modalOpen}\n                  >\n                    <Modal.Header>Select .JSON, .YAML, or .YML files</Modal.Header>\n                    <Modal.Content>\n                      <>\n                        <Form onSubmit={(e) => this.uploadAPISpec(e)}>\n                          <Form.Field>\n                            <label htmlFor='files'>Select Files:</label>\n                            <input type='file' id='files' name='files' accept='.json,.yaml,.yml' multiple ref={this.fileInput} />\n                          </Form.Field>\n                          {!!this.state.errors.length &&\n                            <Message size='tiny' color='red' list={this.state.errors} header='These files are not parseable or do not contain an api title:' />}\n                          <br />\n                          <Button type='submit'>Upload</Button>\n                        </Form>\n                      </>\n                    </Modal.Content>\n                  </Modal>\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Header fullWidth>\n              <Table.Row>\n                <Table.HeaderCell collapsing sorted='ascending'>API Name</Table.HeaderCell>\n                <Table.HeaderCell>Delete</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              {store.visibility.generic\n                ? Object.keys(store.visibility.generic).sort(this.genericTableSort).map(apiId => (\n                  <Table.Row key={apiId}>\n                    <Table.Cell collapsing>{store.visibility.generic[apiId].name}</Table.Cell>\n                    <Table.Cell>\n                      <Button\n                        basic\n                        color='red'\n                        disabled={this.isRemovingUnmanagedApi(apiId)}\n                        onClick={() => this.deleteAPISpec(apiId)}\n                      >\n                        {this.isRemovingUnmanagedApi(apiId) ? <Loader active inline size='mini' /> : 'Delete'}\n                      </Button>\n                    </Table.Cell>\n                  </Table.Row>\n                ))\n                : (\n                  <Table.Row>\n                    <Table.Cell colSpan='4'>\n                      No APIs found\n                    </Table.Cell>\n                  </Table.Row>\n                )}\n            </Table.Body>\n          </Table>\n        </div>\n      </div>\n    </>\n  }\n})\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// I'd prefer to do `/[\\p{L}\\p{M}\\p{N}]{2,}/giu`, but Firefox doesn't support Unicode property escapes.\n// This was generated with the aid of https://mothereff.in/regexpu + a Unicode category table, and\n// for code size uses `/[\\p{C}\\p{P}\\p{S}\\p{Z}]{2,}/gu` with the inner class manually edited to be\n// negated. Note that matches must be at least 2 characters long, and the regexp reflects this.\n\n// Also, ESLint incorrectly warns here about stuff, and it's basically binary anyways.\n// eslint-disable-next-line\nexport default /[^\\0-\\/:-@\\[-`\\{-\\xA9\\xAB-\\xB1\\xB4\\xB6-\\xB8\\xBB\\xBF\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0378\\u0379\\u037E\\u0380-\\u0385\\u0387\\u038B\\u038D\\u03A2\\u03F6\\u0482\\u0530\\u0557\\u0558\\u055A-\\u055F\\u0589-\\u0590\\u05BE\\u05C0\\u05C3\\u05C6\\u05C8-\\u05CF\\u05EB-\\u05EE\\u05F3-\\u060F\\u061B-\\u061F\\u066A-\\u066D\\u06D4\\u06DD\\u06DE\\u06E9\\u06FD\\u06FE\\u0700-\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07F6-\\u07F9\\u07FB\\u07FC\\u07FE\\u07FF\\u082E-\\u083F\\u085C-\\u085F\\u086B-\\u089F\\u08B5\\u08BE-\\u08D2\\u08E2\\u0964\\u0965\\u0970\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09F2\\u09F3\\u09FA\\u09FB\\u09FD\\u09FF\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF0-\\u0AF8\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B70\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BF3-\\u0BFF\\u0C0D\\u0C11\\u0C29\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5B-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C7F\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0CFF\\u0D04\\u0D0D\\u0D11\\u0D45\\u0D49\\u0D4F-\\u0D53\\u0D64\\u0D65\\u0D79\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DE5\\u0DF0\\u0DF1\\u0DF4-\\u0E00\\u0E3B-\\u0E3F\\u0E4F\\u0E5A-\\u0E80\\u0E83\\u0E85\\u0E8B\\u0EA4\\u0EA6\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F01-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0F3A-\\u0F3D\\u0F48\\u0F6D-\\u0F70\\u0F85\\u0F98\\u0FBD-\\u0FC5\\u0FC7-\\u0FFF\\u104A-\\u104F\\u109E\\u109F\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u10FB\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u1360-\\u1368\\u137D-\\u137F\\u1390-\\u139F\\u13F6\\u13F7\\u13FE-\\u1400\\u166D\\u166E\\u1680\\u169B-\\u169F\\u16EB-\\u16ED\\u16F9-\\u16FF\\u170D\\u1715-\\u171F\\u1735-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17D4-\\u17D6\\u17D8-\\u17DB\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u180A\\u180E\\u180F\\u181A-\\u181F\\u1879-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191F\\u192C-\\u192F\\u193C-\\u1945\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19FF\\u1A1C-\\u1A1F\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1AA6\\u1AA8-\\u1AAF\\u1ABF-\\u1AFF\\u1B4C-\\u1B4F\\u1B5A-\\u1B6A\\u1B74-\\u1B7F\\u1BF4-\\u1BFF\\u1C38-\\u1C3F\\u1C4A-\\u1C4C\\u1C7E\\u1C7F\\u1C89-\\u1C8F\\u1CBB\\u1CBC\\u1CC0-\\u1CCF\\u1CD3\\u1CFB-\\u1CFF\\u1DFA\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FBD\\u1FBF-\\u1FC1\\u1FC5\\u1FCD-\\u1FCF\\u1FD4\\u1FD5\\u1FDC-\\u1FDF\\u1FED-\\u1FF1\\u1FF5\\u1FFD-\\u206F\\u2072\\u2073\\u207A-\\u207E\\u208A-\\u208F\\u209D-\\u20CF\\u20F1-\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A-\\u245F\\u249C-\\u24E9\\u2500-\\u2775\\u2794-\\u2BFF\\u2C2F\\u2C5F\\u2CE5-\\u2CEA\\u2CF4-\\u2CFC\\u2CFE\\u2CFF\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D70-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E00-\\u2E2E\\u2E30-\\u3004\\u3008-\\u3020\\u3030\\u3036\\u3037\\u303D-\\u3040\\u3097\\u3098\\u309B\\u309C\\u30A0\\u30FB\\u3100-\\u3104\\u3130\\u318F-\\u3191\\u3196-\\u319F\\u31BB-\\u31EF\\u3200-\\u321F\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DB6-\\u4DFF\\u9FF0-\\u9FFF\\uA48D-\\uA4CF\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA62C-\\uA63F\\uA673\\uA67E\\uA6F2-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA7C0\\uA7C1\\uA7C7-\\uA7F6\\uA828-\\uA82F\\uA836-\\uA83F\\uA874-\\uA87F\\uA8C6-\\uA8CF\\uA8DA-\\uA8DF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA954-\\uA95F\\uA97D-\\uA97F\\uA9C1-\\uA9CE\\uA9DA-\\uA9DF\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A-\\uAA5F\\uAA77-\\uAA79\\uAAC3-\\uAADA\\uAADE\\uAADF\\uAAF0\\uAAF1\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F\\uAB5B\\uAB68-\\uAB6F\\uABEB\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB29\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBB2-\\uFBD2\\uFD3E-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFC-\\uFDFF\\uFE10-\\uFE1F\\uFE30-\\uFE6F\\uFE75\\uFEFD-\\uFF0F\\uFF1A-\\uFF20\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFFF\\u{1000C}\\u{10027}\\u{1003B}\\u{1003E}\\u{1004E}\\u{1004F}\\u{1005E}-\\u{1007F}\\u{100FB}-\\u{10106}\\u{10134}-\\u{1013F}\\u{10179}-\\u{10189}\\u{1018C}-\\u{101FC}\\u{101FE}-\\u{1027F}\\u{1029D}-\\u{1029F}\\u{102D1}-\\u{102DF}\\u{102FC}-\\u{102FF}\\u{10324}-\\u{1032C}\\u{1034B}-\\u{1034F}\\u{1037B}-\\u{1037F}\\u{1039E}\\u{1039F}\\u{103C4}-\\u{103C7}\\u{103D0}\\u{103D6}-\\u{103FF}\\u{1049E}\\u{1049F}\\u{104AA}-\\u{104AF}\\u{104D4}-\\u{104D7}\\u{104FC}-\\u{104FF}\\u{10528}-\\u{1052F}\\u{10564}-\\u{105FF}\\u{10737}-\\u{1073F}\\u{10756}-\\u{1075F}\\u{10768}-\\u{107FF}\\u{10806}\\u{10807}\\u{10809}\\u{10836}\\u{10839}-\\u{1083B}\\u{1083D}\\u{1083E}\\u{10856}\\u{10857}\\u{10877}\\u{10878}\\u{1089F}-\\u{108A6}\\u{108B0}-\\u{108DF}\\u{108F3}\\u{108F6}-\\u{108FA}\\u{1091C}-\\u{1091F}\\u{1093A}-\\u{1097F}\\u{109B8}-\\u{109BB}\\u{109D0}\\u{109D1}\\u{10A04}\\u{10A07}-\\u{10A0B}\\u{10A14}\\u{10A18}\\u{10A36}\\u{10A37}\\u{10A3B}-\\u{10A3E}\\u{10A49}-\\u{10A5F}\\u{10A7F}\\u{10AA0}-\\u{10ABF}\\u{10AC8}\\u{10AE7}-\\u{10AEA}\\u{10AF0}-\\u{10AFF}\\u{10B36}-\\u{10B3F}\\u{10B56}\\u{10B57}\\u{10B73}-\\u{10B77}\\u{10B92}-\\u{10BA8}\\u{10BB0}-\\u{10BFF}\\u{10C49}-\\u{10C7F}\\u{10CB3}-\\u{10CBF}\\u{10CF3}-\\u{10CF9}\\u{10D28}-\\u{10D2F}\\u{10D3A}-\\u{10E5F}\\u{10E7F}-\\u{10EFF}\\u{10F28}-\\u{10F2F}\\u{10F55}-\\u{10FDF}\\u{10FF7}-\\u{10FFF}\\u{11047}-\\u{11051}\\u{11070}-\\u{1107E}\\u{110BB}-\\u{110CF}\\u{110E9}-\\u{110EF}\\u{110FA}-\\u{110FF}\\u{11135}\\u{11140}-\\u{11143}\\u{11147}-\\u{1114F}\\u{11174}\\u{11175}\\u{11177}-\\u{1117F}\\u{111C5}-\\u{111C8}\\u{111CD}-\\u{111CF}\\u{111DB}\\u{111DD}-\\u{111E0}\\u{111F5}-\\u{111FF}\\u{11212}\\u{11238}-\\u{1123D}\\u{1123F}-\\u{1127F}\\u{11287}\\u{11289}\\u{1128E}\\u{1129E}\\u{112A9}-\\u{112AF}\\u{112EB}-\\u{112EF}\\u{112FA}-\\u{112FF}\\u{11304}\\u{1130D}\\u{1130E}\\u{11311}\\u{11312}\\u{11329}\\u{11331}\\u{11334}\\u{1133A}\\u{11345}\\u{11346}\\u{11349}\\u{1134A}\\u{1134E}\\u{1134F}\\u{11351}-\\u{11356}\\u{11358}-\\u{1135C}\\u{11364}\\u{11365}\\u{1136D}-\\u{1136F}\\u{11375}-\\u{113FF}\\u{1144B}-\\u{1144F}\\u{1145A}-\\u{1145D}\\u{11460}-\\u{1147F}\\u{114C6}\\u{114C8}-\\u{114CF}\\u{114DA}-\\u{1157F}\\u{115B6}\\u{115B7}\\u{115C1}-\\u{115D7}\\u{115DE}-\\u{115FF}\\u{11641}-\\u{11643}\\u{11645}-\\u{1164F}\\u{1165A}-\\u{1167F}\\u{116B9}-\\u{116BF}\\u{116CA}-\\u{116FF}\\u{1171B}\\u{1171C}\\u{1172C}-\\u{1172F}\\u{1173C}-\\u{117FF}\\u{1183B}-\\u{1189F}\\u{118F3}-\\u{118FE}\\u{11900}-\\u{1199F}\\u{119A8}\\u{119A9}\\u{119D8}\\u{119D9}\\u{119E2}\\u{119E5}-\\u{119FF}\\u{11A3F}-\\u{11A46}\\u{11A48}-\\u{11A4F}\\u{11A9A}-\\u{11A9C}\\u{11A9E}-\\u{11ABF}\\u{11AF9}-\\u{11BFF}\\u{11C09}\\u{11C37}\\u{11C41}-\\u{11C4F}\\u{11C6D}-\\u{11C71}\\u{11C90}\\u{11C91}\\u{11CA8}\\u{11CB7}-\\u{11CFF}\\u{11D07}\\u{11D0A}\\u{11D37}-\\u{11D39}\\u{11D3B}\\u{11D3E}\\u{11D48}-\\u{11D4F}\\u{11D5A}-\\u{11D5F}\\u{11D66}\\u{11D69}\\u{11D8F}\\u{11D92}\\u{11D99}-\\u{11D9F}\\u{11DAA}-\\u{11EDF}\\u{11EF7}-\\u{11FBF}\\u{11FD5}-\\u{11FFF}\\u{1239A}-\\u{123FF}\\u{1246F}-\\u{1247F}\\u{12544}-\\u{12FFF}\\u{1342F}-\\u{143FF}\\u{14647}-\\u{167FF}\\u{16A39}-\\u{16A3F}\\u{16A5F}\\u{16A6A}-\\u{16ACF}\\u{16AEE}\\u{16AEF}\\u{16AF5}-\\u{16AFF}\\u{16B37}-\\u{16B3F}\\u{16B44}-\\u{16B4F}\\u{16B5A}\\u{16B62}\\u{16B78}-\\u{16B7C}\\u{16B90}-\\u{16E3F}\\u{16E97}-\\u{16EFF}\\u{16F4B}-\\u{16F4E}\\u{16F88}-\\u{16F8E}\\u{16FA0}-\\u{16FDF}\\u{16FE2}\\u{16FE4}-\\u{16FFF}\\u{187F8}-\\u{187FF}\\u{18AF3}-\\u{1AFFF}\\u{1B11F}-\\u{1B14F}\\u{1B153}-\\u{1B163}\\u{1B168}-\\u{1B16F}\\u{1B2FC}-\\u{1BBFF}\\u{1BC6B}-\\u{1BC6F}\\u{1BC7D}-\\u{1BC7F}\\u{1BC89}-\\u{1BC8F}\\u{1BC9A}-\\u{1BC9C}\\u{1BC9F}-\\u{1D164}\\u{1D16A}-\\u{1D16C}\\u{1D173}-\\u{1D17A}\\u{1D183}\\u{1D184}\\u{1D18C}-\\u{1D1A9}\\u{1D1AE}-\\u{1D241}\\u{1D245}-\\u{1D2DF}\\u{1D2F4}-\\u{1D35F}\\u{1D379}-\\u{1D3FF}\\u{1D455}\\u{1D49D}\\u{1D4A0}\\u{1D4A1}\\u{1D4A3}\\u{1D4A4}\\u{1D4A7}\\u{1D4A8}\\u{1D4AD}\\u{1D4BA}\\u{1D4BC}\\u{1D4C4}\\u{1D506}\\u{1D50B}\\u{1D50C}\\u{1D515}\\u{1D51D}\\u{1D53A}\\u{1D53F}\\u{1D545}\\u{1D547}-\\u{1D549}\\u{1D551}\\u{1D6A6}\\u{1D6A7}\\u{1D6C1}\\u{1D6DB}\\u{1D6FB}\\u{1D715}\\u{1D735}\\u{1D74F}\\u{1D76F}\\u{1D789}\\u{1D7A9}\\u{1D7C3}\\u{1D7CC}\\u{1D7CD}\\u{1D800}-\\u{1D9FF}\\u{1DA37}-\\u{1DA3A}\\u{1DA6D}-\\u{1DA74}\\u{1DA76}-\\u{1DA83}\\u{1DA85}-\\u{1DA9A}\\u{1DAA0}\\u{1DAB0}-\\u{1DFFF}\\u{1E007}\\u{1E019}\\u{1E01A}\\u{1E022}\\u{1E025}\\u{1E02B}-\\u{1E0FF}\\u{1E12D}-\\u{1E12F}\\u{1E13E}\\u{1E13F}\\u{1E14A}-\\u{1E14D}\\u{1E14F}-\\u{1E2BF}\\u{1E2FA}-\\u{1E7FF}\\u{1E8C5}\\u{1E8C6}\\u{1E8D7}-\\u{1E8FF}\\u{1E94C}-\\u{1E94F}\\u{1E95A}-\\u{1EC70}\\u{1ECAC}\\u{1ECB0}\\u{1ECB5}-\\u{1ED00}\\u{1ED2E}\\u{1ED3E}-\\u{1EDFF}\\u{1EE04}\\u{1EE20}\\u{1EE23}\\u{1EE25}\\u{1EE26}\\u{1EE28}\\u{1EE33}\\u{1EE38}\\u{1EE3A}\\u{1EE3C}-\\u{1EE41}\\u{1EE43}-\\u{1EE46}\\u{1EE48}\\u{1EE4A}\\u{1EE4C}\\u{1EE50}\\u{1EE53}\\u{1EE55}\\u{1EE56}\\u{1EE58}\\u{1EE5A}\\u{1EE5C}\\u{1EE5E}\\u{1EE60}\\u{1EE63}\\u{1EE65}\\u{1EE66}\\u{1EE6B}\\u{1EE73}\\u{1EE78}\\u{1EE7D}\\u{1EE7F}\\u{1EE8A}\\u{1EE9C}-\\u{1EEA0}\\u{1EEA4}\\u{1EEAA}\\u{1EEBC}-\\u{1F0FF}\\u{1F10D}-\\u{1FFFF}\\u{2A6D7}-\\u{2A6FF}\\u{2B735}-\\u{2B73F}\\u{2B81E}\\u{2B81F}\\u{2CEA2}-\\u{2CEAF}\\u{2EBE1}-\\u{2F7FF}\\u{2FA1E}-\\u{E00FF}\\u{E01F0}-\\u{10FFFF}]{2,}/giu\n","import React, { useState, useMemo } from 'react'\n\nimport { Link } from 'react-router-dom'\nimport { Menu, Search, Grid } from 'semantic-ui-react'\n\nimport { useObserver } from 'mobx-react'\nimport { store } from 'services/state'\n\nimport _ from 'lodash'\n\nimport ApisMenu from './ApisMenu'\nimport PageWithSidebar from 'components/PageWithSidebar'\nimport './ApiSearch.css'\nimport searchTermRegexp from 'utils/search-term-regexp'\n\nfunction prepareSearch (searchString) {\n  return Array.from(new Set(searchString.toLowerCase().match(searchTermRegexp)))\n}\n\nexport default function ApiSearch (props) {\n  const [value, setValue] = useState('')\n  const [searchQuery, setSearchQuery] = useState('')\n\n  const isLoaded = useObserver(() => store.apiList != null && store.apiList.loaded)\n\n  // Easier than building an actual search index. (And client-side text search *sucks* massively.)\n  // TODO: replace this with a customized search eventually. At the very least, the Swagger API\n  // fields shouldn't be here, and\n  const dataSet = useMemo(() => !store.apiList ? [] : [\n    ...store.apiList.apiGateway.map(({ id, apiStage: stage, swagger, usagePlan }) => ({\n      url: `/apis/${id}/${stage}`,\n      title: `${swagger.info.title} - ${stage}`,\n      stage: `${stage}`,\n      searchable: prepareSearch(`${JSON.stringify(swagger)} ${JSON.stringify(usagePlan)} ${stage}`).join(' ')\n    })),\n    ...store.apiList.generic.map(({ id, swagger, apiStage: stage }) => {\n      const api = {\n        url: `/apis/${id}`,\n        title: stage ? `${swagger.info.title} - ${stage}` : `${swagger.info.title}`,\n        searchable: prepareSearch(`${JSON.stringify(swagger)} ${stage || ''}`).join(' ')\n      }\n      if (stage) api.stage = stage\n      return api\n    })\n  ], [isLoaded]) // changed-eslint-disable-line changed-react-hooks/exhaustive-deps\n\n  const updateSearch = useMemo(() => _.debounce(setSearchQuery, 100, { leading: true }), [])\n\n  const results = useMemo(() => {\n    if (!searchQuery) return []\n    const prepared = prepareSearch(searchQuery)\n    if (!prepared.length) return prepared\n    return dataSet.filter(result => prepared.every(term => result.searchable.includes(term)))\n  }, [searchQuery, dataSet])\n\n  function handleSearchChange (e, { value }) {\n    setValue(value)\n    updateSearch(value)\n  }\n\n  return (\n    <PageWithSidebar\n      sidebarContent={<ApisMenu path={props.match} activateFirst={false} />}\n      SidebarPusherProps={{ className: 'swagger-section' }}\n    >\n      <Grid style={{ padding: '2em' }}>\n        <Grid.Column id='api-search'>\n          <Search\n            placeholder=\"Search for an API, stage, or any content in an API's definition.\"\n            onSearchChange={handleSearchChange}\n            results={results}\n            resultRenderer={(result) => (\n              <Menu.Item\n                as={Link}\n                to={result.url}\n                style={{ display: 'inline-block', width: '100%', height: '100%' }}\n              >\n                {result.title}\n              </Menu.Item>\n            )}\n            value={value}\n            {...props}\n          />\n        </Grid.Column>\n      </Grid>\n    </PageWithSidebar>\n  )\n}\n","import { apiGatewayClient } from './api'\n\nexport const submitFeedback = (message) => {\n  return apiGatewayClient()\n    .then(client => {\n      return client.post('/feedback', {}, { message }, {})\n    })\n}\n","import React from 'react'\nimport { Button, Form, Modal, TextArea, Message } from 'semantic-ui-react'\nimport { submitFeedback } from 'services/feedback'\n\nconst initialState = {\n  message: '',\n  formOpen: false,\n  feedbackSubmitted: false\n}\n\nclass Feedback extends React.PureComponent {\n  constructor (props) {\n    super(props)\n\n    this.state = initialState\n\n    this.handleOpenModal = () => {\n      this.setState({\n        formOpen: true\n      })\n    }\n\n    this.handleCloseModal = () => {\n      this.setState(initialState)\n    }\n\n    this.handleSubmit = () => {\n      const { message } = this.state\n      submitFeedback(message).then(() => {\n        this.setState({\n          feedbackSubmitted: true\n        })\n      })\n    }\n  }\n\n  render () {\n    const {\n      message,\n      formOpen,\n      feedbackSubmitted\n    } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        centered={false}\n        size='tiny'\n        open={formOpen}\n        onClose={this.handleCloseModal}\n        trigger={\n          <p\n            onClick={this.handleOpenModal}\n          >Contact us\n          </p>\n        }\n      >\n        <Modal.Header>Send us a message!</Modal.Header>\n        <Modal.Content>\n          {!feedbackSubmitted &&\n            <Form>\n              <Form.Field>\n                <TextArea value={message} onChange={(e) => this.setState({ message: e.target.value })} />\n              </Form.Field>\n              <Button type='submit' positive onClick={this.handleSubmit}>Submit</Button>\n            </Form>}\n          {feedbackSubmitted &&\n            <Message positive>\n              <p>Thanks for your Message</p>\n            </Message>}\n        </Modal.Content>\n      </Modal>\n    )\n  }\n}\n\nexport default Feedback\n","import React from 'react'\nimport { FaBars, FaUserCircle } from \"react-icons/fa\"\n// import { MdFormatAlignLeft } from 'react-icons/md'\nimport { Link, NavLink, useLocation } from 'react-router-dom'\nimport './style.css'\n// Navlogo\nimport navLogo from '../../assets/images/nav-logo.png'\nimport {\n  isAdmin,\n  isAuthenticated,\n  isRegistered,\n  logout,\n  getCognitoUrl\n} from '../../services/self'\n\n// mobx\nimport { observer } from 'mobx-react'\n\n// fragments\n// import { fragments } from '../../services/get-fragments'\nimport ContactUs from '../../components/Feedback'\n\n// services\nimport { store } from 'services/state'\n\n/* eslint-disable */\nconst Navbar = observer(({ toggle, pathname }) => {\n  const email = store.user && store.user.email\n  //assigning location variable\n    const location = useLocation();\n\n  //destructuring pathname from location\n  const { pathname: urlPathname } = location\n\n  //Javascript split method to get the name of the path in array\n  // const splitLocation = urlPathname.split(\"/\")\n  //  { (splitLocation[1] === \"admin\") || (splitLocation[1] === \"apis\") ? <div className=\"sideBarIcon\" onClick={ toggle } >\n  //          <MdFormatAlignLeft />\n  //          </div> : \"\" }\n  return (\n    <>\n      <nav className=\"main-nav\">\n        <div className=\"navbarContainer\">\n          <Link to=\"/\" className=\"navLogoWrapper\">\n            <img src={navLogo} className=\"navLogoImg\" />\n          </Link>\n          <div className=\"mobileBarIcon\" onClick={toggle}>\n            <FaBars />\n          </div>\n\n          <ul className=\"navMenu\">\n            <li className=\"navItem\">\n              <NavLink\n                activeClassName=\"active\"\n                className=\"navLink\"\n                to=\"/getting-started\"\n              >\n                Getting Started\n              </NavLink>\n            </li>\n            <li className=\"navItem\">\n              <NavLink activeClassName=\"active\" className=\"navLink\" to=\"/apis/\">\n                {\" \"}\n                APIs{\" \"}\n              </NavLink>\n            </li>\n            <li className=\"navItem\">\n              <p className=\"navLink\">{<ContactUs />}</p>\n            </li>\n          </ul>\n\n          <ul className=\"navMenu\">\n            {isAuthenticated() ? (\n              <>\n                {isAdmin() && (\n                  <li className=\"navItem\">\n                    <NavLink\n                      activeClassName=\"active\"\n                      className=\"navLink\"\n                      to=\"/admin/apis\"\n                    >\n                      Admin Panel\n                    </NavLink>\n                  </li>\n                )}\n                {isRegistered() && (\n                  <>\n                    {\" \"}\n                    <li className=\"navItem\">\n                      <NavLink\n                        activeClassName=\"active\"\n                        className=\"navLink\"\n                        to=\"/products\"\n                      >\n                        Products\n                      </NavLink>\n                    </li>\n                    <li className=\"navItem\">\n                      <span class=\"dropdown-container\">\n                        <FaUserCircle className=\"profileIcon\" size={60} />\n                        <div class=\"dropdown-content\">\n                          <NavLink\n                            activeClassName=\"active\"\n                            className=\"dropdown-link\"\n                            to=\"/dashboard\"\n                          >\n                            Dashboard\n                          </NavLink>\n                          <NavLink\n                            activeClassName=\"active\"\n                            className=\"dropdown-link\"\n                            to=\"/userProfile\"\n                          >\n                            Profile Page\n                          </NavLink>\n                        </div>\n                      </span>\n                    </li>\n                  </>\n                )}\n                <li className=\"navBtn\" onClick={logout}>\n                  <span className=\"navBtnLink isPrimary\"> Sign out </span>\n                </li>\n              </>\n            ) : (\n              <>\n                <nav className=\"navBtn\">\n                  <a className=\"navBtnLink isPrimary\" href={getCognitoUrl()}>\n                    Sign In\n                  </a>\n                </nav>\n              </>\n            )}\n          </ul>\n        </div>\n      </nav>\n    </>\n  )\n})\n\nexport default Navbar","export default \"data:image/png;base64,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8jprup9Y7krvY+U9rHxEYernT3W4Vj+cFuygP+y0fRcbpt0trmkhhJbieONvl6HQMzQELMvfx5MNxsL8f+Lff4UQ/rf3b4gQAgC4YU4IAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAbgghAIAbQggA4IYQAgC4IYQAAG4IIQCAG0IIAOCGEAIAuCGEAABuCCEAgBtCCADghhACALghhAAAPkII/wcUy7QfAqdaMQAAAABJRU5ErkJggg==\"","import React from 'react'\r\nimport { FaTimes } from 'react-icons/fa'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.css'\r\nimport {\r\n  isAdmin,\r\n  isAuthenticated,\r\n  isRegistered,\r\n  logout,\r\n  getLoginRedirectUrl\r\n} from '../../services/self'\r\n\r\nimport { cognitoDomain, cognitoClientId } from '../../services/api'\r\n\r\n// mobx\r\nimport { observer } from 'mobx-react'\r\n\r\n// services\r\nimport { store } from 'services/state'\r\n\r\n// fragments\r\nimport { fragments } from '../../services/get-fragments'\r\n\r\nfunction getCognitoUrl () {\r\n  const redirectUri = getLoginRedirectUrl()\r\n  return `${cognitoDomain}/login?response_type=token&client_id=${cognitoClientId}&redirect_uri=${redirectUri}`\r\n}\r\n/* eslint-disable */\r\n\r\n\r\nconst Sidebar = observer(({isOpen, toggle}) => {\r\n  const email = store.user && store.user.email\r\n  return (\r\n    <aside className= \"sidebarContainer\" onClick={ toggle } style={ isOpen ? { opacity: '100%', top: '0'} : { opacity: '0', top: '-100%'}}>\r\n      <div className=\"Icon\" onClick= { toggle }>\r\n        <FaTimes className=\"closeIcon\" />\r\n      </div>\r\n      <div className= \"sidebarWrapper\">\r\n        <ul className=\"sidebarMenu\">\r\n          <Link className=\"sidebarLink\" to= \"/\">Home</Link>\r\n          <Link className=\"sidebarLink\" to= \"/getting-started\">{fragments.GettingStarted.title}</Link>\r\n          <Link className=\"sidebarLink\" to= \"/apis\"> {fragments.APIs.title} </Link>\r\n           { isAuthenticated() ? <>\r\n          { isAdmin() && \r\n              <Link className= \"sidebarLink\" to=\"admin/apis\">Admin Panel</Link> }\r\n          { isRegistered() && <>\r\n              <Link className= \"sidebarLink\" to=\"/products\">Products</Link>\r\n              <Link className= \"sidebarLink\" to=\"/dashboard\">My Dashboard</Link> </>}\r\n              <div className= \"sidebarAcc\" onClick={ logout }>\r\n               {email && <span>\r\n                {email}<br />\r\n                </span>}\r\n                <span>\r\n                  Sign out\r\n                </span>\r\n            </div>\r\n          </> : <>\r\n             <div className=\"sideBtnWrap\">\r\n                <a className=\"sidebarRoute\" href={ getCognitoUrl()}> Sign In</a>\r\n             </div>\r\n          </>}\r\n        </ul>\r\n      </div>\r\n    </aside>\r\n  )\r\n})\r\n\r\nexport default Sidebar\r\n","import React, { useMemo, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport './style.css'\n\n// semantic-ui\n// import { Container, Card, Divider } from 'semantic-ui-react'\n\n// store\nimport { useObserver } from 'mobx-react'\nimport { store } from 'services/state'\n\n// utilities\nimport _ from 'lodash'\nimport {\n  isRegistered,\n  getLoginRedirectUrl\n} from '../../services/self'\nimport { cognitoDomain, cognitoClientId } from '../../services/api'\nimport { updateUsagePlansAndApisList } from '../../services/api-catalog'\n\nfunction getCognitoUrl (type) {\n  const redirectUri = getLoginRedirectUrl()\n  return `${cognitoDomain}/${type}?response_type=token&client_id=${cognitoClientId}&redirect_uri=${redirectUri}`\n}\n\nfunction getApisCustom () {\n  const apiList = [].concat(_.get(store, 'apiList.generic', []), _.get(store, 'apiList.apiGateway', [])).map(api => ({\n    group: api.apiId || api.id,\n    id: api.apiStage || api.id,\n    description: api.swagger.info.description,\n    title: api.swagger.info.title,\n    route: `/apis/${api.id}` + (api.apiStage ? '/' + api.apiStage : ''),\n    stage: api.apiStage\n  }))\n  return apiList\n}\ngetApisCustom()\n\nexport function getApi (cacheBust = false) {\n  return updateUsagePlansAndApisList(cacheBust)\n    .then(() => {\n      // let thisApi\n\n      const allApis = [].concat(store.apiList.apiGateway, store.apiList.generic)\n\n      // if (allApis.length) {\n      //   if (apiId === 'ANY' || apiId === 'FIRST') {\n      //     thisApi = allApis[0]\n      //   } else {\n      //     thisApi = allApis.find(api => (api.apiId === apiId && api.apiStage === stage))\n\n      //     if (!thisApi) {\n      //       thisApi = allApis.find(api => (api.id.toString() === apiId))\n      //     }\n      //   }\n      // }\n      // if (selectIt) store.api = thisApi\n      return allApis\n    })\n}\n\nexport default function ApiListItem () {\n  const isLoaded = useObserver(() => store.apiList != null && store.apiList.loaded)\n  const dataSet = useMemo(() => !store.apiList ? [] : [\n    ...store.apiList.apiGateway.map(({ id, apiStage: stage, swagger, usagePlan }) => ({\n      url: `/apis/${id}/${stage}`,\n      title: `${swagger.info.title} - ${stage}`,\n      stage: `${stage}`,\n      description: swagger.info.description ? `${swagger.info.description}` : ''\n    })),\n    ...store.apiList.generic.map(({ id, swagger, apiStage: stage }) => {\n      const api = {\n        url: `/apis/${id}`,\n        title: stage ? `${swagger.info.title} - ${stage}` : `${swagger.info.title}`,\n        description: swagger.info.description ? `${swagger.info.description}` : ''\n      }\n      if (stage) api.stage = stage\n      return api\n    })\n  ], [isLoaded]) // changed-eslint-disable-line chNGED-react-hooks/exhaustive-deps\n\n  const [searchField, setSearchField] = useState('')\n  const filteredApiList = dataSet.filter(api => api.title.toLowerCase().includes(searchField))\n\n  const apiList = filteredApiList.map(api => (\n    <Link to= {isRegistered() ? api.url : getCognitoUrl('login') } class=\"data-card\" key= {api.id }>\n      <h3>{api.title}</h3>\n      <h4>stage: {api.stage}</h4>\n      <p>{api.description.slice(0, 150).concat('...')}</p>\n      <span class=\"link-text\">\n        View API\n        <svg width=\"25\" height=\"16\" viewBox=\"0 0 25 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17.8631 0.929124L24.2271 7.29308C24.6176 7.68361 24.6176 8.31677 24.2271 8.7073L17.8631 15.0713C17.4726 15.4618 16.8394 15.4618 16.4489 15.0713C16.0584 14.6807 16.0584 14.0476 16.4489 13.657L21.1058 9.00019H0.47998V7.00019H21.1058L16.4489 2.34334C16.0584 1.95281 16.0584 1.31965 16.4489 0.929124C16.8394 0.538599 17.4726 0.538599 17.8631 0.929124Z\" fill=\"#01bf71\"/>\n        </svg>\n      </span>\n    </Link>\n  ))\n\n  return (\n    <section className=\"api-wrapper\">\n      <div className=\"search__container\">\n        <p className=\"search__title\">\n       Search API List...\n        </p>\n        <input\n          className=\"search__input\"\n          type=\"text\"\n          placeholder=\"Search API...\"\n          onChange={ e => setSearchField(e.target.value)}\n        />\n      </div>\n      <div className=\"card__group\">\n        {apiList}\n      </div>\n    </section>\n  )\n}\n","import React, { useState } from \"react\"\nimport { Form, Button } from \"semantic-ui-react\"\n\nconst mnoLocationOptions = [\n  { key: \"Cz\", text: \"Czech Republic\", value: \"Czech_Republic\" },\n  { key: \"Gr\", text: \"Greece\", value: \"Greece\" },\n  { key: \"Hg\", text: \"Hungary\", value: \"Hungary\" },\n  { key: \"It\", text: \"Italy\", value: \"Italy\" },\n  { key: \"Pt\", text: \"Portugal\", value: \"Portugal\" },\n  { key: \"Rm\", text: \"Romania\", value: \"Romania\" },\n  { key: \"Sp\", text: \"Spain\", value: \"Spain\" },\n  { key: \"Uk\", text: \"United Kingdom\", value: \"United_Kingdom\" },\n]\n\nconst mnoOptions = [\n  {\n    key: \"Ot\",\n    text: \"One Telecommunications\",\n    value: \"One Telecommunications\",\n  },\n  { key: \"Or\", text: \"Orange\", value: \"Orange\" },\n  { key: \"Te\", text: \"Telefónica\", value: \"Telefónica\" },\n  { key: \"Vd\", text: \"Vodafone\", value: \"Vodafone\" },\n]\n\nfunction EditUserForm() {\n  // state for callBackUrl\n  const [formImages, setFormImages] = useState({\n    profileImage: \"\",\n    AuthCertificate: \"\",\n  })\n  const convertToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader()\n      fileReader.readAsDataURL(file)\n      fileReader.onload = () => {\n        resolve(fileReader.result)\n      }\n      fileReader.onerror = (error) => {\n        reject(error)\n      }\n    })\n  }\n\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0]\n    const name = e.target.name\n    const base64 = await convertToBase64(file)\n    setFormImages({ ...formImages, [name]: base64 })\n  }\n  // const handleFileUpload = (evt) => {\n  //   let files = evt.target.files;\n  //   let name = evt.target.name;\n  //   let reader = new FileReader();\n  //   reader.readAsDataURL(files[0]);\n\n  //   reader.onload = (e) => {\n  //     setFormImages({ ...formImages, [name]: e.target.result });\n  //     console.log(formImages)\n  //   };\n  // };\n  const [authType, setAuthType] = useState(\"\")\n  const [values, setValues] = useState({\n    type: \"\",\n    targetEmailAddress: \"\",\n    targetPhoneNumber: \"\",\n    targetFirstName: \"\",\n    targetLastName: \"\",\n    targetApiKeyDuration: \"\",\n    targetMnoLocation: \"\",\n    targetCallBackAuth: \"\",\n    targetMno: \"\",\n    targetMfa: \"\",\n    targetCallBackUrl: \"\",\n  })\n  const createUserData = (data) => {\n    let dataMfa = data.targetMfa === \"yes\" ? true : false\n    switch (data.type) {\n      case \"apiKey\":\n        return {\n          type: \"apiKey\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: data.AuthApi,\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        }\n      case \"basicAuth\":\n        return {\n          type: \"basicAuth\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: {\n            username: data.AuthUsername,\n            password: data.AuthPassword,\n          },\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        }\n      case \"privateCertificate\":\n        return {\n          type: \"privateCertificate\",\n          targetEmailAddress: data.targetEmailAddress,\n          targetPhoneNumber: data.targetPhoneNumber,\n          targetFirstName: data.targetFirstName,\n          targetLastName: data.targetLastName,\n          targetApiKeyDuration: data.targetApiKeyDuration,\n          targetMnoLocation: data.targetMnoLocation,\n          targetCallBackAuth: formImages.AuthCertificate,\n          targetMno: data.targetMno,\n          targetMfa: dataMfa,\n          targetCallBackUrl: data.targetCallBackUrl,\n        }\n      default:\n        return null\n    }\n  }\n  const handleAuthType = (e, { value }) => {\n    setAuthType(value)\n    setValues({ ...values, type: value })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    console.log(createUserData(values))\n  }\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value })\n  }\n  return (\n    <div>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label>First Name</label>\n            <input\n              placeholder=\"First Name\"\n              type=\"text\"\n              name=\"targetFirstName\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Last Name</label>\n            <input\n              placeholder=\"Last Name\"\n              type=\"text\"\n              name=\"targetLastName\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n        </Form.Group>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label> Email Address </label>\n            <input\n              placeholder=\"Email address\"\n              type=\"email\"\n              name=\"targetEmailAddress\"\n              onChange={handleChange}\n              pattern=\"^[\\w.!#$%&'*+/=?^`{|}~-]+@[^_\\W]([a-z\\d-]{0,61}[^_\\W])?(\\.[^_\\W]([a-z\\d-]{0,61}[^_\\W])?)*$\"\n              disabled\n            />\n          </Form.Field>\n          <Form.Field>\n            <label> Enable MFA?</label>\n            <label htmlFor=\"enable mfa\" inline=\"true\">\n              <input\n                type=\"radio\"\n                name=\"targetMfa\"\n                value=\"yes\"\n                checked={values.targetMfa === \"yes\"}\n                id=\"mfa-yes\"\n                onChange={handleChange}\n              />\n              Yes\n            </label>\n            <label htmlFor=\"enable mfa\" inline=\"true\">\n              <input\n                type=\"radio\"\n                name=\"targetMfa\"\n                value=\"no\"\n                checked={values.targetMfa === \"no\"}\n                id=\"mfa-no\"\n                onChange={handleChange}\n              />\n              No\n            </label>\n          </Form.Field>\n        </Form.Group>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label> Phone Number</label>\n            <input\n              type=\"tel\"\n              placeholder=\"Phone Number\"\n              name=\"targetPhoneNumber\"\n              pattern=\"^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\s\\./0-9]{8,14}$\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Profile Image</label>\n            <input\n              type=\"file\"\n              name=\"profileImage\"\n              accept=\"image/png, image/gif, image/jpeg\"\n              onChange={(e) => handleFileUpload(e)}\n            />\n          </Form.Field>\n        </Form.Group>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label htmlFor=\"mnoOptions\"> Select MNO... </label>\n            <select\n              name=\"targetMno\"\n              id=\"mnoOptions\"\n              onChange={handleChange}\n              required\n            >\n              {mnoOptions.map(({ key, text, value }) => (\n                <option key={key} value={value}>\n                  {text}\n                </option>\n              ))}\n            </select>\n          </Form.Field>\n\n          <Form.Field>\n            <label htmlFor=\"mnoLocation\"> Select MNO location... </label>\n            <select\n              name=\"targetMnoLocation\"\n              id=\"mnoLocation\"\n              onChange={handleChange}\n              required\n            >\n              {mnoLocationOptions.map(({ key, text, value }) => (\n                <option key={key} value={value}>\n                  {text}\n                </option>\n              ))}\n            </select>\n          </Form.Field>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Field width={11}>\n            <label htmlFor=\"callback\">Enter Callback URL:</label>\n            <input\n              id=\"callback\"\n              type=\"text\"\n              placeholder=\"https://www.\"\n              name=\"targetCallBackUrl\"\n              onChange={handleChange}\n              pattern=\"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\"\n              required\n            />\n          </Form.Field>\n          <Form.Field width={3}>\n            <label htmlFor=\"\">API Key Duration</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              max=\"90\"\n              onChange={handleChange}\n              placeholder=\"Enter API Key Duration\"\n              name=\"targetApiKeyDuration\"\n              required\n            />\n            <span inline=\"true\">Days</span>\n          </Form.Field>\n        </Form.Group>\n        <Form.Group inline>\n          <label> Select Callback Auth Type</label>\n          <Form.Radio\n            label=\"Api key\"\n            value=\"apiKey\"\n            checked={authType === \"apiKey\"}\n            onChange={handleAuthType}\n            name=\"type\"\n          />\n          <Form.Radio\n            label=\"Basic Auth\"\n            value=\"basicAuth\"\n            checked={authType === \"basicAuth\"}\n            onChange={handleAuthType}\n            name=\"type\"\n          />\n          <Form.Radio\n            label=\"Private certificate\"\n            value=\"privateCertificate\"\n            checked={authType === \"privateCertificate\"}\n            onChange={handleAuthType}\n            name=\"type\"\n          />\n        </Form.Group>\n        {(() => {\n          switch (authType) {\n            case \"apiKey\":\n              return (\n                <Form.Group widths=\"equal\">\n                  <Form.Input\n                    fluid\n                    label=\"Auth Credential Content\"\n                    placeholder=\"Auth Credential Content\"\n                    name=\"AuthApi\"\n                    required\n                  />\n                </Form.Group>\n              )\n            case \"basicAuth\":\n              return (\n                <Form.Group widths=\"equal\">\n                  <Form.Field fluid=\"true\">\n                    <label>Auth username</label>\n                    <input\n                      placeholder=\"Auth username\"\n                      type=\"text\"\n                      name=\"AuthUsername\"\n                      required\n                      onChange={handleChange}\n                    />\n                  </Form.Field>\n\n                  <Form.Field fluid=\"true\">\n                    <label>Auth password</label>\n                    <input\n                      placeholder=\"Last Name\"\n                      type=\"password\"\n                      name=\"AuthPassword\"\n                      required\n                      onChange={handleChange}\n                    />\n                  </Form.Field>\n                </Form.Group>\n              )\n            case \"privateCertificate\":\n              return (\n                <Form.Field>\n                  <label>Upload private certificate</label>\n                  <input\n                    type=\"file\"\n                    name=\"AuthCertificate\"\n                    accept=\"text/*\"\n                    required\n                    onChange={(e) => handleFileUpload(e)}\n                  />\n                </Form.Field>\n              )\n            default:\n              return null\n          }\n        })()}\n        {/* <Button positive type=\"submit\">\n          Submit\n        </Button> */}\n      </Form>\n    </div>\n  )\n}\n\nexport default EditUserForm\n","import React, { useState, useEffect, useRef } from \"react\"\nimport { Dimmer, Loader  } from \"semantic-ui-react\"\n// mobx\nimport { observer } from 'mobx-react'\nimport {\n  Icon,\n  Grid,\n  Header,\n  Modal,\n  Button,\n  Segment,\n  Container,\n} from \"semantic-ui-react\"\nimport EditUserForm from \"../componentsNew/EditUserForm\"\nimport { store } from \"services/state\"\nimport _ from \"lodash\"\nimport * as AccountService from \"services/accounts\"\n\nconst UserProfile = observer(() => {\n  const [open, setOpen] = useState(false)\n  const [user, setUser] = useState({})\n  const [keyVisible, setKeyVisible] = useState(false)\n  const [copySuccess, setCopySuccess] = useState(false)\n  const [allAccounts, setAllAccounts] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [selectedAccount, setSelectedAccount] = useState(undefined)\n\n  const refreshAccounts = () => \n    AccountService.fetchRegisteredAccounts().then((accounts) => {\n        setLoading(true)\n        const userEmail = _.get(store, \"user.email\")\n      //console.log(\"userEmail\", userEmail)\n      setAllAccounts(_.map(accounts))\n      //console.log(\"accounts\", accounts) \n      accounts.forEach((account) => {\n        if (account.EmailAddress === userEmail) {\n          setSelectedAccount(account)\n        //   console.log(\"store\", store)\n        //   console.log(\"store email\", store.user.email)\n        //   console.log(\"selectedAccount\", selectedAccount)\n        }\n      })\n    })\n\n\n\n  // Initial load\n  useEffect(() => {\n    refreshAccounts().finally(() => {\n        setLoading(false)\n        //console.log(\"allAccounts\", allAccounts)\n    })\n  }, [])\n//   let userEmail = store.user.email\n//   console.log(\"all accounts\", allAccounts)\n//   user = allAccounts.find((account) => account.EmailAddress === userEmail)\n//   console.log(\"user\", user)\n\n\n  const handleKeyVisible = () => {\n    setKeyVisible(!keyVisible)\n  }\n  const handleKeyCopy = () => {\n    navigator.clipboard.writeText(store.apiKey)\n    setCopySuccess(true)\n    setTimeout(() => {\n      setCopySuccess(false)\n    }, 2000)\n  }\n\n  //   useEffect(() => {\n  //     let mounted = true\n  //     getList().then((items) => {\n  //       if (mounted) {\n  //         setList(items)\n  //       }\n  //     })\n  //     return () => (mounted = false)\n  //   }, [])\n\n  return (\n    <div>\n      <Container>\n        <div style={{ padding: \"20px 0 0 50px\" }}>\n          <Header as=\"h3\" textAlign=\"left\">\n            <Icon name=\"settings\" />\n            <Header.Content>\n              Account Settings \n              <Header.Subheader>Manage your preferences</Header.Subheader>\n            \n            </Header.Content>\n          </Header>\n        </div>\n        {loading ? ( <Dimmer active inverted>\n        <Loader size='large'>Loading...</Loader>\n      </Dimmer>) : (\n        <Segment color=\"green\">\n          <Grid textAlign=\"center\">\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Header size=\"small\">First Name:</Header>\n                <p>{selectedAccount.FirstName ? selectedAccount.FirstName : \"Fabio\"}</p>\n              </Grid.Column>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Last Name:</Header>\n                <p>{selectedAccount.LastName ? selectedAccount.LastName : \"Santos\"}</p>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Enabled MFA:</Header>\n                <p>{selectedAccount.Mfa ? selectedAccount.Mfa : \"False\"}</p>\n              </Grid.Column>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Phone Number:</Header>\n                <p>{selectedAccount.PhoneNumber ? selectedAccount.PhoneNumber : \"+1234567890\"}</p>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Email Address:</Header>\n                <p>{selectedAccount.EmailAddress ? selectedAccount.EmailAddress : \"fabio.santos@outscope.com\"}</p>\n              </Grid.Column>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Key Duration:</Header>\n                <p>{selectedAccount.ApiKeyDuration? selectedAccount.ApiKeyDuration : \"90 Days\"}</p>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Header size=\"small\">API Key ID:</Header>\n                <p>{selectedAccount.ApiKeyId? selectedAccount.ApiKeyId : \"pibiady3nl\"}</p>\n              </Grid.Column>\n              <Grid.Column width={8}>\n                <Header size=\"small\">API Key Secret:</Header>\n                <div>\n                  <p>{keyVisible ? store.apiKey : <b>******************</b>}</p>\n                  <Icon\n                    name=\"eye slash outline\"\n                    style={{ cursor: \"pointer\" }}\n                    onClick={handleKeyVisible}\n                  />\n                  <Icon\n                    name=\"copy\"\n                    onClick={handleKeyCopy}\n                    style={{ cursor: \"pointer\", color: \"#058052\" }}\n                  />\n                  {copySuccess ? (\n                    <span style={{ color: \"#01bf71\" }}>\n                      <b>Success!</b>\n                    </span>\n                  ) : null}\n                </div>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Header size=\"small\">MNO:</Header>\n                <p>{selectedAccount.Mno ? selectedAccount.Mno : \"Vodafone\"}</p>\n              </Grid.Column>\n              <Grid.Column width={8}>\n                <Header size=\"small\">MNO Location:</Header>\n                <p>{selectedAccount.MnoLocation ? selectedAccount.MnoLocation : \"Portugal\"}</p>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Callback URL</Header>\n                <p>{selectedAccount.CallBackUrl ? selectedAccount.CallBackUrl : \"https://outscope.com\"}</p>\n              </Grid.Column>\n              <Grid.Column width={8}>\n                <Header size=\"small\">Callback Type:</Header>\n                <p>{selectedAccount.Type ? selectedAccount.Type : \"Api Key\"}</p>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </Segment>) }\n        <div style={{ textAlign: \"right\" }}>\n          <Modal\n            onClose={() => setOpen(false)}\n            onOpen={() => setOpen(true)}\n            open={open}\n            trigger={<Button>Edit Profile</Button>}\n          >\n            <Modal.Header>Edit Profile</Modal.Header>\n            <Modal.Content>\n              <Modal.Description>\n                <p style={{ padding: \"10px\" }}>\n                  You can update your Key, Phone Number, MNO options, Callback\n                  Url and other available fields.\n                </p>\n              </Modal.Description>\n              <EditUserForm />\n            </Modal.Content>\n            <Modal.Actions>\n              <Button color=\"black\" onClick={() => setOpen(false)}>\n                Cancel\n              </Button>\n              <Button\n                content=\"Yes, update\"\n                labelPosition=\"right\"\n                icon=\"checkmark\"\n                onClick={() => setOpen(false)}\n                positive\n              />\n            </Modal.Actions>\n          </Modal>\n        </div>\n      </Container>\n    </div>\n  )\n})\n\nexport default UserProfile\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport * as queryString from 'query-string'\n\n// content-fragments\nimport { loadFragments } from 'services/get-fragments'\n\n// semantic-ui\nimport 'semantic-ui-css/semantic.css'\n\n// pages\nimport Home from 'pages/Home'\nimport GettingStarted from 'pages/GettingStarted'\nimport Dashboard from 'pages/Dashboard'\nimport Apis from 'pages/Apis'\nimport { Admin } from 'pages/Admin'\n\n// components\nimport AlertPopup from 'components/AlertPopup'\nimport GlobalModal from 'components/Modal'\n// import NavBar from 'components/NavBar'\nimport ApiSearch from './components/ApiSearch'\n// New components\nimport NavBar from './componentsNew/NavBar'\nimport MobileNav from './componentsNew/Sidebar'\nimport ApiListItem from './componentsNew/ApiListItem'\n\nimport { isAdmin, isRegistered, init, login, logout } from 'services/self'\nimport './index.css'\nimport UserProfile from 'pages/UserProfile'\n\nloadFragments()\n\nexport const RegisteredRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props => (\n      isRegistered()\n        ? <Component {...props} />\n        : <Redirect to='/' />\n    )}\n  />\n)\n\nexport const AdminRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest} render={props => (\n      isAdmin()\n        ? <Component {...props} />\n        : <Redirect to='/' />\n    )}\n  />\n)\n\n// To shut up a dev warning\nconst HomeWrap = props => <Home {...props} />\nconst GettingStartedWrap = props => <GettingStarted {...props} />\nconst DashboardWrap = props => <Dashboard {...props} />\n\nconst App = () => {\n  init()\n  // We are using an S3 redirect rule to prefix the url path with #!\n  // This then converts it back to a URL path for React routing\n  if (window.location.hash && window.location.hash[1] === '!') {\n    const hashRoute = window.location.hash.substring(2)\n    window.history.pushState({}, 'home page', hashRoute)\n  }\n  const [isOpen, setIsOpen] = useState(false)\n  const toggle = () => {\n    setIsOpen(!isOpen)\n  }\n\n  return (\n    <BrowserRouter>\n      <>\n        <MobileNav isOpen={isOpen} toggle={toggle} />\n        <NavBar toggle={toggle} />\n        <GlobalModal />\n        <Switch>\n          <Route exact path=\"/\" component={HomeWrap} />\n          <Route\n            exact\n            path=\"/index.html\"\n            component={() => {\n              const { action } = queryString.parse(window.location.search)\n              if (action === \"login\") {\n                login()\n              } else if (action === \"logout\") {\n                logout()\n              }\n              return <Redirect to=\"/\" />\n            }}\n          />\n          <Route path=\"/getting-started\" component={GettingStartedWrap} />\n          <RegisteredRoute path=\"/dashboard\" component={DashboardWrap} />\n          <AdminRoute path=\"/admin\" component={Admin} />\n          <Route exact path=\"/apis\" component={Apis} />\n          <Route exact path=\"/products\" component={ApiListItem} />\n          <Route exact path=\"/apis/search\" component={ApiSearch} />\n          <Route exact path=\"/apis/:apiId\" component={Apis} />\n          <Route path=\"/apis/:apiId/:stage\" component={Apis} />\n          <Route path=\"/userProfile\" component={UserProfile} />\n          <Route\n            path=\"/login\"\n            render={() => {\n              login()\n              return <Redirect to=\"/\" />\n            }}\n          />\n          <Route\n            path=\"/logout\"\n            render={() => {\n              logout()\n              return <Redirect to=\"/\" />\n            }}\n          />\n          <Route component={() => <h2>Page not found</h2>} />\n        </Switch>\n        <AlertPopup />\n      </>\n    </BrowserRouter>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"AccountsTable_headerRow__miKSu\"};"],"sourceRoot":""}